(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function mS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $d={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function pS(){if(nv)return Al;nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=t,Al.jsx=n,Al.jsxs=n,Al}var iv;function gS(){return iv||(iv=1,$d.exports=pS()),$d.exports}var it=gS(),Xd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function yS(){if(rv)return Rt;rv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,F={};function L(N,nt,ut){this.props=N,this.context=nt,this.refs=F,this.updater=ut||P}L.prototype.isReactComponent={},L.prototype.setState=function(N,nt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,nt,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Q(){}Q.prototype=L.prototype;function $(N,nt,ut){this.props=N,this.context=nt,this.refs=F,this.updater=ut||P}var K=$.prototype=new Q;K.constructor=$,M(K,L.prototype),K.isPureReactComponent=!0;var rt=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},mt=Object.prototype.hasOwnProperty;function C(N,nt,ut,at,yt,Dt){return ut=Dt.ref,{$$typeof:r,type:N,key:nt,ref:ut!==void 0?ut:null,props:Dt}}function S(N,nt){return C(N.type,nt,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var nt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ut){return nt[ut]})}var V=/\/+/g;function k(N,nt){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):nt.toString(36)}function D(){}function be(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(nt){N.status==="pending"&&(N.status="fulfilled",N.value=nt)},function(nt){N.status==="pending"&&(N.status="rejected",N.reason=nt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ee(N,nt,ut,at,yt){var Dt=typeof N;(Dt==="undefined"||Dt==="boolean")&&(N=null);var At=!1;if(N===null)At=!0;else switch(Dt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(N.$$typeof){case r:case t:At=!0;break;case E:return At=N._init,ee(At(N._payload),nt,ut,at,yt)}}if(At)return yt=yt(N),At=at===""?"."+k(N,0):at,rt(yt)?(ut="",At!=null&&(ut=At.replace(V,"$&/")+"/"),ee(yt,nt,ut,"",function(Kn){return Kn})):yt!=null&&(R(yt)&&(yt=S(yt,ut+(yt.key==null||N&&N.key===yt.key?"":(""+yt.key).replace(V,"$&/")+"/")+At)),nt.push(yt)),1;At=0;var Oe=at===""?".":at+":";if(rt(N))for(var Jt=0;Jt<N.length;Jt++)at=N[Jt],Dt=Oe+k(at,Jt),At+=ee(at,nt,ut,Dt,yt);else if(Jt=w(N),typeof Jt=="function")for(N=Jt.call(N),Jt=0;!(at=N.next()).done;)at=at.value,Dt=Oe+k(at,Jt++),At+=ee(at,nt,ut,Dt,yt);else if(Dt==="object"){if(typeof N.then=="function")return ee(be(N),nt,ut,at,yt);throw nt=String(N),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return At}function X(N,nt,ut){if(N==null)return N;var at=[],yt=0;return ee(N,at,"","",function(Dt){return nt.call(ut,Dt,yt++)}),at}function ot(N){if(N._status===-1){var nt=N._result;nt=nt(),nt.then(function(ut){(N._status===0||N._status===-1)&&(N._status=1,N._result=ut)},function(ut){(N._status===0||N._status===-1)&&(N._status=2,N._result=ut)}),N._status===-1&&(N._status=0,N._result=nt)}if(N._status===1)return N._result.default;throw N._result}var dt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function jt(){}return Rt.Children={map:X,forEach:function(N,nt,ut){X(N,function(){nt.apply(this,arguments)},ut)},count:function(N){var nt=0;return X(N,function(){nt++}),nt},toArray:function(N){return X(N,function(nt){return nt})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Rt.Component=L,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=$,Rt.StrictMode=a,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return lt.H.useMemoCache(N)}},Rt.cache=function(N){return function(){return N.apply(null,arguments)}},Rt.cloneElement=function(N,nt,ut){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=M({},N.props),yt=N.key,Dt=void 0;if(nt!=null)for(At in nt.ref!==void 0&&(Dt=void 0),nt.key!==void 0&&(yt=""+nt.key),nt)!mt.call(nt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&nt.ref===void 0||(at[At]=nt[At]);var At=arguments.length-2;if(At===1)at.children=ut;else if(1<At){for(var Oe=Array(At),Jt=0;Jt<At;Jt++)Oe[Jt]=arguments[Jt+2];at.children=Oe}return C(N.type,yt,void 0,void 0,Dt,at)},Rt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Rt.createElement=function(N,nt,ut){var at,yt={},Dt=null;if(nt!=null)for(at in nt.key!==void 0&&(Dt=""+nt.key),nt)mt.call(nt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=nt[at]);var At=arguments.length-2;if(At===1)yt.children=ut;else if(1<At){for(var Oe=Array(At),Jt=0;Jt<At;Jt++)Oe[Jt]=arguments[Jt+2];yt.children=Oe}if(N&&N.defaultProps)for(at in At=N.defaultProps,At)yt[at]===void 0&&(yt[at]=At[at]);return C(N,Dt,void 0,void 0,null,yt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(N){return{$$typeof:m,render:N}},Rt.isValidElement=R,Rt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ot}},Rt.memo=function(N,nt){return{$$typeof:y,type:N,compare:nt===void 0?null:nt}},Rt.startTransition=function(N){var nt=lt.T,ut={};lt.T=ut;try{var at=N(),yt=lt.S;yt!==null&&yt(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(jt,dt)}catch(Dt){dt(Dt)}finally{lt.T=nt}},Rt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Rt.use=function(N){return lt.H.use(N)},Rt.useActionState=function(N,nt,ut){return lt.H.useActionState(N,nt,ut)},Rt.useCallback=function(N,nt){return lt.H.useCallback(N,nt)},Rt.useContext=function(N){return lt.H.useContext(N)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(N,nt){return lt.H.useDeferredValue(N,nt)},Rt.useEffect=function(N,nt,ut){var at=lt.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(N,nt)},Rt.useId=function(){return lt.H.useId()},Rt.useImperativeHandle=function(N,nt,ut){return lt.H.useImperativeHandle(N,nt,ut)},Rt.useInsertionEffect=function(N,nt){return lt.H.useInsertionEffect(N,nt)},Rt.useLayoutEffect=function(N,nt){return lt.H.useLayoutEffect(N,nt)},Rt.useMemo=function(N,nt){return lt.H.useMemo(N,nt)},Rt.useOptimistic=function(N,nt){return lt.H.useOptimistic(N,nt)},Rt.useReducer=function(N,nt,ut){return lt.H.useReducer(N,nt,ut)},Rt.useRef=function(N){return lt.H.useRef(N)},Rt.useState=function(N){return lt.H.useState(N)},Rt.useSyncExternalStore=function(N,nt,ut){return lt.H.useSyncExternalStore(N,nt,ut)},Rt.useTransition=function(){return lt.H.useTransition()},Rt.version="19.1.0",Rt}var av;function Qm(){return av||(av=1,Xd.exports=yS()),Xd.exports}var q=Qm();const ie=mS(q);var Wd={exports:{}},Sl={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function _S(){return sv||(sv=1,function(r){function t(X,ot){var dt=X.length;X.push(ot);t:for(;0<dt;){var jt=dt-1>>>1,N=X[jt];if(0<o(N,ot))X[jt]=ot,X[dt]=N,dt=jt;else break t}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ot=X[0],dt=X.pop();if(dt!==ot){X[0]=dt;t:for(var jt=0,N=X.length,nt=N>>>1;jt<nt;){var ut=2*(jt+1)-1,at=X[ut],yt=ut+1,Dt=X[yt];if(0>o(at,dt))yt<N&&0>o(Dt,at)?(X[jt]=Dt,X[yt]=dt,jt=yt):(X[jt]=at,X[ut]=dt,jt=ut);else if(yt<N&&0>o(Dt,dt))X[jt]=Dt,X[yt]=dt,jt=yt;else break t}}return ot}function o(X,ot){var dt=X.sortIndex-ot.sortIndex;return dt!==0?dt:X.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,A=null,w=3,P=!1,M=!1,F=!1,L=!1,Q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function rt(X){for(var ot=n(y);ot!==null;){if(ot.callback===null)a(y);else if(ot.startTime<=X)a(y),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=n(y)}}function lt(X){if(F=!1,rt(X),!M)if(n(p)!==null)M=!0,mt||(mt=!0,k());else{var ot=n(y);ot!==null&&ee(lt,ot.startTime-X)}}var mt=!1,C=-1,S=5,R=-1;function O(){return L?!0:!(r.unstable_now()-R<S)}function V(){if(L=!1,mt){var X=r.unstable_now();R=X;var ot=!0;try{t:{M=!1,F&&(F=!1,$(C),C=-1),P=!0;var dt=w;try{e:{for(rt(X),A=n(p);A!==null&&!(A.expirationTime>X&&O());){var jt=A.callback;if(typeof jt=="function"){A.callback=null,w=A.priorityLevel;var N=jt(A.expirationTime<=X);if(X=r.unstable_now(),typeof N=="function"){A.callback=N,rt(X),ot=!0;break e}A===n(p)&&a(p),rt(X)}else a(p);A=n(p)}if(A!==null)ot=!0;else{var nt=n(y);nt!==null&&ee(lt,nt.startTime-X),ot=!1}}break t}finally{A=null,w=dt,P=!1}ot=void 0}}finally{ot?k():mt=!1}}}var k;if(typeof K=="function")k=function(){K(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,be=D.port2;D.port1.onmessage=V,k=function(){be.postMessage(null)}}else k=function(){Q(V,0)};function ee(X,ot){C=Q(function(){X(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ot=3;break;default:ot=w}var dt=w;w=ot;try{return X()}finally{w=dt}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var dt=w;w=X;try{return ot()}finally{w=dt}},r.unstable_scheduleCallback=function(X,ot,dt){var jt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?jt+dt:jt):dt=jt,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=dt+N,X={id:E++,callback:ot,priorityLevel:X,startTime:dt,expirationTime:N,sortIndex:-1},dt>jt?(X.sortIndex=dt,t(y,X),n(p)===null&&X===n(y)&&(F?($(C),C=-1):F=!0,ee(lt,dt-jt))):(X.sortIndex=N,t(p,X),M||P||(M=!0,mt||(mt=!0,k()))),X},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(X){var ot=w;return function(){var dt=w;w=ot;try{return X.apply(this,arguments)}finally{w=dt}}}}(Jd)),Jd}var ov;function vS(){return ov||(ov=1,Zd.exports=_S()),Zd.exports}var tm={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function ES(){if(lv)return Qe;lv=1;var r=Qm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},Qe.flushSync=function(p){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=y,a.p=E,a.d.f()}},Qe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},Qe.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Qe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:P}):E==="script"&&a.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},Qe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},Qe.requestFormReset=function(p){a.d.r(p)},Qe.unstable_batchedUpdates=function(p,y){return p(y)},Qe.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var uv;function TS(){if(uv)return tm.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),tm.exports=ES(),tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function bS(){if(cv)return Sl;cv=1;var r=vS(),t=Qm(),n=TS();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(a(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(a(188));return i!==e?null:e}for(var s=e,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,l=d;break}if(T===l){v=!0,l=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,l=h;break}if(T===l){v=!0,l=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),K=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case L:return"Profiler";case F:return"StrictMode";case lt:return"Suspense";case mt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case K:return(e.displayName||"Context")+".Provider";case $:return(e._context.displayName||"Context")+".Consumer";case rt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:be(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return be(e(i))}catch{}}return null}var ee=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},jt=[],N=-1;function nt(e){return{current:e}}function ut(e){0>N||(e.current=jt[N],jt[N]=null,N--)}function at(e,i){N++,jt[N]=e.current,e.current=i}var yt=nt(null),Dt=nt(null),At=nt(null),Oe=nt(null);function Jt(e,i){switch(at(At,i),at(Dt,e),at(yt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?O_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=O_(i),e=N_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ut(yt),at(yt,e)}function Kn(){ut(yt),ut(Dt),ut(At)}function tr(e){e.memoizedState!==null&&at(Oe,e);var i=yt.current,s=N_(i,e.type);i!==s&&(at(Dt,e),at(yt,s))}function yi(e){Dt.current===e&&(ut(yt),ut(Dt)),Oe.current===e&&(ut(Oe),_l._currentValue=dt)}var Xr=Object.prototype.hasOwnProperty,Wr=r.unstable_scheduleCallback,Zr=r.unstable_cancelCallback,po=r.unstable_shouldYield,fu=r.unstable_requestPaint,_n=r.unstable_now,Yh=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,Ya=r.unstable_UserBlockingPriority,Jr=r.unstable_NormalPriority,$h=r.unstable_LowPriority,$a=r.unstable_IdlePriority,yo=r.log,du=r.unstable_setDisableYieldValue,ue=null,Gt=null;function un(e){if(typeof yo=="function"&&du(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ue,e)}catch{}}var Ge=Math.clz32?Math.clz32:ta,mu=Math.log,Xh=Math.LN2;function ta(e){return e>>>=0,e===0?32:31-(mu(e)/Xh|0)|0}var ea=256,na=4194304;function Vn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xa(e,i,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(v&=T,v!==0?h=Vn(v):s||(s=T&~e,s!==0&&(h=Vn(s))))):(T=l&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):s||(s=l&~e,s!==0&&(h=Vn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function ia(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function _o(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var e=ea;return ea<<=1,(ea&4194048)===0&&(ea=256),e}function Eo(){var e=na;return na<<=1,(na&62914560)===0&&(na=4194304),e}function _i(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function vi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function To(e,i,s,l,h,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(s=v&~s;0<s;){var W=31-Ge(s),J=1<<W;T[W]=0,I[W]=-1;var H=j[W];if(H!==null)for(j[W]=null,W=0;W<H.length;W++){var G=H[W];G!==null&&(G.lane&=-536870913)}s&=~J}l!==0&&Qn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Qn(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function bo(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var l=31-Ge(s),h=1<<l;h&i|e[l]&i&&(e[l]|=i),s&=~h}}function er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nr(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:X_(e.type))}function pu(e,i){var s=ot.p;try{return ot.p=e,i()}finally{ot.p=s}}var re=Math.random().toString(36).slice(2),Ae="__reactFiber$"+re,ge="__reactProps$"+re,vn="__reactContainer$"+re,Ao="__reactEvents$"+re,Wh="__reactListeners$"+re,ir="__reactHandles$"+re,gu="__reactResources$"+re,ra="__reactMarker$"+re;function rr(e){delete e[Ae],delete e[ge],delete e[Ao],delete e[Wh],delete e[ir]}function Ei(e){var i=e[Ae];if(i)return i;for(var s=e.parentNode;s;){if(i=s[vn]||s[Ae]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=P_(e);e!==null;){if(s=e[Ae])return s;e=P_(e)}return i}e=s,s=e.parentNode}return null}function Yn(e){if(e=e[Ae]||e[vn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function $n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Ze(e){var i=e[gu];return i||(i=e[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fe(e){e[ra]=!0}var So=new Set,Za={};function Pn(e,i){Ti(e,i),Ti(e+"Capture",i)}function Ti(e,i){for(Za[e]=i,e=0;e<i.length;e++)So.add(i[e])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_u={},aa={};function vu(e){return Xr.call(aa,e)?!0:Xr.call(_u,e)?!1:yu.test(e)?aa[e]=!0:(_u[e]=!0,!1)}function ar(e,i,s){if(vu(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function Xn(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function Le(e,i,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+l)}}var sa,Eu;function bi(e){if(sa===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);sa=i&&i[1]||"",Eu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+e+Eu}var Ja=!1;function ts(e,i){if(!e||Ja)return"";Ja=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var H=G}Reflect.construct(e,[],J)}else{try{J.call()}catch(G){H=G}e.call(J.prototype)}}else{try{throw Error()}catch(G){H=G}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),j=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var W=`
`+I[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{Ja=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?bi(s):""}function wo(e){switch(e.tag){case 26:case 27:case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return ts(e.type,!1);case 11:return ts(e.type.render,!1);case 1:return ts(e.type,!0);case 31:return bi("Activity");default:return""}}function es(e){try{var i="";do i+=wo(e),e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ro(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zh(e){var i=Ro(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ns(e){e._valueTracker||(e._valueTracker=Zh(e))}function Io(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return e&&(l=Ro(e)?e.checked?"true":"false":e.value),e=l,e!==s?(i.setValue(e),!0):!1}function oa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jh=/[\n"\\]/g;function ye(e){return e.replace(Jh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(e,i,s,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Je(i)):e.value!==""+Je(i)&&(e.value=""+Je(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?sr(e,v,Je(i)):s!=null?sr(e,v,Je(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Je(T):e.removeAttribute("name")}function la(e,i,s,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+Je(s):"",i=i!=null?""+Je(i):s,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function sr(e,i,s){i==="number"&&oa(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ai(e,i,s,l){if(e=e.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=i.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Je(s),i=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Yt(e,i,s){if(i!=null&&(i=""+Je(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+Je(s):""}function ua(e,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(ee(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Je(i),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function En(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(e,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,s):typeof s!="number"||s===0||ca.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Co(e,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Tu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Tu(e,d,i[d])}function Do(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function is(e){return ef.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Si=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wi=null,Ri=null;function Oo(e){var i=Yn(e);if(i&&(e=i.stateNode)){var s=e[ge]||null;t:switch(e=i.stateNode,i.type){case"input":if(cn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ye(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==e&&l.form===e.form){var h=l[ge]||null;if(!h)throw Error(a(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===e.form&&Io(l)}break t;case"textarea":Yt(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&Ai(e,!!s.multiple,i,!1)}}}var Wn=!1;function bu(e,i,s){if(Wn)return e(i,s);Wn=!0;try{var l=e(i);return l}finally{if(Wn=!1,(wi!==null||Ri!==null)&&(pc(),wi&&(i=wi,e=Ri,Ri=wi=null,Oo(i),e)))for(i=0;i<e.length;i++)Oo(e[i])}}function ha(e,i){var s=e.stateNode;if(s===null)return null;var l=s[ge]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(kn)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){bn=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{bn=!1}var Zn=null,or=null,Ii=null;function No(){if(Ii)return Ii;var e,i=or,s=i.length,l,h="value"in Zn?Zn.value:Zn.textContent,d=h.length;for(e=0;e<s&&i[e]===h[e];e++);var v=s-e;for(l=1;l<=v&&i[s-l]===h[d-l];l++);return Ii=h.slice(e,1<l?1-l:void 0)}function Jn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function xo(){return!1}function Ne(e){function i(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ti:xo,this.isPropagationStopped=xo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Ne(Ht),da=E({},Ht,{view:0,detail:0}),Au=Ne(da),as,ss,ei,ma=E({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(as=e.screenX-ei.screenX,ss=e.screenY-ei.screenY):ss=as=0,ei=e),as)},movementY:function(e){return"movementY"in e?e.movementY:ss}}),An=Ne(ma),Su=E({},ma,{dataTransfer:0}),nf=Ne(Su),pa=E({},da,{relatedTarget:0}),os=Ne(pa),Mo=E({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=Ne(Mo),wu=E({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),us=Ne(wu),rf=E({},Ht,{data:0}),Vo=Ne(rf),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Iu[e])?!!i[e]:!1}function ya(){return Po}var Cu=E({},da,{key:function(e){if(e.key){var i=ga[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Jn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ru[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(e){return e.type==="keypress"?Jn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cs=Ne(Cu),Du=E({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=Ne(Du),Ci=E({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),Ou=Ne(Ci),Nu=E({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),xu=Ne(Nu),Mu=E({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hs=Ne(Mu),tn=E({},Ht,{newState:0,oldState:0}),Vu=Ne(tn),Pu=[9,13,27,32],ni=kn&&"CompositionEvent"in window,c=null;kn&&"documentMode"in document&&(c=document.documentMode);var g=kn&&"TextEvent"in window&&!c,_=kn&&(!ni||c&&8<c&&11>=c),b=" ",z=!1;function Y(e,i){switch(e){case"keyup":return Pu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Se(e,i){switch(e){case"compositionend":return st(i);case"keypress":return i.which!==32?null:(z=!0,b);case"textInput":return e=i.data,e===b&&z?null:e;default:return null}}function kt(e,i){if(Pt)return e==="compositionend"||!ni&&Y(e,i)?(e=No(),Ii=or=Zn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!xe[e.type]:i==="textarea"}function Di(e,i,s,l){wi?Ri?Ri.push(l):Ri=[l]:wi=l,i=Tc(i,"onChange"),0<i.length&&(s=new rs("onChange","change",null,s,l),e.push({event:s,listeners:i}))}var Ue=null,ii=null;function Lo(e){w_(e,0)}function ku(e){var i=$n(e);if(Io(i))return e}function Kp(e,i){if(e==="change")return i}var Qp=!1;if(kn){var af;if(kn){var sf="oninput"in document;if(!sf){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),sf=typeof Yp.oninput=="function"}af=sf}else af=!1;Qp=af&&(!document.documentMode||9<document.documentMode)}function $p(){Ue&&(Ue.detachEvent("onpropertychange",Xp),ii=Ue=null)}function Xp(e){if(e.propertyName==="value"&&ku(ii)){var i=[];Di(i,ii,e,Tn(e)),bu(Lo,i)}}function Fb(e,i,s){e==="focusin"?($p(),Ue=i,ii=s,Ue.attachEvent("onpropertychange",Xp)):e==="focusout"&&$p()}function Gb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ku(ii)}function Kb(e,i){if(e==="click")return ku(i)}function Qb(e,i){if(e==="input"||e==="change")return ku(i)}function Yb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:Yb;function Uo(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Xr.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function Wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zp(e,i){var s=Wp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=i&&l>=i)return{node:s,offset:i-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Wp(s)}}function Jp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Jp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=oa(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=oa(e.document)}return i}function of(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var $b=kn&&"documentMode"in document&&11>=document.documentMode,fs=null,lf=null,zo=null,uf=!1;function eg(e,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;uf||fs==null||fs!==oa(l)||(l=fs,"selectionStart"in l&&of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zo&&Uo(zo,l)||(zo=l,l=Tc(lf,"onSelect"),0<l.length&&(i=new rs("onSelect","select",null,i,s),e.push({event:i,listeners:l}),i.target=fs)))}function _a(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var ds={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},cf={},ng={};kn&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function va(e){if(cf[e])return cf[e];if(!ds[e])return e;var i=ds[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in ng)return cf[e]=i[s];return e}var ig=va("animationend"),rg=va("animationiteration"),ag=va("animationstart"),Xb=va("transitionrun"),Wb=va("transitionstart"),Zb=va("transitioncancel"),sg=va("transitionend"),og=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function Ln(e,i){og.set(e,i),Pn(i,[e])}var lg=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var s=lg.get(e);return s!==void 0?s:(i={value:e,source:i,stack:es(i)},lg.set(e,i),i)}return{value:e,source:i,stack:es(i)}}var wn=[],ms=0,ff=0;function Lu(){for(var e=ms,i=ff=ms=0;i<e;){var s=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&ug(s,h,d)}}function Uu(e,i,s,l){wn[ms++]=e,wn[ms++]=i,wn[ms++]=s,wn[ms++]=l,ff|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function df(e,i,s,l){return Uu(e,i,s,l),zu(e)}function ps(e,i){return Uu(e,null,null,i),zu(e)}function ug(e,i,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ge(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function zu(e){if(50<cl)throw cl=0,vd=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var gs={};function Jb(e,i,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,i,s,l){return new Jb(e,i,s,l)}function mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,i){var s=e.alternate;return s===null?(s=fn(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function cg(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Bu(e,i,s,l,h,d){var v=0;if(l=e,typeof e=="function")mf(e)&&(v=1);else if(typeof e=="string")v=eS(e,s,yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=fn(31,s,i,h),e.elementType=R,e.lanes=d,e;case M:return Ea(s.children,h,d,i);case F:v=8,h|=24;break;case L:return e=fn(12,s,i,h|2),e.elementType=L,e.lanes=d,e;case lt:return e=fn(13,s,i,h),e.elementType=lt,e.lanes=d,e;case mt:return e=fn(19,s,i,h),e.elementType=mt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:case K:v=10;break t;case $:v=9;break t;case rt:v=11;break t;case C:v=14;break t;case S:v=16,l=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return i=fn(v,s,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ea(e,i,s,l){return e=fn(7,e,l,i),e.lanes=s,e}function pf(e,i,s){return e=fn(6,e,null,i),e.lanes=s,e}function gf(e,i,s){return i=fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ys=[],_s=0,ju=null,qu=0,Rn=[],In=0,Ta=null,Ni=1,xi="";function ba(e,i){ys[_s++]=qu,ys[_s++]=ju,ju=e,qu=i}function hg(e,i,s){Rn[In++]=Ni,Rn[In++]=xi,Rn[In++]=Ta,Ta=e;var l=Ni;e=xi;var h=32-Ge(l)-1;l&=~(1<<h),s+=1;var d=32-Ge(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ni=1<<32-Ge(i)+h|s<<h|l,xi=d+e}else Ni=1<<d|s<<h|l,xi=e}function yf(e){e.return!==null&&(ba(e,1),hg(e,1,0))}function _f(e){for(;e===ju;)ju=ys[--_s],ys[_s]=null,qu=ys[--_s],ys[_s]=null;for(;e===Ta;)Ta=Rn[--In],Rn[In]=null,xi=Rn[--In],Rn[In]=null,Ni=Rn[--In],Rn[In]=null}var en=null,ce=null,qt=!1,Aa=null,ri=!1,vf=Error(a(519));function Sa(e){var i=Error(a(418,""));throw qo(Sn(i,e)),vf}function fg(e){var i=e.stateNode,s=e.type,l=e.memoizedProps;switch(i[Ae]=e,i[ge]=l,s){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(s=0;s<fl.length;s++)xt(fl[s],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),la(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ns(i);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),ua(i,l.value,l.defaultValue,l.children),ns(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||D_(i.textContent,s)?(l.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),l.onScroll!=null&&xt("scroll",i),l.onScrollEnd!=null&&xt("scrollend",i),l.onClick!=null&&(i.onclick=bc),i=!0):i=!1,i||Sa(e)}function dg(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:en=en.return}}function Bo(e){if(e!==en)return!1;if(!qt)return dg(e),qt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Pd(e.type,e.memoizedProps)),s=!s),s&&ce&&Sa(e),dg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(i===0){ce=zn(e.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;e=e.nextSibling}ce=null}}else i===27?(i=ce,Ar(e.type)?(e=zd,zd=null,ce=e):ce=i):ce=en?zn(e.stateNode.nextSibling):null;return!0}function jo(){ce=en=null,qt=!1}function mg(){var e=Aa;return e!==null&&(on===null?on=e:on.push.apply(on,e),Aa=null),e}function qo(e){Aa===null?Aa=[e]:Aa.push(e)}var Ef=nt(null),wa=null,Mi=null;function lr(e,i,s){at(Ef,i._currentValue),i._currentValue=s}function Vi(e){e._currentValue=Ef.current,ut(Ef)}function Tf(e,i,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===s)break;e=e.return}}function bf(e,i,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Tf(d.return,s,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Tf(v,s,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ho(e,i,s,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Oe.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&bf(i,e,s,l),i.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ra(e){wa=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return pg(wa,e)}function Fu(e,i){return wa===null&&Ra(e),pg(e,i)}function pg(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Mi===null){if(e===null)throw Error(a(308));Mi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Mi=Mi.next=i;return s}var tA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},eA=r.unstable_scheduleCallback,nA=r.unstable_NormalPriority,Re={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new tA,data:new Map,refCount:0}}function Fo(e){e.refCount--,e.refCount===0&&eA(nA,function(){e.controller.abort()})}var Go=null,Sf=0,vs=0,Es=null;function iA(e,i){if(Go===null){var s=Go=[];Sf=0,vs=Rd(),Es={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Sf++,i.then(gg,gg),i}function gg(){if(--Sf===0&&Go!==null){Es!==null&&(Es.status="fulfilled");var e=Go;Go=null,vs=0,Es=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function rA(e,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var yg=X.S;X.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&iA(e,i),yg!==null&&yg(e,i)};var Ia=nt(null);function wf(){var e=Ia.current;return e!==null?e:te.pooledCache}function Gu(e,i){i===null?at(Ia,Ia.current):at(Ia,i.pool)}function _g(){var e=wf();return e===null?null:{parent:Re._currentValue,pool:e}}var Ko=Error(a(460)),vg=Error(a(474)),Ku=Error(a(542)),Rf={then:function(){}};function Eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qu(){}function Tg(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Qu,Qu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ag(e),e;default:if(typeof i.status=="string")i.then(Qu,Qu);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ag(e),e}throw Qo=i,Ko}}var Qo=null;function bg(){if(Qo===null)throw Error(a(459));var e=Qo;return Qo=null,e}function Ag(e){if(e===Ko||e===Ku)throw Error(a(483))}var ur=!1;function If(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hr(e,i,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=zu(e),ug(e,null,s),i}return Uu(e,l,i,s),zu(e)}function Yo(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,bo(e,s)}}function Df(e,i){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var Of=!1;function $o(){if(Of){var e=Es;if(e!==null)throw e}}function Xo(e,i,s,l){Of=!1;var h=e.updateQueue;ur=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,j=I.next;I.next=null,v===null?d=j:v.next=j,v=I;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=j:T.next=j,W.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,W=j=I=null,T=d;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(Lt&H)===H:(l&H)===H){H!==0&&H===vs&&(Of=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var bt=e,_t=T;H=i;var Wt=s;switch(_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){J=bt.call(Wt,J,H);break t}J=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,H=typeof bt=="function"?bt.call(Wt,J,H):bt,H==null)break t;J=E({},J,H);break t;case 2:ur=!0}}H=T.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(j=W=G,I=J):W=W.next=G,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);W===null&&(I=J),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),vr|=v,e.lanes=v,e.memoizedState=J}}function Sg(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function wg(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Sg(s[e],i)}var Ts=nt(null),Yu=nt(0);function Rg(e,i){e=ji,at(Yu,e),at(Ts,i),ji=e|i.baseLanes}function Nf(){at(Yu,ji),at(Ts,Ts.current)}function xf(){ji=Yu.current,ut(Ts),ut(Yu)}var fr=0,It=null,$t=null,_e=null,$u=!1,bs=!1,Ca=!1,Xu=0,Wo=0,As=null,aA=0;function de(){throw Error(a(321))}function Mf(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!hn(e[s],i[s]))return!1;return!0}function Vf(e,i,s,l,h,d){return fr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=e===null||e.memoizedState===null?uy:cy,Ca=!1,d=s(l,h),Ca=!1,bs&&(d=Cg(i,s,l,h)),Ig(e),d}function Ig(e){X.H=nc;var i=$t!==null&&$t.next!==null;if(fr=0,_e=$t=It=null,$u=!1,Wo=0,As=null,i)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&Hu(e)&&(Me=!0))}function Cg(e,i,s,l){It=e;var h=0;do{if(bs&&(As=null),Wo=0,bs=!1,25<=h)throw Error(a(301));if(h+=1,_e=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=fA,d=i(s,l)}while(bs);return d}function sA(){var e=X.H,i=e.useState()[0];return i=typeof i.then=="function"?Zo(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(It.flags|=1024),i}function Pf(){var e=Xu!==0;return Xu=0,e}function kf(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function Lf(e){if($u){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}$u=!1}fr=0,_e=$t=It=null,bs=!1,Wo=Xu=0,As=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?It.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if($t===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=_e===null?It.memoizedState:_e.next;if(i!==null)_e=i,$t=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},_e===null?It.memoizedState=_e=e:_e=_e.next=e}return _e}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var i=Wo;return Wo+=1,As===null&&(As=[]),e=Tg(As,e,i),i=It,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?uy:cy),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===K)return Ke(e)}throw Error(a(438,String(e)))}function zf(e){var i=null,s=It.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Uf(),It.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),l=0;l<e;l++)s[l]=O;return i.index++,s}function Pi(e,i){return typeof i=="function"?i(e):i}function Zu(e){var i=ve();return Bf(i,$t,e)}function Bf(e,i,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,I=null,j=i,W=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Lt&J)===J:(fr&J)===J){var H=j.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===vs&&(W=!0);else if((fr&H)===H){j=j.next,H===vs&&(W=!0);continue}else J={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=J,v=d):I=I.next=J,It.lanes|=H,vr|=H;J=j.action,Ca&&s(d,J),d=j.hasEagerState?j.eagerState:s(d,J)}else H={lane:J,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,It.lanes|=J,vr|=J;j=j.next}while(j!==null&&j!==i);if(I===null?v=d:I.next=T,!hn(d,e.memoizedState)&&(Me=!0,W&&(s=Es,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function jf(e){var i=ve(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Me=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Dg(e,i,s){var l=It,h=ve(),d=qt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!hn(($t||h).memoizedState,s);v&&(h.memoizedState=s,Me=!0),h=h.queue;var T=xg.bind(null,l,h,e);if(Jo(2048,8,T,[e]),h.getSnapshot!==i||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,Ss(9,Ju(),Ng.bind(null,l,h,s,i),null),te===null)throw Error(a(349));d||(fr&124)!==0||Og(l,i,s)}return s}function Og(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=It.updateQueue,i===null?(i=Uf(),It.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function Ng(e,i,s,l){i.value=s,i.getSnapshot=l,Mg(i)&&Vg(e)}function xg(e,i,s){return s(function(){Mg(i)&&Vg(e)})}function Mg(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!hn(e,s)}catch{return!0}}function Vg(e){var i=ps(e,2);i!==null&&yn(i,e,2)}function qf(e){var i=an();if(typeof e=="function"){var s=e;if(e=s(),Ca){un(!0);try{s()}finally{un(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},i}function Pg(e,i,s,l){return e.baseState=s,Bf(e,$t,typeof l=="function"?l:Pi)}function oA(e,i,s,l,h){if(ec(e))throw Error(a(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,kg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function kg(e,i){var s=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=X.T,v={};X.T=v;try{var T=s(h,l),I=X.S;I!==null&&I(v,T),Lg(e,i,T)}catch(j){Hf(e,i,j)}finally{X.T=d}}else try{d=s(h,l),Lg(e,i,d)}catch(j){Hf(e,i,j)}}function Lg(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ug(e,i,l)},function(l){return Hf(e,i,l)}):Ug(e,i,s)}function Ug(e,i,s){i.status="fulfilled",i.value=s,zg(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,kg(e,s)))}function Hf(e,i,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,zg(i),i=i.next;while(i!==l)}e.action=null}function zg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Bg(e,i){return i}function jg(e,i){if(qt){var s=te.formState;if(s!==null){t:{var l=It;if(qt){if(ce){e:{for(var h=ce,d=ri;h.nodeType!==8;){if(!d){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ce=zn(h.nextSibling),l=h.data==="F!";break t}}Sa(l)}l=!1}l&&(i=s[0])}}return s=an(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},s.queue=l,s=sy.bind(null,It,l),l.dispatch=s,l=qf(!1),d=Yf.bind(null,It,!1,l.queue),l=an(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,s=oA.bind(null,It,h,d,s),h.dispatch=s,l.memoizedState=e,[i,s,!1]}function qg(e){var i=ve();return Hg(i,$t,e)}function Hg(e,i,s){if(i=Bf(e,i,Bg)[0],e=Zu(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Zo(i)}catch(v){throw v===Ko?Ku:v}else l=i;i=ve();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(It.flags|=2048,Ss(9,Ju(),lA.bind(null,h,s),null)),[l,d,e]}function lA(e,i){e.action=i}function Fg(e){var i=ve(),s=$t;if(s!==null)return Hg(i,s,e);ve(),i=i.memoizedState,s=ve();var l=s.queue.dispatch;return s.memoizedState=e,[i,l,!1]}function Ss(e,i,s,l){return e={tag:e,create:s,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=Uf(),It.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,i.lastEffect=e),e}function Ju(){return{destroy:void 0,resource:void 0}}function Gg(){return ve().memoizedState}function tc(e,i,s,l){var h=an();l=l===void 0?null:l,It.flags|=e,h.memoizedState=Ss(1|i,Ju(),s,l)}function Jo(e,i,s,l){var h=ve();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&Mf(l,$t.memoizedState.deps)?h.memoizedState=Ss(i,d,s,l):(It.flags|=e,h.memoizedState=Ss(1|i,d,s,l))}function Kg(e,i){tc(8390656,8,e,i)}function Qg(e,i){Jo(2048,8,e,i)}function Yg(e,i){return Jo(4,2,e,i)}function $g(e,i){return Jo(4,4,e,i)}function Xg(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Wg(e,i,s){s=s!=null?s.concat([e]):null,Jo(4,4,Xg.bind(null,i,e),s)}function Ff(){}function Zg(e,i){var s=ve();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Mf(i,l[1])?l[0]:(s.memoizedState=[e,i],e)}function Jg(e,i){var s=ve();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Mf(i,l[1]))return l[0];if(l=e(),Ca){un(!0);try{e()}finally{un(!1)}}return s.memoizedState=[l,i],l}function Gf(e,i,s){return s===void 0||(fr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=s,e=n_(),It.lanes|=e,vr|=e,s)}function ty(e,i,s,l){return hn(s,i)?s:Ts.current!==null?(e=Gf(e,s,l),hn(e,i)||(Me=!0),e):(fr&42)===0?(Me=!0,e.memoizedState=s):(e=n_(),It.lanes|=e,vr|=e,i)}function ey(e,i,s,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var v=X.T,T={};X.T=T,Yf(e,!1,i,s);try{var I=h(),j=X.S;if(j!==null&&j(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=rA(I,l);tl(e,i,W,gn(e))}else tl(e,i,l,gn(e))}catch(J){tl(e,i,{then:function(){},status:"rejected",reason:J},gn())}finally{ot.p=d,X.T=v}}function uA(){}function Kf(e,i,s,l){if(e.tag!==5)throw Error(a(476));var h=ny(e).queue;ey(e,h,i,dt,s===null?uA:function(){return iy(e),s(l)})}function ny(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:dt},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function iy(e){var i=ny(e).next.queue;tl(e,i,{},gn())}function Qf(){return Ke(_l)}function ry(){return ve().memoizedState}function ay(){return ve().memoizedState}function cA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=gn();e=cr(s);var l=hr(i,e,s);l!==null&&(yn(l,i,s),Yo(l,i,s)),i={cache:Af()},e.payload=i;return}i=i.return}}function hA(e,i,s){var l=gn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ec(e)?oy(i,s):(s=df(e,i,s,l),s!==null&&(yn(s,e,l),ly(s,i,l)))}function sy(e,i,s){var l=gn();tl(e,i,s,l)}function tl(e,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ec(e))oy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return Uu(e,i,h,0),te===null&&Lu(),!1}catch{}finally{}if(s=df(e,i,h,l),s!==null)return yn(s,e,l),ly(s,i,l),!0}return!1}function Yf(e,i,s,l){if(l={lane:2,revertLane:Rd(),action:l,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(i)throw Error(a(479))}else i=df(e,s,l,2),i!==null&&yn(i,e,2)}function ec(e){var i=e.alternate;return e===It||i!==null&&i===It}function oy(e,i){bs=$u=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function ly(e,i,s){if((s&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,bo(e,s)}}var nc={readContext:Ke,use:Wu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},uy={readContext:Ke,use:Wu,useCallback:function(e,i){return an().memoizedState=[e,i===void 0?null:i],e},useContext:Ke,useEffect:Kg,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,tc(4194308,4,Xg.bind(null,i,e),s)},useLayoutEffect:function(e,i){return tc(4194308,4,e,i)},useInsertionEffect:function(e,i){tc(4,2,e,i)},useMemo:function(e,i){var s=an();i=i===void 0?null:i;var l=e();if(Ca){un(!0);try{e()}finally{un(!1)}}return s.memoizedState=[l,i],l},useReducer:function(e,i,s){var l=an();if(s!==void 0){var h=s(i);if(Ca){un(!0);try{s(i)}finally{un(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=hA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=an();return e={current:e},i.memoizedState=e},useState:function(e){e=qf(e);var i=e.queue,s=sy.bind(null,It,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Ff,useDeferredValue:function(e,i){var s=an();return Gf(s,e,i)},useTransition:function(){var e=qf(!1);return e=ey.bind(null,It,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var l=It,h=an();if(qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),te===null)throw Error(a(349));(Lt&124)!==0||Og(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Kg(xg.bind(null,l,d,e),[e]),l.flags|=2048,Ss(9,Ju(),Ng.bind(null,l,d,s,i),null),s},useId:function(){var e=an(),i=te.identifierPrefix;if(qt){var s=xi,l=Ni;s=(l&~(1<<32-Ge(l)-1)).toString(32)+s,i=""+i+"R"+s,s=Xu++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=aA++,i=""+i+"r"+s.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Qf,useFormState:jg,useActionState:jg,useOptimistic:function(e){var i=an();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Yf.bind(null,It,!0,s),s.dispatch=i,[e,i]},useMemoCache:zf,useCacheRefresh:function(){return an().memoizedState=cA.bind(null,It)}},cy={readContext:Ke,use:Wu,useCallback:Zg,useContext:Ke,useEffect:Qg,useImperativeHandle:Wg,useInsertionEffect:Yg,useLayoutEffect:$g,useMemo:Jg,useReducer:Zu,useRef:Gg,useState:function(){return Zu(Pi)},useDebugValue:Ff,useDeferredValue:function(e,i){var s=ve();return ty(s,$t.memoizedState,e,i)},useTransition:function(){var e=Zu(Pi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Zo(e),i]},useSyncExternalStore:Dg,useId:ry,useHostTransitionStatus:Qf,useFormState:qg,useActionState:qg,useOptimistic:function(e,i){var s=ve();return Pg(s,$t,e,i)},useMemoCache:zf,useCacheRefresh:ay},fA={readContext:Ke,use:Wu,useCallback:Zg,useContext:Ke,useEffect:Qg,useImperativeHandle:Wg,useInsertionEffect:Yg,useLayoutEffect:$g,useMemo:Jg,useReducer:jf,useRef:Gg,useState:function(){return jf(Pi)},useDebugValue:Ff,useDeferredValue:function(e,i){var s=ve();return $t===null?Gf(s,e,i):ty(s,$t.memoizedState,e,i)},useTransition:function(){var e=jf(Pi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Zo(e),i]},useSyncExternalStore:Dg,useId:ry,useHostTransitionStatus:Qf,useFormState:Fg,useActionState:Fg,useOptimistic:function(e,i){var s=ve();return $t!==null?Pg(s,$t,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:zf,useCacheRefresh:ay},ws=null,el=0;function ic(e){var i=el;return el+=1,ws===null&&(ws=[]),Tg(ws,e,i)}function nl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function rc(e,i){throw i.$$typeof===A?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function hy(e){var i=e._init;return i(e._payload)}function fy(e){function i(U,x){if(e){var B=U.deletions;B===null?(U.deletions=[x],U.flags|=16):B.push(x)}}function s(U,x){if(!e)return null;for(;x!==null;)i(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function h(U,x){return U=Oi(U,x),U.index=0,U.sibling=null,U}function d(U,x,B){return U.index=B,e?(B=U.alternate,B!==null?(B=B.index,B<x?(U.flags|=67108866,x):B):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function v(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function T(U,x,B,Z){return x===null||x.tag!==6?(x=pf(B,U.mode,Z),x.return=U,x):(x=h(x,B),x.return=U,x)}function I(U,x,B,Z){var ht=B.type;return ht===M?W(U,x,B.props.children,Z,B.key):x!==null&&(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&hy(ht)===x.type)?(x=h(x,B.props),nl(x,B),x.return=U,x):(x=Bu(B.type,B.key,B.props,null,U.mode,Z),nl(x,B),x.return=U,x)}function j(U,x,B,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==B.containerInfo||x.stateNode.implementation!==B.implementation?(x=gf(B,U.mode,Z),x.return=U,x):(x=h(x,B.children||[]),x.return=U,x)}function W(U,x,B,Z,ht){return x===null||x.tag!==7?(x=Ea(B,U.mode,Z,ht),x.return=U,x):(x=h(x,B),x.return=U,x)}function J(U,x,B){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=pf(""+x,U.mode,B),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w:return B=Bu(x.type,x.key,x.props,null,U.mode,B),nl(B,x),B.return=U,B;case P:return x=gf(x,U.mode,B),x.return=U,x;case S:var Z=x._init;return x=Z(x._payload),J(U,x,B)}if(ee(x)||k(x))return x=Ea(x,U.mode,B,null),x.return=U,x;if(typeof x.then=="function")return J(U,ic(x),B);if(x.$$typeof===K)return J(U,Fu(U,x),B);rc(U,x)}return null}function H(U,x,B,Z){var ht=x!==null?x.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ht!==null?null:T(U,x,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===ht?I(U,x,B,Z):null;case P:return B.key===ht?j(U,x,B,Z):null;case S:return ht=B._init,B=ht(B._payload),H(U,x,B,Z)}if(ee(B)||k(B))return ht!==null?null:W(U,x,B,Z,null);if(typeof B.then=="function")return H(U,x,ic(B),Z);if(B.$$typeof===K)return H(U,x,Fu(U,B),Z);rc(U,B)}return null}function G(U,x,B,Z,ht){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(B)||null,T(x,U,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return U=U.get(Z.key===null?B:Z.key)||null,I(x,U,Z,ht);case P:return U=U.get(Z.key===null?B:Z.key)||null,j(x,U,Z,ht);case S:var Ot=Z._init;return Z=Ot(Z._payload),G(U,x,B,Z,ht)}if(ee(Z)||k(Z))return U=U.get(B)||null,W(x,U,Z,ht,null);if(typeof Z.then=="function")return G(U,x,B,ic(Z),ht);if(Z.$$typeof===K)return G(U,x,B,Fu(x,Z),ht);rc(x,Z)}return null}function bt(U,x,B,Z){for(var ht=null,Ot=null,pt=x,vt=x=0,Pe=null;pt!==null&&vt<B.length;vt++){pt.index>vt?(Pe=pt,pt=null):Pe=pt.sibling;var zt=H(U,pt,B[vt],Z);if(zt===null){pt===null&&(pt=Pe);break}e&&pt&&zt.alternate===null&&i(U,pt),x=d(zt,x,vt),Ot===null?ht=zt:Ot.sibling=zt,Ot=zt,pt=Pe}if(vt===B.length)return s(U,pt),qt&&ba(U,vt),ht;if(pt===null){for(;vt<B.length;vt++)pt=J(U,B[vt],Z),pt!==null&&(x=d(pt,x,vt),Ot===null?ht=pt:Ot.sibling=pt,Ot=pt);return qt&&ba(U,vt),ht}for(pt=l(pt);vt<B.length;vt++)Pe=G(pt,U,vt,B[vt],Z),Pe!==null&&(e&&Pe.alternate!==null&&pt.delete(Pe.key===null?vt:Pe.key),x=d(Pe,x,vt),Ot===null?ht=Pe:Ot.sibling=Pe,Ot=Pe);return e&&pt.forEach(function(Cr){return i(U,Cr)}),qt&&ba(U,vt),ht}function _t(U,x,B,Z){if(B==null)throw Error(a(151));for(var ht=null,Ot=null,pt=x,vt=x=0,Pe=null,zt=B.next();pt!==null&&!zt.done;vt++,zt=B.next()){pt.index>vt?(Pe=pt,pt=null):Pe=pt.sibling;var Cr=H(U,pt,zt.value,Z);if(Cr===null){pt===null&&(pt=Pe);break}e&&pt&&Cr.alternate===null&&i(U,pt),x=d(Cr,x,vt),Ot===null?ht=Cr:Ot.sibling=Cr,Ot=Cr,pt=Pe}if(zt.done)return s(U,pt),qt&&ba(U,vt),ht;if(pt===null){for(;!zt.done;vt++,zt=B.next())zt=J(U,zt.value,Z),zt!==null&&(x=d(zt,x,vt),Ot===null?ht=zt:Ot.sibling=zt,Ot=zt);return qt&&ba(U,vt),ht}for(pt=l(pt);!zt.done;vt++,zt=B.next())zt=G(pt,U,vt,zt.value,Z),zt!==null&&(e&&zt.alternate!==null&&pt.delete(zt.key===null?vt:zt.key),x=d(zt,x,vt),Ot===null?ht=zt:Ot.sibling=zt,Ot=zt);return e&&pt.forEach(function(dS){return i(U,dS)}),qt&&ba(U,vt),ht}function Wt(U,x,B,Z){if(typeof B=="object"&&B!==null&&B.type===M&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:t:{for(var ht=B.key;x!==null;){if(x.key===ht){if(ht=B.type,ht===M){if(x.tag===7){s(U,x.sibling),Z=h(x,B.props.children),Z.return=U,U=Z;break t}}else if(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&hy(ht)===x.type){s(U,x.sibling),Z=h(x,B.props),nl(Z,B),Z.return=U,U=Z;break t}s(U,x);break}else i(U,x);x=x.sibling}B.type===M?(Z=Ea(B.props.children,U.mode,Z,B.key),Z.return=U,U=Z):(Z=Bu(B.type,B.key,B.props,null,U.mode,Z),nl(Z,B),Z.return=U,U=Z)}return v(U);case P:t:{for(ht=B.key;x!==null;){if(x.key===ht)if(x.tag===4&&x.stateNode.containerInfo===B.containerInfo&&x.stateNode.implementation===B.implementation){s(U,x.sibling),Z=h(x,B.children||[]),Z.return=U,U=Z;break t}else{s(U,x);break}else i(U,x);x=x.sibling}Z=gf(B,U.mode,Z),Z.return=U,U=Z}return v(U);case S:return ht=B._init,B=ht(B._payload),Wt(U,x,B,Z)}if(ee(B))return bt(U,x,B,Z);if(k(B)){if(ht=k(B),typeof ht!="function")throw Error(a(150));return B=ht.call(B),_t(U,x,B,Z)}if(typeof B.then=="function")return Wt(U,x,ic(B),Z);if(B.$$typeof===K)return Wt(U,x,Fu(U,B),Z);rc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,x!==null&&x.tag===6?(s(U,x.sibling),Z=h(x,B),Z.return=U,U=Z):(s(U,x),Z=pf(B,U.mode,Z),Z.return=U,U=Z),v(U)):s(U,x)}return function(U,x,B,Z){try{el=0;var ht=Wt(U,x,B,Z);return ws=null,ht}catch(pt){if(pt===Ko||pt===Ku)throw pt;var Ot=fn(29,pt,null,U.mode);return Ot.lanes=Z,Ot.return=U,Ot}finally{}}}var Rs=fy(!0),dy=fy(!1),Cn=nt(null),ai=null;function dr(e){var i=e.alternate;at(Ie,Ie.current&1),at(Cn,e),ai===null&&(i===null||Ts.current!==null||i.memoizedState!==null)&&(ai=e)}function my(e){if(e.tag===22){if(at(Ie,Ie.current),at(Cn,e),ai===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ai=e)}}else mr()}function mr(){at(Ie,Ie.current),at(Cn,Cn.current)}function ki(e){ut(Cn),ai===e&&(ai=null),ut(Ie)}var Ie=nt(0);function ac(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Ud(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function $f(e,i,s,l){i=e.memoizedState,s=s(l,i),s=s==null?i:E({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Xf={enqueueSetState:function(e,i,s){e=e._reactInternals;var l=gn(),h=cr(l);h.payload=i,s!=null&&(h.callback=s),i=hr(e,h,l),i!==null&&(yn(i,e,l),Yo(i,e,l))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var l=gn(),h=cr(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=hr(e,h,l),i!==null&&(yn(i,e,l),Yo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=gn(),l=cr(s);l.tag=2,i!=null&&(l.callback=i),i=hr(e,l,s),i!==null&&(yn(i,e,s),Yo(i,e,s))}};function py(e,i,s,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Uo(s,l)||!Uo(h,d):!0}function gy(e,i,s,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==e&&Xf.enqueueReplaceState(i,i.state,null)}function Da(e,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(e=e.defaultProps){s===i&&(s=E({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var sc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yy(e){sc(e)}function _y(e){console.error(e)}function vy(e){sc(e)}function oc(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ey(e,i,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wf(e,i,s){return s=cr(s),s.tag=3,s.payload={element:null},s.callback=function(){oc(e,i)},s}function Ty(e){return e=cr(e),e.tag=3,e}function by(e,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ey(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ey(i,s,l),typeof h!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function dA(e,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Ho(i,s,h,!0),s=Cn.current,s!==null){switch(s.tag){case 13:return ai===null?Td():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Rf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Ad(e,l,h)),!1;case 22:return s.flags|=65536,l===Rf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Ad(e,l,h)),!1}throw Error(a(435,s.tag))}return Ad(e,l,h),Td(),!1}if(qt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==vf&&(e=Error(a(422),{cause:l}),qo(Sn(e,s)))):(l!==vf&&(i=Error(a(423),{cause:l}),qo(Sn(i,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Sn(l,s),h=Wf(e.stateNode,l,h),Df(e,h),he!==4&&(he=2)),!1;var d=Error(a(520),{cause:l});if(d=Sn(d,s),ul===null?ul=[d]:ul.push(d),he!==4&&(he=2),i===null)return!0;l=Sn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Wf(s.stateNode,l,e),Df(s,e),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Er===null||!Er.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ty(h),by(h,e,s,l),Df(s,h),!1}s=s.return}while(s!==null);return!1}var Ay=Error(a(461)),Me=!1;function ze(e,i,s,l){i.child=e===null?dy(i,null,s,l):Rs(i,e.child,s,l)}function Sy(e,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ra(i),l=Vf(e,i,s,v,d,h),T=Pf(),e!==null&&!Me?(kf(e,i,h),Li(e,i,h)):(qt&&T&&yf(i),i.flags|=1,ze(e,i,l,h),i.child)}function wy(e,i,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!mf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Ry(e,i,d,l,h)):(e=Bu(s.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!ad(e,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Uo,s(v,l)&&e.ref===i.ref)return Li(e,i,h)}return i.flags|=1,e=Oi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Ry(e,i,s,l,h){if(e!==null){var d=e.memoizedProps;if(Uo(d,l)&&e.ref===i.ref)if(Me=!1,i.pendingProps=l=d,ad(e,h))(e.flags&131072)!==0&&(Me=!0);else return i.lanes=e.lanes,Li(e,i,h)}return Zf(e,i,s,l,h)}function Iy(e,i,s){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Cy(e,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gu(i,d!==null?d.cachePool:null),d!==null?Rg(i,d):Nf(),my(i);else return i.lanes=i.childLanes=536870912,Cy(e,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(Gu(i,d.cachePool),Rg(i,d),mr(),i.memoizedState=null):(e!==null&&Gu(i,null),Nf(),mr());return ze(e,i,h,s),i.child}function Cy(e,i,s,l){var h=wf();return h=h===null?null:{parent:Re._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},e!==null&&Gu(i,null),Nf(),my(i),e!==null&&Ho(e,i,l,!0),null}function lc(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function Zf(e,i,s,l,h){return Ra(i),s=Vf(e,i,s,l,void 0,h),l=Pf(),e!==null&&!Me?(kf(e,i,h),Li(e,i,h)):(qt&&l&&yf(i),i.flags|=1,ze(e,i,s,h),i.child)}function Dy(e,i,s,l,h,d){return Ra(i),i.updateQueue=null,s=Cg(i,l,s,h),Ig(e),l=Pf(),e!==null&&!Me?(kf(e,i,d),Li(e,i,d)):(qt&&l&&yf(i),i.flags|=1,ze(e,i,s,d),i.child)}function Oy(e,i,s,l,h){if(Ra(i),i.stateNode===null){var d=gs,v=s.contextType;typeof v=="object"&&v!==null&&(d=Ke(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},If(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?Ke(v):gs,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&($f(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Xf.enqueueReplaceState(d,d.state,null),Xo(i,l,d,h),$o(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Da(s,T);d.props=I;var j=d.context,W=s.contextType;v=gs,typeof W=="object"&&W!==null&&(v=Ke(W));var J=s.getDerivedStateFromProps;W=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&gy(i,d,l,v),ur=!1;var H=i.memoizedState;d.state=H,Xo(i,l,d,h),$o(),j=i.memoizedState,T||H!==j||ur?(typeof J=="function"&&($f(i,s,J,l),j=i.memoizedState),(I=ur||py(i,s,I,l,H,j,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Cf(e,i),v=i.memoizedProps,W=Da(s,v),d.props=W,J=i.pendingProps,H=d.context,j=s.contextType,I=gs,typeof j=="object"&&j!==null&&(I=Ke(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||H!==I)&&gy(i,d,l,I),ur=!1,H=i.memoizedState,d.state=H,Xo(i,l,d,h),$o();var G=i.memoizedState;v!==J||H!==G||ur||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof T=="function"&&($f(i,s,T,l),G=i.memoizedState),(W=ur||py(i,s,W,l,H,G,I)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,lc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Rs(i,e.child,null,h),i.child=Rs(i,null,s,h)):ze(e,i,s,h),i.memoizedState=d.state,e=i.child):e=Li(e,i,h),e}function Ny(e,i,s,l){return jo(),i.flags|=256,ze(e,i,s,l),i.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(e){return{baseLanes:e,cachePool:_g()}}function ed(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=Dn),e}function xy(e,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?dr(i):mr(),qt){var T=ce,I;if(I=T){t:{for(I=T,T=ri;I.nodeType!==8;){if(!T){T=null;break t}if(I=zn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ta!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},I=fn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,en=i,ce=null,I=!0):I=!1}I||Sa(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ud(T)?i.lanes=32:i.lanes=536870912,null;ki(i)}return T=l.children,l=l.fallback,h?(mr(),h=i.mode,T=uc({mode:"hidden",children:T},h),l=Ea(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=td(s),h.childLanes=ed(e,v,s),i.memoizedState=Jf,l):(dr(i),nd(i,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(dr(i),i.flags&=-257,i=id(e,i,s)):i.memoizedState!==null?(mr(),i.child=e.child,i.flags|=128,i=null):(mr(),h=l.fallback,T=i.mode,l=uc({mode:"visible",children:l.children},T),h=Ea(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Rs(i,e.child,null,s),l=i.child,l.memoizedState=td(s),l.childLanes=ed(e,v,s),i.memoizedState=Jf,i=h);else if(dr(i),Ud(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(a(419)),l.stack="",l.digest=v,qo({value:l,source:null,stack:null}),i=id(e,i,s)}else if(Me||Ho(e,i,s,!1),v=(s&e.childLanes)!==0,Me||v){if(v=te,v!==null&&(l=s&-s,l=(l&42)!==0?1:er(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ps(e,l),yn(v,e,l),Ay;T.data==="$?"||Td(),i=id(e,i,s)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ce=zn(T.nextSibling),en=i,qt=!0,Aa=null,ri=!1,e!==null&&(Rn[In++]=Ni,Rn[In++]=xi,Rn[In++]=Ta,Ni=e.id,xi=e.overflow,Ta=i),i=nd(i,l.children),i.flags|=4096);return i}return h?(mr(),h=l.fallback,T=i.mode,I=e.child,j=I.sibling,l=Oi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?h=Oi(j,h):(h=Ea(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=td(s):(I=T.cachePool,I!==null?(j=Re._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=_g(),T={baseLanes:T.baseLanes|s,cachePool:I}),h.memoizedState=T,h.childLanes=ed(e,v,s),i.memoizedState=Jf,l):(dr(i),s=e.child,e=s.sibling,s=Oi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=s,i.memoizedState=null,s)}function nd(e,i){return i=uc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function uc(e,i){return e=fn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function id(e,i,s){return Rs(i,e.child,null,s),e=nd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function My(e,i,s){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Tf(e.return,i,s)}function rd(e,i,s,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Vy(e,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ze(e,i,l.children,s),l=Ie.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&My(e,s,i);else if(e.tag===19)My(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(at(Ie,l),h){case"forwards":for(s=i.child,h=null;s!==null;)e=s.alternate,e!==null&&ac(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),rd(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ac(e)===null){i.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}rd(i,!0,s,null,d);break;case"together":rd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),vr|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(Ho(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,s=Oi(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Oi(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function ad(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function mA(e,i,s){switch(i.tag){case 3:Jt(i,i.stateNode.containerInfo),lr(i,Re,e.memoizedState.cache),jo();break;case 27:case 5:tr(i);break;case 4:Jt(i,i.stateNode.containerInfo);break;case 10:lr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?xy(e,i,s):(dr(i),e=Li(e,i,s),e!==null?e.sibling:null);dr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Ho(e,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return Vy(e,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(Ie,Ie.current),l)break;return null;case 22:case 23:return i.lanes=0,Iy(e,i,s);case 24:lr(i,Re,e.memoizedState.cache)}return Li(e,i,s)}function Py(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)Me=!0;else{if(!ad(e,s)&&(i.flags&128)===0)return Me=!1,mA(e,i,s);Me=(e.flags&131072)!==0}else Me=!1,qt&&(i.flags&1048576)!==0&&hg(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")mf(l)?(e=Da(l,e),i.tag=1,i=Oy(null,i,l,e,s)):(i.tag=0,i=Zf(null,i,l,e,s));else{if(l!=null){if(h=l.$$typeof,h===rt){i.tag=11,i=Sy(null,i,l,e,s);break t}else if(h===C){i.tag=14,i=wy(null,i,l,e,s);break t}}throw i=be(l)||l,Error(a(306,i,""))}}return i;case 0:return Zf(e,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Da(l,i.pendingProps),Oy(e,i,l,h,s);case 3:t:{if(Jt(i,i.stateNode.containerInfo),e===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Cf(e,i),Xo(i,l,null,s);var v=i.memoizedState;if(l=v.cache,lr(i,Re,l),l!==d.cache&&bf(i,[Re],s,!0),$o(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ny(e,i,l,s);break t}else if(l!==h){h=Sn(Error(a(424)),i),qo(h),i=Ny(e,i,l,s);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=zn(e.firstChild),en=i,qt=!0,Aa=null,ri=!0,s=dy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(jo(),l===h){i=Li(e,i,s);break t}ze(e,i,l,s)}i=i.child}return i;case 26:return lc(e,i),e===null?(s=z_(i.type,null,i.pendingProps,null))?i.memoizedState=s:qt||(s=i.type,e=i.pendingProps,l=Ac(At.current).createElement(s),l[Ae]=i,l[ge]=e,je(l,s,e),fe(l),i.stateNode=l):i.memoizedState=z_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return tr(i),e===null&&qt&&(l=i.stateNode=k_(i.type,i.pendingProps,At.current),en=i,ri=!0,h=ce,Ar(i.type)?(zd=h,ce=zn(l.firstChild)):ce=h),ze(e,i,i.pendingProps.children,s),lc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=ce)&&(l=qA(l,i.type,i.pendingProps,ri),l!==null?(i.stateNode=l,en=i,ce=zn(l.firstChild),ri=!1,h=!0):h=!1),h||Sa(i)),tr(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Pd(h,d)?l=null:v!==null&&Pd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Vf(e,i,sA,null,null,s),_l._currentValue=h),lc(e,i),ze(e,i,l,s),i.child;case 6:return e===null&&qt&&((e=s=ce)&&(s=HA(s,i.pendingProps,ri),s!==null?(i.stateNode=s,en=i,ce=null,e=!0):e=!1),e||Sa(i)),null;case 13:return xy(e,i,s);case 4:return Jt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Rs(i,null,l,s):ze(e,i,l,s),i.child;case 11:return Sy(e,i,i.type,i.pendingProps,s);case 7:return ze(e,i,i.pendingProps,s),i.child;case 8:return ze(e,i,i.pendingProps.children,s),i.child;case 12:return ze(e,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,lr(i,i.type,l.value),ze(e,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ra(i),h=Ke(h),l=l(h),i.flags|=1,ze(e,i,l,s),i.child;case 14:return wy(e,i,i.type,i.pendingProps,s);case 15:return Ry(e,i,i.type,i.pendingProps,s);case 19:return Vy(e,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},e===null?(s=uc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Oi(e.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Iy(e,i,s);case 24:return Ra(i),l=Ke(Re),e===null?(h=wf(),h===null&&(h=te,d=Af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},If(i),lr(i,Re,h)):((e.lanes&s)!==0&&(Cf(e,i),Xo(i,null,null,s),$o()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),lr(i,Re,l)):(l=d.cache,lr(i,Re,l),l!==h.cache&&bf(i,[Re],s,!0))),ze(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ui(e){e.flags|=4}function ky(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!F_(i)){if(i=Cn.current,i!==null&&((Lt&4194048)===Lt?ai!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==ai))throw Qo=Rf,vg;e.flags|=8192}}function cc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Eo():536870912,e.lanes|=i,Os|=i)}function il(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(i)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,i}function pA(e,i,s){var l=i.pendingProps;switch(_f(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return s=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(Re),Kn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bo(i)?Ui(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mg())),oe(i),null;case 26:return s=i.memoizedState,e===null?(Ui(i),s!==null?(oe(i),ky(i,s)):(oe(i),i.flags&=-16777217)):s?s!==e.memoizedState?(Ui(i),oe(i),ky(i,s)):(oe(i),i.flags&=-16777217):(e.memoizedProps!==l&&Ui(i),oe(i),i.flags&=-16777217),null;case 27:yi(i),s=At.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return oe(i),null}e=yt.current,Bo(i)?fg(i):(e=k_(h,l,s),i.stateNode=e,Ui(i))}return oe(i),null;case 5:if(yi(i),s=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return oe(i),null}if(e=yt.current,Bo(i))fg(i);else{switch(h=Ac(At.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}e[Ae]=i,e[ge]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(je(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(i)}}return oe(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(e=At.current,Bo(i)){if(e=i.stateNode,s=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||D_(e.nodeValue,s)),e||Sa(i)}else e=Ac(e).createTextNode(l),e[Ae]=i,i.stateNode=e}return oe(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Bo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=i}else jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),h=!1}else h=mg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==e&&s&&(i.child.flags|=8192),cc(i,i.updateQueue),oe(i),null;case 4:return Kn(),e===null&&Od(i.stateNode.containerInfo),oe(i),null;case 10:return Vi(i.type),oe(i),null;case 19:if(ut(Ie),h=i.memoizedState,h===null)return oe(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)il(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=ac(e),d!==null){for(i.flags|=128,il(h,!1),e=d.updateQueue,i.updateQueue=e,cc(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)cg(s,e),s=s.sibling;return at(Ie,Ie.current&1|2),i.child}e=e.sibling}h.tail!==null&&_n()>dc&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304)}else{if(!l)if(e=ac(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,cc(i,e),il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return oe(i),null}else 2*_n()-h.renderingStartTime>dc&&s!==536870912&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,e=Ie.current,at(Ie,l?e&1|2:e&1),i):(oe(i),null);case 22:case 23:return ki(i),xf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),s=i.updateQueue,s!==null&&cc(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),e!==null&&ut(Ia),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Vi(Re),oe(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function gA(e,i){switch(_f(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Vi(Re),Kn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(ki(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));jo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ut(Ie),null;case 4:return Kn(),null;case 10:return Vi(i.type),null;case 22:case 23:return ki(i),xf(),e!==null&&ut(Ia),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Vi(Re),null;case 25:return null;default:return null}}function Ly(e,i){switch(_f(i),i.tag){case 3:Vi(Re),Kn();break;case 26:case 27:case 5:yi(i);break;case 4:Kn();break;case 13:ki(i);break;case 19:ut(Ie);break;case 10:Vi(i.type);break;case 22:case 23:ki(i),xf(),e!==null&&ut(Ia);break;case 24:Vi(Re)}}function rl(e,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(T){Zt(i,i.return,T)}}function pr(e,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=s,j=T;try{j()}catch(W){Zt(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){Zt(i,i.return,W)}}function Uy(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{wg(i,s)}catch(l){Zt(e,e.return,l)}}}function zy(e,i,s){s.props=Da(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Zt(e,i,l)}}function al(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Zt(e,i,h)}}function si(e,i){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Zt(e,i,h)}else s.current=null}function By(e){var i=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Zt(e,e.return,h)}}function sd(e,i,s){try{var l=e.stateNode;LA(l,e.type,s,i),l[ge]=i}catch(h){Zt(e,e.return,h)}}function jy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ar(e.type)||e.tag===4}function od(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||jy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ar(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ld(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=bc));else if(l!==4&&(l===27&&Ar(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(ld(e,i,s),e=e.sibling;e!==null;)ld(e,i,s),e=e.sibling}function hc(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(l!==4&&(l===27&&Ar(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(hc(e,i,s),e=e.sibling;e!==null;)hc(e,i,s),e=e.sibling}function qy(e){var i=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);je(i,l,s),i[Ae]=e,i[ge]=s}catch(d){Zt(e,e.return,d)}}var zi=!1,me=!1,ud=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function yA(e,i){if(e=e.containerInfo,Md=Dc,e=tg(e),of(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,T=-1,I=-1,j=0,W=0,J=e,H=null;e:for(;;){for(var G;J!==s||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)H=J,J=G;for(;;){if(J===e)break e;if(H===s&&++j===h&&(T=v),H===d&&++W===l&&(I=v),(G=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=G}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Vd={focusedElem:e,selectionRange:s},Dc=!1,Ve=i;Ve!==null;)if(i=Ve,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ve=e;else for(;Ve!==null;){switch(i=Ve,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var bt=Da(s.type,h,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(bt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Zt(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Ld(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,Ve=e;break}Ve=i.return}}function Fy(e,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:gr(e,s),l&4&&rl(5,s);break;case 1:if(gr(e,s),l&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(v){Zt(s,s.return,v)}else{var h=Da(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(s,s.return,v)}}l&64&&Uy(s),l&512&&al(s,s.return);break;case 3:if(gr(e,s),l&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{wg(e,i)}catch(v){Zt(s,s.return,v)}}break;case 27:i===null&&l&4&&qy(s);case 26:case 5:gr(e,s),i===null&&l&4&&By(s),l&512&&al(s,s.return);break;case 12:gr(e,s);break;case 13:gr(e,s),l&4&&Qy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=RA.bind(null,s),FA(e,s))));break;case 22:if(l=s.memoizedState!==null||zi,!l){i=i!==null&&i.memoizedState!==null||me,h=zi;var d=me;zi=l,(me=i)&&!d?yr(e,s,(s.subtreeFlags&8772)!==0):gr(e,s),zi=h,me=d}break;case 30:break;default:gr(e,s)}}function Gy(e){var i=e.alternate;i!==null&&(e.alternate=null,Gy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&rr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,sn=!1;function Bi(e,i,s){for(s=s.child;s!==null;)Ky(e,i,s),s=s.sibling}function Ky(e,i,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ue,s)}catch{}switch(s.tag){case 26:me||si(s,i),Bi(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:me||si(s,i);var l=ae,h=sn;Ar(s.type)&&(ae=s.stateNode,sn=!1),Bi(e,i,s),ml(s.stateNode),ae=l,sn=h;break;case 5:me||si(s,i);case 6:if(l=ae,h=sn,ae=null,Bi(e,i,s),ae=l,sn=h,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(d){Zt(s,i,d)}else try{ae.removeChild(s.stateNode)}catch(d){Zt(s,i,d)}break;case 18:ae!==null&&(sn?(e=ae,V_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),bl(e)):V_(ae,s.stateNode));break;case 4:l=ae,h=sn,ae=s.stateNode.containerInfo,sn=!0,Bi(e,i,s),ae=l,sn=h;break;case 0:case 11:case 14:case 15:me||pr(2,s,i),me||pr(4,s,i),Bi(e,i,s);break;case 1:me||(si(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&zy(s,i,l)),Bi(e,i,s);break;case 21:Bi(e,i,s);break;case 22:me=(l=me)||s.memoizedState!==null,Bi(e,i,s),me=l;break;default:Bi(e,i,s)}}function Qy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bl(e)}catch(s){Zt(i,i.return,s)}}function _A(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Hy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Hy),i;default:throw Error(a(435,e.tag))}}function cd(e,i){var s=_A(e);i.forEach(function(l){var h=IA.bind(null,e,l);s.has(l)||(s.add(l),l.then(h,h))})}function dn(e,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Ar(T.type)){ae=T.stateNode,sn=!1;break t}break;case 5:ae=T.stateNode,sn=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(ae===null)throw Error(a(160));Ky(d,v,h),ae=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Yy(i,e),i=i.sibling}var Un=null;function Yy(e,i){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),l&4&&(pr(3,e,e.return),rl(3,e),pr(5,e,e.return));break;case 1:dn(i,e),mn(e),l&512&&(me||s===null||si(s,s.return)),l&64&&zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Un;if(dn(i,e),mn(e),l&512&&(me||s===null||si(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ra]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),je(d,l,s),d[Ae]=e,fe(d),l=d;break t;case"link":var v=q_("link","href",h).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,s),h.head.appendChild(d);break;case"meta":if(v=q_("meta","content",h).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Ae]=e,fe(d),l=d}e.stateNode=l}else H_(h,e.type,e.stateNode);else e.stateNode=j_(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?H_(h,e.type,e.stateNode):j_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&sd(e,e.memoizedProps,s.memoizedProps)}break;case 27:dn(i,e),mn(e),l&512&&(me||s===null||si(s,s.return)),s!==null&&l&4&&sd(e,e.memoizedProps,s.memoizedProps);break;case 5:if(dn(i,e),mn(e),l&512&&(me||s===null||si(s,s.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(G){Zt(e,e.return,G)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,sd(e,h,s!==null?s.memoizedProps:h)),l&1024&&(ud=!0);break;case 6:if(dn(i,e),mn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(G){Zt(e,e.return,G)}}break;case 3:if(Rc=null,h=Un,Un=Sc(i.containerInfo),dn(i,e),Un=h,mn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{bl(i.containerInfo)}catch(G){Zt(e,e.return,G)}ud&&(ud=!1,$y(e));break;case 4:l=Un,Un=Sc(e.stateNode.containerInfo),dn(i,e),mn(e),Un=l;break;case 12:dn(i,e),mn(e);break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(gd=_n()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cd(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=zi,W=me;if(zi=j||h,me=W||I,dn(i,e),me=W,zi=j,mn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||I||zi||me||Oa(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){I=s=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){Zt(I,I.return,G)}}}else if(i.tag===6){if(s===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(G){Zt(I,I.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,cd(e,s))));break;case 19:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cd(e,l)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var s,l=e.return;l!==null;){if(jy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=od(e);hc(e,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(En(v,""),s.flags&=-33);var T=od(e);hc(e,T,v);break;case 3:case 4:var I=s.stateNode.containerInfo,j=od(e);ld(e,j,I);break;default:throw Error(a(161))}}catch(W){Zt(e,e.return,W)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function $y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;$y(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function gr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fy(e,i.alternate,i),i=i.sibling}function Oa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:pr(4,i,i.return),Oa(i);break;case 1:si(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&zy(i,i.return,s),Oa(i);break;case 27:ml(i.stateNode);case 26:case 5:si(i,i.return),Oa(i);break;case 22:i.memoizedState===null&&Oa(i);break;case 30:Oa(i);break;default:Oa(i)}e=e.sibling}}function yr(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:yr(h,d,s),rl(4,d);break;case 1:if(yr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Zt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Sg(I[h],T)}catch(j){Zt(l,l.return,j)}}s&&v&64&&Uy(d),al(d,d.return);break;case 27:qy(d);case 26:case 5:yr(h,d,s),s&&l===null&&v&4&&By(d),al(d,d.return);break;case 12:yr(h,d,s);break;case 13:yr(h,d,s),s&&v&4&&Qy(h,d);break;case 22:d.memoizedState===null&&yr(h,d,s),al(d,d.return);break;case 30:break;default:yr(h,d,s)}i=i.sibling}}function hd(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Fo(s))}function fd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fo(e))}function oi(e,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xy(e,i,s,l),i=i.sibling}function Xy(e,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:oi(e,i,s,l),h&2048&&rl(9,i);break;case 1:oi(e,i,s,l);break;case 3:oi(e,i,s,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fo(e)));break;case 12:if(h&2048){oi(e,i,s,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Zt(i,i.return,I)}}else oi(e,i,s,l);break;case 13:oi(e,i,s,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?oi(e,i,s,l):sl(e,i):d._visibility&2?oi(e,i,s,l):(d._visibility|=2,Is(e,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&hd(v,i);break;case 24:oi(e,i,s,l),h&2048&&fd(i.alternate,i);break;default:oi(e,i,s,l)}}function Is(e,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=s,I=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Is(d,v,T,I,h),rl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Is(d,v,T,I,h):sl(d,v):(W._visibility|=2,Is(d,v,T,I,h)),h&&j&2048&&hd(v.alternate,v);break;case 24:Is(d,v,T,I,h),h&&j&2048&&fd(v.alternate,v);break;default:Is(d,v,T,I,h)}i=i.sibling}}function sl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,l=i,h=l.flags;switch(l.tag){case 22:sl(s,l),h&2048&&hd(l.alternate,l);break;case 24:sl(s,l),h&2048&&fd(l.alternate,l);break;default:sl(s,l)}i=i.sibling}}var ol=8192;function Cs(e){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)Wy(e),e=e.sibling}function Wy(e){switch(e.tag){case 26:Cs(e),e.flags&ol&&e.memoizedState!==null&&iS(Un,e.memoizedState,e.memoizedProps);break;case 5:Cs(e);break;case 3:case 4:var i=Un;Un=Sc(e.stateNode.containerInfo),Cs(e),Un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ol,ol=16777216,Cs(e),ol=i):Cs(e));break;default:Cs(e)}}function Zy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ll(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ve=l,t_(l,e)}Zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jy(e),e=e.sibling}function Jy(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&pr(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,fc(e)):ll(e);break;default:ll(e)}}function fc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ve=l,t_(l,e)}Zy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:pr(8,i,i.return),fc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,fc(i));break;default:fc(i)}e=e.sibling}}function t_(e,i){for(;Ve!==null;){var s=Ve;switch(s.tag){case 0:case 11:case 15:pr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ve=l;else t:for(s=e;Ve!==null;){l=Ve;var h=l.sibling,d=l.return;if(Gy(l),l===s){Ve=null;break t}if(h!==null){h.return=d,Ve=h;break t}Ve=d}}}var vA={getCacheForType:function(e){var i=Ke(Re),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s}},EA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,te=null,Nt=null,Lt=0,Qt=0,pn=null,_r=!1,Ds=!1,dd=!1,ji=0,he=0,vr=0,Na=0,md=0,Dn=0,Os=0,ul=null,on=null,pd=!1,gd=0,dc=1/0,mc=null,Er=null,Be=0,Tr=null,Ns=null,xs=0,yd=0,_d=null,e_=null,cl=0,vd=null;function gn(){if((Kt&2)!==0&&Lt!==0)return Lt&-Lt;if(X.T!==null){var e=vs;return e!==0?e:Rd()}return nr()}function n_(){Dn===0&&(Dn=(Lt&536870912)===0||qt?vo():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Dn}function yn(e,i,s){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),br(e,Lt,Dn,!1)),vi(e,s),((Kt&2)===0||e!==te)&&(e===te&&((Kt&2)===0&&(Na|=s),he===4&&br(e,Lt,Dn,!1)),li(e))}function i_(e,i,s){if((Kt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&e.expiredLanes)===0||ia(e,i),h=l?AA(e,i):bd(e,i,!0),d=l;do{if(h===0){Ds&&!l&&br(e,i,0,!1);break}else{if(s=e.current.alternate,d&&!TA(s)){h=bd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=ul;var I=T.current.memoizedState.isDehydrated;if(I&&(Ms(T,v).flags|=256),v=bd(T,v,!1),v!==2){if(dd&&!I){T.errorRecoveryDisabledLanes|=d,Na|=d,h=4;break t}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ms(e,0),br(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:br(l,i,Dn,!_r);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=gd+300-_n(),10<h)){if(br(l,i,Dn,!_r),Xa(l,0,!0)!==0)break t;l.timeoutHandle=x_(r_.bind(null,l,s,on,mc,pd,i,Dn,Na,Os,_r,d,2,-0,0),h);break t}r_(l,s,on,mc,pd,i,Dn,Na,Os,_r,d,0,-0,0)}}break}while(!0);li(e)}function r_(e,i,s,l,h,d,v,T,I,j,W,J,H,G){if(e.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(yl={stylesheets:null,count:0,unsuspend:nS},Wy(i),J=rS(),J!==null)){e.cancelPendingCommit=J(h_.bind(null,e,i,d,s,l,h,v,T,I,W,1,H,G)),br(e,d,v,!j);return}h_(e,i,d,s,l,h,v,T,I)}function TA(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function br(e,i,s,l){i&=~md,i&=~Na,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ge(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&Qn(e,s,i)}function pc(){return(Kt&6)===0?(hl(0),!1):!0}function Ed(){if(Nt!==null){if(Qt===0)var e=Nt.return;else e=Nt,Mi=wa=null,Lf(e),ws=null,el=0,e=Nt;for(;e!==null;)Ly(e.alternate,e),e=e.return;Nt=null}}function Ms(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,zA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ed(),te=e,Nt=s=Oi(e.current,null),Lt=i,Qt=0,pn=null,_r=!1,Ds=ia(e,i),dd=!1,Os=Dn=md=Na=vr=he=0,on=ul=null,pd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ge(l),d=1<<h;i|=e[h],l&=~d}return ji=i,Lu(),s}function a_(e,i){It=null,X.H=nc,i===Ko||i===Ku?(i=bg(),Qt=3):i===vg?(i=bg(),Qt=4):Qt=i===Ay?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Nt===null&&(he=1,oc(e,Sn(i,e.current)))}function s_(){var e=X.H;return X.H=nc,e===null?nc:e}function o_(){var e=X.A;return X.A=vA,e}function Td(){he=4,_r||(Lt&4194048)!==Lt&&Cn.current!==null||(Ds=!0),(vr&134217727)===0&&(Na&134217727)===0||te===null||br(te,Lt,Dn,!1)}function bd(e,i,s){var l=Kt;Kt|=2;var h=s_(),d=o_();(te!==e||Lt!==i)&&(mc=null,Ms(e,i)),i=!1;var v=he;t:do try{if(Qt!==0&&Nt!==null){var T=Nt,I=pn;switch(Qt){case 8:Ed(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var j=Qt;if(Qt=0,pn=null,Vs(e,T,I,j),s&&Ds){v=0;break t}break;default:j=Qt,Qt=0,pn=null,Vs(e,T,I,j)}}bA(),v=he;break}catch(W){a_(e,W)}while(!0);return i&&e.shellSuspendCounter++,Mi=wa=null,Kt=l,X.H=h,X.A=d,Nt===null&&(te=null,Lt=0,Lu()),v}function bA(){for(;Nt!==null;)l_(Nt)}function AA(e,i){var s=Kt;Kt|=2;var l=s_(),h=o_();te!==e||Lt!==i?(mc=null,dc=_n()+500,Ms(e,i)):Ds=ia(e,i);t:do try{if(Qt!==0&&Nt!==null){i=Nt;var d=pn;e:switch(Qt){case 1:Qt=0,pn=null,Vs(e,i,d,1);break;case 2:case 9:if(Eg(d)){Qt=0,pn=null,u_(i);break}i=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),li(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Eg(d)?(Qt=0,pn=null,u_(i)):(Qt=0,pn=null,Vs(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||F_(v)){Qt=0,pn=null;var I=T.sibling;if(I!==null)Nt=I;else{var j=T.return;j!==null?(Nt=j,gc(j)):Nt=null}break e}}Qt=0,pn=null,Vs(e,i,d,5);break;case 6:Qt=0,pn=null,Vs(e,i,d,6);break;case 8:Ed(),he=6;break t;default:throw Error(a(462))}}SA();break}catch(W){a_(e,W)}while(!0);return Mi=wa=null,X.H=l,X.A=h,Kt=s,Nt!==null?0:(te=null,Lt=0,Lu(),he)}function SA(){for(;Nt!==null&&!po();)l_(Nt)}function l_(e){var i=Py(e.alternate,e,ji);e.memoizedProps=e.pendingProps,i===null?gc(e):Nt=i}function u_(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Dy(s,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=Dy(s,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:Lf(i);default:Ly(s,i),i=Nt=cg(i,ji),i=Py(s,i,ji)}e.memoizedProps=e.pendingProps,i===null?gc(e):Nt=i}function Vs(e,i,s,l){Mi=wa=null,Lf(i),ws=null,el=0;var h=i.return;try{if(dA(e,h,i,s,Lt)){he=1,oc(e,Sn(s,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;he=1,oc(e,Sn(s,e.current)),Nt=null;return}i.flags&32768?(qt||l===1?e=!0:Ds||(Lt&536870912)!==0?e=!1:(_r=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),c_(i,e)):gc(i)}function gc(e){var i=e;do{if((i.flags&32768)!==0){c_(i,_r);return}e=i.return;var s=pA(i.alternate,i,ji);if(s!==null){Nt=s;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);he===0&&(he=5)}function c_(e,i){do{var s=gA(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);he=6,Nt=null}function h_(e,i,s,l,h,d,v,T,I){e.cancelPendingCommit=null;do yc();while(Be!==0);if((Kt&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=ff,To(e,s,d,v,T,I),e===te&&(Nt=te=null,Lt=0),Ns=i,Tr=e,xs=s,yd=d,_d=h,e_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,CA(Jr,function(){return g_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ot.p,ot.p=2,v=Kt,Kt|=4;try{yA(e,i,s)}finally{Kt=v,ot.p=h,X.T=l}}Be=1,f_(),d_(),m_()}}function f_(){if(Be===1){Be=0;var e=Tr,i=Ns,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=ot.p;ot.p=2;var h=Kt;Kt|=4;try{Yy(i,e);var d=Vd,v=tg(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Jp(T.ownerDocument.documentElement,T)){if(I!==null&&of(T)){var j=I.start,W=I.end;if(W===void 0&&(W=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(W,T.value.length);else{var J=T.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var G=H.getSelection(),bt=T.textContent.length,_t=Math.min(I.start,bt),Wt=I.end===void 0?_t:Math.min(I.end,bt);!G.extend&&_t>Wt&&(v=Wt,Wt=_t,_t=v);var U=Zp(T,_t),x=Zp(T,Wt);if(U&&x&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var B=J.createRange();B.setStart(U.node,U.offset),G.removeAllRanges(),_t>Wt?(G.addRange(B),G.extend(x.node,x.offset)):(B.setEnd(x.node,x.offset),G.addRange(B))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Dc=!!Md,Vd=Md=null}finally{Kt=h,ot.p=l,X.T=s}}e.current=i,Be=2}}function d_(){if(Be===2){Be=0;var e=Tr,i=Ns,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=ot.p;ot.p=2;var h=Kt;Kt|=4;try{Fy(e,i.alternate,i)}finally{Kt=h,ot.p=l,X.T=s}}Be=3}}function m_(){if(Be===4||Be===3){Be=0,fu();var e=Tr,i=Ns,s=xs,l=e_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Be=5:(Be=0,Ns=Tr=null,p_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Er=null),Wa(s),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ue,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=ot.p,ot.p=2,X.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{X.T=i,ot.p=h}}(xs&3)!==0&&yc(),li(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===vd?cl++:(cl=0,vd=e):cl=0,hl(0)}}function p_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Fo(i)))}function yc(e){return f_(),d_(),m_(),g_()}function g_(){if(Be!==5)return!1;var e=Tr,i=yd;yd=0;var s=Wa(xs),l=X.T,h=ot.p;try{ot.p=32>s?32:s,X.T=null,s=_d,_d=null;var d=Tr,v=xs;if(Be=0,Ns=Tr=null,xs=0,(Kt&6)!==0)throw Error(a(331));var T=Kt;if(Kt|=4,Jy(d.current),Xy(d,d.current,v,s),Kt=T,hl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ue,d)}catch{}return!0}finally{ot.p=h,X.T=l,p_(e,i)}}function y_(e,i,s){i=Sn(s,i),i=Wf(e.stateNode,i,2),e=hr(e,i,2),e!==null&&(vi(e,2),li(e))}function Zt(e,i,s){if(e.tag===3)y_(e,e,s);else for(;i!==null;){if(i.tag===3){y_(i,e,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Er===null||!Er.has(l))){e=Sn(s,e),s=Ty(2),l=hr(i,s,2),l!==null&&(by(s,l,i,e),vi(l,2),li(l));break}}i=i.return}}function Ad(e,i,s){var l=e.pingCache;if(l===null){l=e.pingCache=new EA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(dd=!0,h.add(s),e=wA.bind(null,e,i,s),i.then(e,e))}function wA(e,i,s){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Lt&s)===s&&(he===4||he===3&&(Lt&62914560)===Lt&&300>_n()-gd?(Kt&2)===0&&Ms(e,0):md|=s,Os===Lt&&(Os=0)),li(e)}function __(e,i){i===0&&(i=Eo()),e=ps(e,i),e!==null&&(vi(e,i),li(e))}function RA(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),__(e,s)}function IA(e,i){var s=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),__(e,s)}function CA(e,i){return Wr(e,i)}var _c=null,Ps=null,Sd=!1,vc=!1,wd=!1,xa=0;function li(e){e!==Ps&&e.next===null&&(Ps===null?_c=Ps=e:Ps=Ps.next=e),vc=!0,Sd||(Sd=!0,OA())}function hl(e,i){if(!wd&&vc){wd=!0;do for(var s=!1,l=_c;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,b_(l,d))}else d=Lt,d=Xa(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ia(l,d)||(s=!0,b_(l,d));l=l.next}while(s);wd=!1}}function DA(){v_()}function v_(){vc=Sd=!1;var e=0;xa!==0&&(UA()&&(e=xa),xa=0);for(var i=_n(),s=null,l=_c;l!==null;){var h=l.next,d=E_(l,i);d===0?(l.next=null,s===null?_c=h:s.next=h,h===null&&(Ps=s)):(s=l,(e!==0||(d&3)!==0)&&(vc=!0)),l=h}hl(e)}function E_(e,i){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),T=1<<v,I=h[v];I===-1?((T&s)===0||(T&l)!==0)&&(h[v]=_o(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=te,s=Lt,s=Xa(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Zr(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ia(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(l!==null&&Zr(l),Wa(s)){case 2:case 8:s=Ya;break;case 32:s=Jr;break;case 268435456:s=$a;break;default:s=Jr}return l=T_.bind(null,e),s=Wr(s,l),e.callbackPriority=i,e.callbackNode=s,i}return l!==null&&l!==null&&Zr(l),e.callbackPriority=2,e.callbackNode=null,2}function T_(e,i){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(yc()&&e.callbackNode!==s)return null;var l=Lt;return l=Xa(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(i_(e,l,i),E_(e,_n()),e.callbackNode!=null&&e.callbackNode===s?T_.bind(null,e):null)}function b_(e,i){if(yc())return null;i_(e,i,!0)}function OA(){BA(function(){(Kt&6)!==0?Wr(go,DA):v_()})}function Rd(){return xa===0&&(xa=vo()),xa}function A_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:is(""+e)}function S_(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function NA(e,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=A_((h[ge]||null).action),v=l.submitter;v&&(i=(i=v[ge]||null)?A_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new rs("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xa!==0){var I=v?S_(h,v):new FormData(h);Kf(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?S_(h,v):new FormData(h),Kf(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Id=0;Id<hf.length;Id++){var Cd=hf[Id],xA=Cd.toLowerCase(),MA=Cd[0].toUpperCase()+Cd.slice(1);Ln(xA,"on"+MA)}Ln(ig,"onAnimationEnd"),Ln(rg,"onAnimationIteration"),Ln(ag,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Xb,"onTransitionRun"),Ln(Wb,"onTransitionStart"),Ln(Zb,"onTransitionCancel"),Ln(sg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function w_(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,j=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(W){sc(W)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,j=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(W){sc(W)}h.currentTarget=null,d=I}}}}function xt(e,i){var s=i[Ao];s===void 0&&(s=i[Ao]=new Set);var l=e+"__bubble";s.has(l)||(R_(i,e,2,!1),s.add(l))}function Dd(e,i,s){var l=0;i&&(l|=4),R_(s,e,l,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Od(e){if(!e[Ec]){e[Ec]=!0,So.forEach(function(s){s!=="selectionchange"&&(VA.has(s)||Dd(s,!1,e),Dd(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,Dd("selectionchange",!1,i))}}function R_(e,i,s,l){switch(X_(i)){case 2:var h=oS;break;case 8:h=lS;break;default:h=Fd}s=h.bind(null,i,s,e),h=void 0,!bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,s,{capture:!0,passive:h}):e.addEventListener(i,s,!0):h!==void 0?e.addEventListener(i,s,{passive:h}):e.addEventListener(i,s,!1)}function Nd(e,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ei(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}T=T.parentNode}}l=l.return}bu(function(){var j=d,W=Tn(s),J=[];t:{var H=og.get(e);if(H!==void 0){var G=rs,bt=e;switch(e){case"keypress":if(Jn(s)===0)break t;case"keydown":case"keyup":G=cs;break;case"focusin":bt="focus",G=os;break;case"focusout":bt="blur",G=os;break;case"beforeblur":case"afterblur":G=os;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ou;break;case ig:case rg:case ag:G=ls;break;case sg:G=xu;break;case"scroll":case"scrollend":G=Au;break;case"wheel":G=hs;break;case"copy":case"cut":case"paste":G=us;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ko;break;case"toggle":case"beforetoggle":G=Vu}var _t=(i&4)!==0,Wt=!_t&&(e==="scroll"||e==="scrollend"),U=_t?H!==null?H+"Capture":null:H;_t=[];for(var x=j,B;x!==null;){var Z=x;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||U===null||(Z=ha(x,U),Z!=null&&_t.push(dl(x,Z,B))),Wt)break;x=x.return}0<_t.length&&(H=new G(H,bt,null,s,W),J.push({event:H,listeners:_t}))}}if((i&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&s!==Si&&(bt=s.relatedTarget||s.fromElement)&&(Ei(bt)||bt[vn]))break t;if((G||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,G?(bt=s.relatedTarget||s.toElement,G=j,bt=bt?Ei(bt):null,bt!==null&&(Wt=u(bt),_t=bt.tag,bt!==Wt||_t!==5&&_t!==27&&_t!==6)&&(bt=null)):(G=null,bt=j),G!==bt)){if(_t=An,Z="onMouseLeave",U="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(_t=ko,Z="onPointerLeave",U="onPointerEnter",x="pointer"),Wt=G==null?H:$n(G),B=bt==null?H:$n(bt),H=new _t(Z,x+"leave",G,s,W),H.target=Wt,H.relatedTarget=B,Z=null,Ei(W)===j&&(_t=new _t(U,x+"enter",bt,s,W),_t.target=B,_t.relatedTarget=Wt,Z=_t),Wt=Z,G&&bt)e:{for(_t=G,U=bt,x=0,B=_t;B;B=ks(B))x++;for(B=0,Z=U;Z;Z=ks(Z))B++;for(;0<x-B;)_t=ks(_t),x--;for(;0<B-x;)U=ks(U),B--;for(;x--;){if(_t===U||U!==null&&_t===U.alternate)break e;_t=ks(_t),U=ks(U)}_t=null}else _t=null;G!==null&&I_(J,H,G,_t,!1),bt!==null&&Wt!==null&&I_(J,Wt,bt,_t,!0)}}t:{if(H=j?$n(j):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ht=Kp;else if(we(H))if(Qp)ht=Qb;else{ht=Gb;var Ot=Fb}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&Do(j.elementType)&&(ht=Kp):ht=Kb;if(ht&&(ht=ht(e,j))){Di(J,ht,s,W);break t}Ot&&Ot(e,H,j),e==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&sr(H,"number",H.value)}switch(Ot=j?$n(j):window,e){case"focusin":(we(Ot)||Ot.contentEditable==="true")&&(fs=Ot,lf=j,zo=null);break;case"focusout":zo=lf=fs=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,eg(J,s,W);break;case"selectionchange":if($b)break;case"keydown":case"keyup":eg(J,s,W)}var pt;if(ni)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Pt?Y(e,s)&&(vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(vt="onCompositionStart");vt&&(_&&s.locale!=="ko"&&(Pt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Pt&&(pt=No()):(Zn=W,or="value"in Zn?Zn.value:Zn.textContent,Pt=!0)),Ot=Tc(j,vt),0<Ot.length&&(vt=new Vo(vt,e,null,s,W),J.push({event:vt,listeners:Ot}),pt?vt.data=pt:(pt=st(s),pt!==null&&(vt.data=pt)))),(pt=g?Se(e,s):kt(e,s))&&(vt=Tc(j,"onBeforeInput"),0<vt.length&&(Ot=new Vo("onBeforeInput","beforeinput",null,s,W),J.push({event:Ot,listeners:vt}),Ot.data=pt)),NA(J,e,j,s,W)}w_(J,i)})}function dl(e,i,s){return{instance:e,listener:i,currentTarget:s}}function Tc(e,i){for(var s=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ha(e,s),h!=null&&l.unshift(dl(e,h,d)),h=ha(e,i),h!=null&&l.push(dl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function I_(e,i,s,l,h){for(var d=i._reactName,v=[];s!==null&&s!==l;){var T=s,I=T.alternate,j=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||j===null||(I=j,h?(j=ha(s,d),j!=null&&v.unshift(dl(s,j,I))):h||(j=ha(s,d),j!=null&&v.push(dl(s,j,I)))),s=s.return}v.length!==0&&e.push({event:i,listeners:v})}var PA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function C_(e){return(typeof e=="string"?e:""+e).replace(PA,`
`).replace(kA,"")}function D_(e,i){return i=C_(i),C_(e)===i}function bc(){}function Xt(e,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(e,""+l);break;case"className":Xn(e,"class",l);break;case"tabIndex":Xn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(e,s,l);break;case"style":Co(e,l,d);break;case"data":if(i!=="object"){Xn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=is(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=is(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=bc);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=is(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ar(e,"popover",l);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=tf.get(s)||s,ar(e,s,l))}}function xd(e,i,s,l,h,d){switch(s){case"style":Co(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Za.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=e[ge]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ar(e,s,l)}}}function je(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xt(e,i,d,v,s,null)}}h&&Xt(e,i,"srcSet",s.srcSet,s,null),l&&Xt(e,i,"src",s.src,s,null);return;case"input":xt("invalid",e);var T=d=v=h=null,I=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":j=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:Xt(e,i,l,W,s,null)}}la(e,d,T,I,j,v,h,!1),ns(e);return;case"select":xt("invalid",e),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(e,i,h,T,s,null)}i=d,s=v,e.multiple=!!l,i!=null?Ai(e,!!l,i,!1):s!=null&&Ai(e,!!l,s,!0);return;case"textarea":xt("invalid",e),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Xt(e,i,v,T,s,null)}ua(e,l,h,d),ns(e);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,i,I,l,s,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<fl.length;l++)xt(fl[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xt(e,i,j,l,s,null)}return;default:if(Do(i)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&xd(e,i,W,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Xt(e,i,T,l,s,null))}function LA(e,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,j=null,W=null;for(G in s){var J=s[G];if(s.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(G)||Xt(e,i,G,null,l,J)}}for(var H in l){var G=l[H];if(J=s[H],l.hasOwnProperty(H)&&(G!=null||J!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":j=G;break;case"defaultChecked":W=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:G!==J&&Xt(e,i,H,G,l,J)}}cn(e,v,T,I,j,W,d,h);return;case"select":G=v=T=H=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||Xt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Xt(e,i,h,d,l,I)}i=T,s=v,l=G,H!=null?Ai(e,!!s,H,!1):!!l!=!!s&&(i!=null?Ai(e,!!s,i,!0):Ai(e,!!s,s?[]:"",!1));return;case"textarea":G=H=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Xt(e,i,v,h,l,d)}Yt(e,H,G);return;case"option":for(var bt in s)if(H=s[bt],s.hasOwnProperty(bt)&&H!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:Xt(e,i,bt,null,l,H)}for(I in l)if(H=l[I],G=s[I],l.hasOwnProperty(I)&&H!==G&&(H!=null||G!=null))switch(I){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xt(e,i,I,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)H=s[_t],s.hasOwnProperty(_t)&&H!=null&&!l.hasOwnProperty(_t)&&Xt(e,i,_t,null,l,H);for(j in l)if(H=l[j],G=s[j],l.hasOwnProperty(j)&&H!==G&&(H!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:Xt(e,i,j,H,l,G)}return;default:if(Do(i)){for(var Wt in s)H=s[Wt],s.hasOwnProperty(Wt)&&H!==void 0&&!l.hasOwnProperty(Wt)&&xd(e,i,Wt,void 0,l,H);for(W in l)H=l[W],G=s[W],!l.hasOwnProperty(W)||H===G||H===void 0&&G===void 0||xd(e,i,W,H,l,G);return}}for(var U in s)H=s[U],s.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Xt(e,i,U,null,l,H);for(J in l)H=l[J],G=s[J],!l.hasOwnProperty(J)||H===G||H==null&&G==null||Xt(e,i,J,H,l,G)}var Md=null,Vd=null;function Ac(e){return e.nodeType===9?e:e.ownerDocument}function O_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Pd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kd=null;function UA(){var e=window.event;return e&&e.type==="popstate"?e===kd?!1:(kd=e,!0):(kd=null,!1)}var x_=typeof setTimeout=="function"?setTimeout:void 0,zA=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(e){return M_.resolve(null).then(e).catch(jA)}:x_;function jA(e){setTimeout(function(){throw e})}function Ar(e){return e==="head"}function V_(e,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var v=e.ownerDocument;if(s&1&&ml(v.documentElement),s&2&&ml(v.body),s&4)for(s=v.head,ml(s),v=s.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ra]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}if(h===0){e.removeChild(d),bl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);bl(i)}function Ld(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ld(s),rr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function qA(e,i,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ra])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function HA(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zn(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function FA(e,i){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var zd=null;function P_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}function k_(e,i,s){switch(i=Ac(s),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ml(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);rr(e)}var On=new Map,L_=new Set;function Sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qi=ot.d;ot.d={f:GA,r:KA,D:QA,C:YA,L:$A,m:XA,X:ZA,S:WA,M:JA};function GA(){var e=qi.f(),i=pc();return e||i}function KA(e){var i=Yn(e);i!==null&&i.tag===5&&i.type==="form"?iy(i):qi.r(e)}var Ls=typeof document>"u"?null:document;function U_(e,i,s){var l=Ls;if(l&&typeof i=="string"&&i){var h=ye(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),L_.has(h)||(L_.add(h),e={rel:e,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),je(i,"link",e),fe(i),l.head.appendChild(i)))}}function QA(e){qi.D(e),U_("dns-prefetch",e,null)}function YA(e,i){qi.C(e,i),U_("preconnect",e,i)}function $A(e,i,s){qi.L(e,i,s);var l=Ls;if(l&&e&&i){var h='link[rel="preload"][as="'+ye(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ye(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ye(s.imageSizes)+'"]')):h+='[href="'+ye(e)+'"]';var d=h;switch(i){case"style":d=Us(e);break;case"script":d=zs(e)}On.has(d)||(e=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),On.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(pl(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),je(i,"link",e),fe(i),l.head.appendChild(i)))}}function XA(e,i){qi.m(e,i);var s=Ls;if(s&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ye(l)+'"][href="'+ye(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=zs(e)}if(!On.has(d)&&(e=E({rel:"modulepreload",href:e},i),On.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(gl(d)))return}l=s.createElement("link"),je(l,"link",e),fe(l),s.head.appendChild(l)}}}function WA(e,i,s){qi.S(e,i,s);var l=Ls;if(l&&e){var h=Ze(l).hoistableStyles,d=Us(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(pl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},s),(s=On.get(d))&&Bd(e,s);var I=v=l.createElement("link");fe(I),je(I,"link",e),I._p=new Promise(function(j,W){I.onload=j,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function ZA(e,i){qi.X(e,i);var s=Ls;if(s&&e){var l=Ze(s).hoistableScripts,h=zs(e),d=l.get(h);d||(d=s.querySelector(gl(h)),d||(e=E({src:e,async:!0},i),(i=On.get(h))&&jd(e,i),d=s.createElement("script"),fe(d),je(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function JA(e,i){qi.M(e,i);var s=Ls;if(s&&e){var l=Ze(s).hoistableScripts,h=zs(e),d=l.get(h);d||(d=s.querySelector(gl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=On.get(h))&&jd(e,i),d=s.createElement("script"),fe(d),je(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function z_(e,i,s,l){var h=(h=At.current)?Sc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Us(s.href),s=Ze(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Us(s.href);var d=Ze(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(pl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(e,s),d||tS(h,e,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=zs(s),s=Ze(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Us(e){return'href="'+ye(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function B_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function tS(e,i,s,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),je(i,"link",s),fe(i),e.head.appendChild(i))}function zs(e){return'[src="'+ye(e)+'"]'}function gl(e){return"script[async]"+e}function j_(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ye(s.href)+'"]');if(l)return i.instance=l,fe(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),je(l,"style",h),wc(l,s.precedence,e),i.instance=l;case"stylesheet":h=Us(s.href);var d=e.querySelector(pl(h));if(d)return i.state.loading|=4,i.instance=d,fe(d),d;l=B_(s),(h=On.get(h))&&Bd(l,h),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),je(d,"link",l),i.state.loading|=4,wc(d,s.precedence,e),i.instance=d;case"script":return d=zs(s.src),(h=e.querySelector(gl(d)))?(i.instance=h,fe(h),h):(l=s,(h=On.get(d))&&(l=E({},s),jd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),je(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,wc(l,s.precedence,e));return i.instance}function wc(e,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function Bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function jd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Rc=null;function q_(e,i,s){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(s,l)}else h=Rc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[ra]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function H_(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function eS(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function F_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var yl=null;function nS(){}function iS(e,i,s){if(yl===null)throw Error(a(475));var l=yl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Us(s.href),d=e.querySelector(pl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Ic.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,fe(d);return}d=e.ownerDocument||e,s=B_(s),(h=On.get(h))&&Bd(s,h),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),je(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ic.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function rS(){if(yl===null)throw Error(a(475));var e=yl;return e.stylesheets&&e.count===0&&qd(e,e.stylesheets),0<e.count?function(i){var s=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Ic(){if(this.count--,this.count===0){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cc=null;function qd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cc=new Map,i.forEach(aS,e),Cc=null,Ic.call(e))}function aS(e,i){if(!(i.state.loading&4)){var s=Cc.get(e);if(s)var l=s.get(null);else{s=new Map,Cc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=Ic.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var _l={$$typeof:K,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function sS(e,i,s,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function G_(e,i,s,l,h,d,v,T,I,j,W,J){return e=new sS(e,i,s,v,T,I,j,J),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),e.current=d,d.stateNode=e,i=Af(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},If(d),e}function K_(e){return e?(e=gs,e):gs}function Q_(e,i,s,l,h,d){h=K_(h),l.context===null?l.context=h:l.pendingContext=h,l=cr(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=hr(e,l,i),s!==null&&(yn(s,e,i),Yo(s,e,i))}function Y_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function Hd(e,i){Y_(e,i),(e=e.alternate)&&Y_(e,i)}function $_(e){if(e.tag===13){var i=ps(e,67108864);i!==null&&yn(i,e,67108864),Hd(e,67108864)}}var Dc=!0;function oS(e,i,s,l){var h=X.T;X.T=null;var d=ot.p;try{ot.p=2,Fd(e,i,s,l)}finally{ot.p=d,X.T=h}}function lS(e,i,s,l){var h=X.T;X.T=null;var d=ot.p;try{ot.p=8,Fd(e,i,s,l)}finally{ot.p=d,X.T=h}}function Fd(e,i,s,l){if(Dc){var h=Gd(l);if(h===null)Nd(e,i,l,Oc,s),W_(e,l);else if(cS(h,e,i,s,l))l.stopPropagation();else if(W_(e,l),i&4&&-1<uS.indexOf(e)){for(;h!==null;){var d=Yn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Ge(v);T.entanglements[1]|=I,v&=~I}li(d),(Kt&6)===0&&(dc=_n()+500,hl(0))}}break;case 13:T=ps(d,2),T!==null&&yn(T,d,2),pc(),Hd(d,2)}if(d=Gd(l),d===null&&Nd(e,i,l,Oc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Nd(e,i,l,null,s)}}function Gd(e){return e=Tn(e),Kd(e)}var Oc=null;function Kd(e){if(Oc=null,e=Ei(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=f(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Oc=e,null}function X_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yh()){case go:return 2;case Ya:return 8;case Jr:case $h:return 32;case $a:return 268435456;default:return 32}default:return 32}}var Qd=!1,Sr=null,wr=null,Rr=null,vl=new Map,El=new Map,Ir=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(e,i){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(i.pointerId)}}function Tl(e,i,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Yn(i),i!==null&&$_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function cS(e,i,s,l,h){switch(i){case"focusin":return Sr=Tl(Sr,e,i,s,l,h),!0;case"dragenter":return wr=Tl(wr,e,i,s,l,h),!0;case"mouseover":return Rr=Tl(Rr,e,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return vl.set(d,Tl(vl.get(d)||null,e,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,El.set(d,Tl(El.get(d)||null,e,i,s,l,h)),!0}return!1}function Z_(e){var i=Ei(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){e.blockedOn=i,pu(e.priority,function(){if(s.tag===13){var l=gn();l=er(l);var h=ps(s,l);h!==null&&yn(h,s,l),Hd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Gd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Si=l,s.target.dispatchEvent(l),Si=null}else return i=Yn(s),i!==null&&$_(i),e.blockedOn=s,!1;i.shift()}return!0}function J_(e,i,s){Nc(e)&&s.delete(i)}function hS(){Qd=!1,Sr!==null&&Nc(Sr)&&(Sr=null),wr!==null&&Nc(wr)&&(wr=null),Rr!==null&&Nc(Rr)&&(Rr=null),vl.forEach(J_),El.forEach(J_)}function xc(e,i){e.blockedOn===i&&(e.blockedOn=null,Qd||(Qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hS)))}var Mc=null;function tv(e){Mc!==e&&(Mc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===e&&(Mc=null);for(var i=0;i<e.length;i+=3){var s=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Kd(l||s)===null)continue;break}var d=Yn(s);d!==null&&(e.splice(i,3),i-=3,Kf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function bl(e){function i(I){return xc(I,e)}Sr!==null&&xc(Sr,e),wr!==null&&xc(wr,e),Rr!==null&&xc(Rr,e),vl.forEach(i),El.forEach(i);for(var s=0;s<Ir.length;s++){var l=Ir[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ir.length&&(s=Ir[0],s.blockedOn===null);)Z_(s),s.blockedOn===null&&Ir.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[ge]||null;if(typeof d=="function")v||tv(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ge]||null)T=v.formAction;else if(Kd(h)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),tv(s)}}}function Yd(e){this._internalRoot=e}Vc.prototype.render=Yd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=gn();Q_(s,l,e,i,null,null)},Vc.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Q_(e.current,2,null,e,null,null),pc(),i[vn]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var i=nr();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Ir.length&&i!==0&&i<Ir[s].priority;s++);Ir.splice(s,0,e),s===0&&Z_(e)}};var ev=t.version;if(ev!=="19.1.0")throw Error(a(527,ev,"19.1.0"));ot.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var fS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{ue=Pc.inject(fS),Gt=Pc}catch{}}return Sl.createRoot=function(e,i){if(!o(e))throw Error(a(299));var s=!1,l="",h=yy,d=_y,v=vy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=G_(e,1,!1,null,null,s,l,h,d,v,T,null),e[vn]=i.current,Od(e),new Yd(i)},Sl.hydrateRoot=function(e,i,s){if(!o(e))throw Error(a(299));var l=!1,h="",d=yy,v=_y,T=vy,I=null,j=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(j=s.formState)),i=G_(e,1,!0,i,s??null,l,h,d,v,T,I,j),i.context=K_(null),s=i.current,l=gn(),l=er(l),h=cr(l),h.callback=null,hr(s,h,l),s=l,i.current.lanes=s,vi(i,s),li(i),e[vn]=i.current,Od(e),new Vc(i)},Sl.version="19.1.0",Sl}var hv;function AS(){if(hv)return Wd.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Wd.exports=bS(),Wd.exports}var SS=AS();const wS="/ARTVENTURE/assets/1-DVFOCg7i.jpg",RS="/ARTVENTURE/assets/2-BKYnCJRx.jpg",IS="/ARTVENTURE/assets/3-BaVBKZFM.jpg",CS="/ARTVENTURE/assets/4-D3wzt5X9.jpg",DS="/ARTVENTURE/assets/5-BImSDc44.jpg",OS="/ARTVENTURE/assets/6-CNWYnzNc.jpg",NS="/ARTVENTURE/assets/7-eZ9KmT6o.jpg",xS=()=>(q.useEffect(()=>{const r=()=>{const t=window.scrollY;document.querySelectorAll(".hero-section img").forEach(o=>{o.style.opacity=Math.max(1-t/1e3,0),o.style.transform=`translateY(-${t/5}px)`}),document.querySelectorAll(".hero-text").forEach(o=>{o.style.opacity=Math.max(1-t/800,0),o.style.transform=`translateY(-${t/8}px)`})};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[]),it.jsxs("div",{className:"hero-section",children:[it.jsx("h1",{className:"hero-text",children:"ARTVENTURE"}),it.jsx("p",{className:"hero-text",children:"Discover the beauty of art from around the world."}),it.jsx("img",{id:"m1",src:wS,alt:"none"}),it.jsx("img",{id:"m2",src:RS,alt:"none"}),it.jsx("img",{id:"m3",src:IS,alt:"none"}),it.jsx("img",{id:"m4",src:CS,alt:"none"}),it.jsx("img",{id:"m5",src:DS,alt:"none"}),it.jsx("img",{id:"m6",src:OS,alt:"none"}),it.jsx("img",{id:"m7",src:NS,alt:"none"})]}));var wl={},fv;function MS(){if(fv)return wl;fv=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.parse=f,wl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,P){const M=new u,F=w.length;if(F<2)return M;const L=(P==null?void 0:P.decode)||E;let Q=0;do{const $=w.indexOf("=",Q);if($===-1)break;const K=w.indexOf(";",Q),rt=K===-1?F:K;if($>rt){Q=w.lastIndexOf(";",$-1)+1;continue}const lt=m(w,Q,$),mt=p(w,$,lt),C=w.slice(lt,mt);if(M[C]===void 0){let S=m(w,$+1,rt),R=p(w,rt,S);const O=L(w.slice(S,R));M[C]=O}Q=rt+1}while(Q<F);return M}function m(w,P,M){do{const F=w.charCodeAt(P);if(F!==32&&F!==9)return P}while(++P<M);return M}function p(w,P,M){for(;P>M;){const F=w.charCodeAt(--P);if(F!==32&&F!==9)return P+1}return M}function y(w,P,M){const F=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const L=F(P);if(!t.test(L))throw new TypeError(`argument val is invalid: ${P}`);let Q=w+"="+L;if(!M)return Q;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);Q+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);Q+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);Q+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);Q+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(Q+="; HttpOnly"),M.secure&&(Q+="; Secure"),M.partitioned&&(Q+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return Q}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return wl}MS();var dv="popstate";function VS(r={}){function t(a,o){let{pathname:u,search:f,hash:m}=a.location;return mm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Ul(o)}return kS(t,n,null,r)}function se(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function qn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PS(){return Math.random().toString(36).substring(2,10)}function mv(r,t){return{usr:r.state,key:r.key,idx:t}}function mm(r,t,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ro(t):t,state:n,key:t&&t.key||a||PS()}}function Ul({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ro(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function kS(r,t,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let L=E(),Q=L==null?null:L-y;y=L,p&&p({action:m,location:F.location,delta:Q})}function w(L,Q){m="PUSH";let $=mm(F.location,L,Q);y=E()+1;let K=mv($,y),rt=F.createHref($);try{f.pushState(K,"",rt)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;o.location.assign(rt)}u&&p&&p({action:m,location:F.location,delta:1})}function P(L,Q){m="REPLACE";let $=mm(F.location,L,Q);y=E();let K=mv($,y),rt=F.createHref($);f.replaceState(K,"",rt),u&&p&&p({action:m,location:F.location,delta:0})}function M(L){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,$=typeof L=="string"?L:Ul(L);return $=$.replace(/ $/,"%20"),se(Q,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,Q)}let F={get action(){return m},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,A),p=L,()=>{o.removeEventListener(dv,A),p=null}},createHref(L){return t(o,L)},createURL:M,encodeLocation(L){let Q=M(L);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:w,replace:P,go(L){return f.go(L)}};return F}function $0(r,t,n="/"){return LS(r,t,n,!1)}function LS(r,t,n,a){let o=typeof t=="string"?ro(t):t,u=Qi(o.pathname||"/",n);if(u==null)return null;let f=X0(r);US(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=$S(u);m=QS(f[p],y,a)}return m}function X0(r,t=[],n=[],a=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(se(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=Gi([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(se(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),X0(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:GS(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of W0(u.path))o(u,f,p)}),t}function W0(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=W0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function US(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:KS(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var zS=/^:[\w-]+$/,BS=3,jS=2,qS=1,HS=10,FS=-2,pv=r=>r==="*";function GS(r,t){let n=r.split("/"),a=n.length;return n.some(pv)&&(a+=FS),t&&(a+=jS),n.filter(o=>!pv(o)).reduce((o,u)=>o+(zS.test(u)?BS:u===""?qS:HS),a)}function KS(r,t){return r.length===t.length&&r.slice(0,-1).every((a,o)=>a===t[o])?r[r.length-1]-t[t.length-1]:0}function QS(r,t,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!A&&y&&n&&!a[a.length-1].route.index&&(A=nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Gi([u,A.pathname]),pathnameBase:JS(Gi([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=Gi([u,A.pathnameBase]))}return f}function nh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=YS(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:A},w)=>{if(E==="*"){let M=m[w]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const P=m[w];return A&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function YS(r,t=!1,n=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function $S(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Qi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function XS(r,t="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?ro(r):r;return{pathname:n?n.startsWith("/")?n:WS(n,t):t,search:tw(a),hash:ew(o)}}function WS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function em(r,t,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ym(r){let t=ZS(r);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function $m(r,t,n,a=!1){let o;typeof r=="string"?o=ro(r):(o={...r},se(!o.pathname||!o.pathname.includes("?"),em("?","pathname","search",o)),se(!o.pathname||!o.pathname.includes("#"),em("#","pathname","hash",o)),se(!o.search||!o.search.includes("#"),em("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!a&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?t[A]:"/"}let p=XS(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Gi=r=>r.join("/").replace(/\/\/+/g,"/"),JS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ew=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function nw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Z0=["POST","PUT","PATCH","DELETE"];new Set(Z0);var iw=["GET",...Z0];new Set(iw);var ao=q.createContext(null);ao.displayName="DataRouter";var Ah=q.createContext(null);Ah.displayName="DataRouterState";var J0=q.createContext({isTransitioning:!1});J0.displayName="ViewTransition";var rw=q.createContext(new Map);rw.displayName="Fetchers";var aw=q.createContext(null);aw.displayName="Await";var Gn=q.createContext(null);Gn.displayName="Navigation";var Wl=q.createContext(null);Wl.displayName="Location";var gi=q.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var Xm=q.createContext(null);Xm.displayName="RouteError";function sw(r,{relative:t}={}){se(so(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=q.useContext(Gn),{hash:o,pathname:u,search:f}=Zl(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Gi([n,u])),a.createHref({pathname:m,search:f,hash:o})}function so(){return q.useContext(Wl)!=null}function Qr(){return se(so(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Wl).location}var tE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eE(r){q.useContext(Gn).static||q.useLayoutEffect(r)}function Sh(){let{isDataRoute:r}=q.useContext(gi);return r?vw():ow()}function ow(){se(so(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(ao),{basename:t,navigator:n}=q.useContext(Gn),{matches:a}=q.useContext(gi),{pathname:o}=Qr(),u=JSON.stringify(Ym(a)),f=q.useRef(!1);return eE(()=>{f.current=!0}),q.useCallback((p,y={})=>{if(qn(f.current,tE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=$m(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Gi([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}q.createContext(null);function Zl(r,{relative:t}={}){let{matches:n}=q.useContext(gi),{pathname:a}=Qr(),o=JSON.stringify(Ym(n));return q.useMemo(()=>$m(r,JSON.parse(o),a,t==="path"),[r,o,a,t])}function lw(r,t){return nE(r,t)}function nE(r,t,n,a){var $;se(so(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext(Gn),{matches:f}=q.useContext(gi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let K=A&&A.path||"";iE(y,!A||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=Qr(),P;if(t){let K=typeof t=="string"?ro(t):t;se(E==="/"||(($=K.pathname)==null?void 0:$.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),P=K}else P=w;let M=P.pathname||"/",F=M;if(E!=="/"){let K=E.replace(/^\//,"").split("/");F="/"+M.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:$0(r,{pathname:F});qn(A||L!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),qn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=dw(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:Gi([E,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:Gi([E,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),f,n,a);return t&&Q?q.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Q):Q}function uw(){let r=_w(),t=nw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:o},n):null,f)}var cw=q.createElement(uw,null),hw=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?q.createElement(gi.Provider,{value:this.props.routeContext},q.createElement(Xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fw({routeContext:r,match:t,children:n}){let a=q.useContext(ao);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(gi.Provider,{value:r},n)}function dw(r,t=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);se(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:A}=n,w=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let A,w=!1,P=null,M=null;n&&(A=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||cw,f&&(m<0&&E===0?(iE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,M=null):m===E&&(w=!0,M=y.route.hydrateFallbackElement||null)));let F=t.concat(o.slice(0,E+1)),L=()=>{let Q;return A?Q=P:w?Q=M:y.route.Component?Q=q.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,q.createElement(fw,{match:y,routeContext:{outlet:p,matches:F,isDataRoute:n!=null},children:Q})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?q.createElement(hw,{location:n.location,revalidation:n.revalidation,component:P,error:A,children:L(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):L()},null)}function Wm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mw(r){let t=q.useContext(ao);return se(t,Wm(r)),t}function pw(r){let t=q.useContext(Ah);return se(t,Wm(r)),t}function gw(r){let t=q.useContext(gi);return se(t,Wm(r)),t}function Zm(r){let t=gw(r),n=t.matches[t.matches.length-1];return se(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function yw(){return Zm("useRouteId")}function _w(){var a;let r=q.useContext(Xm),t=pw("useRouteError"),n=Zm("useRouteError");return r!==void 0?r:(a=t.errors)==null?void 0:a[n]}function vw(){let{router:r}=mw("useNavigate"),t=Zm("useNavigate"),n=q.useRef(!1);return eE(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{qn(n.current,tE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var gv={};function iE(r,t,n){!t&&!gv[r]&&(gv[r]=!0,qn(!1,n))}q.memo(Ew);function Ew({routes:r,future:t,state:n}){return nE(r,void 0,n,t)}function Tw({to:r,replace:t,state:n,relative:a}){se(so(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Gn);qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(gi),{pathname:f}=Qr(),m=Sh(),p=$m(r,Ym(u),f,a==="path"),y=JSON.stringify(p);return q.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:a})},[m,y,a,t,n]),null}function Bs(r){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bw({basename:r="/",children:t=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){se(!so(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ro(n));let{pathname:p="/",search:y="",hash:E="",state:A=null,key:w="default"}=n,P=q.useMemo(()=>{let M=Qi(p,f);return M==null?null:{location:{pathname:M,search:y,hash:E,state:A,key:w},navigationType:a}},[f,p,y,E,A,w,a]);return qn(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:q.createElement(Gn.Provider,{value:m},q.createElement(Wl.Provider,{children:t,value:P}))}function Aw({children:r,location:t}){return lw(pm(r),t)}function pm(r,t=[]){let n=[];return q.Children.forEach(r,(a,o)=>{if(!q.isValidElement(a))return;let u=[...t,o];if(a.type===q.Fragment){n.push.apply(n,pm(a.props.children,u));return}se(a.type===Bs,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=pm(a.props.children,u)),n.push(f)}),n}var Fc="get",Gc="application/x-www-form-urlencoded";function wh(r){return r!=null&&typeof r.tagName=="string"}function Sw(r){return wh(r)&&r.tagName.toLowerCase()==="button"}function ww(r){return wh(r)&&r.tagName.toLowerCase()==="form"}function Rw(r){return wh(r)&&r.tagName.toLowerCase()==="input"}function Iw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Cw(r,t){return r.button===0&&(!t||t==="_self")&&!Iw(r)}var kc=null;function Dw(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var Ow=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(r){return r!=null&&!Ow.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gc}"`),null):r}function Nw(r,t){let n,a,o,u,f;if(ww(r)){let m=r.getAttribute("action");a=m?Qi(m,t):null,n=r.getAttribute("method")||Fc,o=nm(r.getAttribute("enctype"))||Gc,u=new FormData(r)}else if(Sw(r)||Rw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?Qi(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Fc,o=nm(r.getAttribute("formenctype"))||nm(m.getAttribute("enctype"))||Gc,u=new FormData(m,r),!Dw()){let{name:y,type:E,value:A}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,A)}}else{if(wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fc,a=null,o=Gc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Jm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function xw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Vw(r,t,n){let a=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await xw(u,n);return f.links?f.links():[]}return[]}));return Uw(a.flat(1).filter(Mw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yv(r,t,n,a,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{var A;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Pw(r,t,{includeHydrateFallback:n}={}){return kw(r.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function kw(r){return[...new Set(r)]}function Lw(r){let t={},n=Object.keys(r).sort();for(let a of n)t[a]=r[a];return t}function Uw(r,t){let n=new Set;return new Set(t),r.reduce((a,o)=>{let u=JSON.stringify(Lw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}var zw=new Set([100,101,204,205]);function Bw(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&Qi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function rE(){let r=q.useContext(ao);return Jm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function jw(){let r=q.useContext(Ah);return Jm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tp=q.createContext(void 0);tp.displayName="FrameworkContext";function aE(){let r=q.useContext(tp);return Jm(r,"You must render this element inside a <HydratedRouter> element"),r}function qw(r,t){let n=q.useContext(tp),[a,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=t,w=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=Q=>{Q.forEach($=>{f($.isIntersecting)})},L=new IntersectionObserver(F,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[r]),q.useEffect(()=>{if(a){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[a]);let P=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Rl(m,P),onBlur:Rl(p,M),onMouseEnter:Rl(y,P),onMouseLeave:Rl(E,M),onTouchStart:Rl(A,P)}]:[!1,w,{}]}function Rl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Hw({page:r,...t}){let{router:n}=rE(),a=q.useMemo(()=>$0(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?q.createElement(Gw,{page:r,matches:a,...t}):null}function Fw(r){let{manifest:t,routeModules:n}=aE(),[a,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Vw(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),a}function Gw({page:r,matches:t,...n}){let a=Qr(),{manifest:o,routeModules:u}=aE(),{basename:f}=rE(),{loaderData:m,matches:p}=jw(),y=q.useMemo(()=>yv(r,t,p,o,a,"data"),[r,t,p,o,a]),E=q.useMemo(()=>yv(r,t,p,o,a,"assets"),[r,t,p,o,a]),A=q.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let M=new Set,F=!1;if(t.forEach(Q=>{var K;let $=o.routes[Q.route.id];!$||!$.hasLoader||(!y.some(rt=>rt.route.id===Q.route.id)&&Q.route.id in m&&((K=u[Q.route.id])!=null&&K.shouldRevalidate)||$.hasClientLoader?F=!0:M.add(Q.route.id))}),M.size===0)return[];let L=Bw(r,f);return F&&M.size>0&&L.searchParams.set("_routes",t.filter(Q=>M.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[L.pathname+L.search]},[f,m,a,o,y,t,r,u]),w=q.useMemo(()=>Pw(E,o),[E,o]),P=Fw(E);return q.createElement(q.Fragment,null,A.map(M=>q.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),w.map(M=>q.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),P.map(({key:M,link:F})=>q.createElement("link",{key:M,...F})))}function Kw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var sE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sE&&(window.__reactRouterVersion="7.5.3")}catch{}function Qw({basename:r,children:t,window:n}){let a=q.useRef();a.current==null&&(a.current=VS({window:n,v5Compat:!0}));let o=a.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>f(p))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(bw,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var oE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zl=q.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:A,...w},P){let{basename:M}=q.useContext(Gn),F=typeof y=="string"&&oE.test(y),L,Q=!1;if(typeof y=="string"&&F&&(L=y,sE))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=Qi(O.pathname,M);O.origin===R.origin&&V!=null?y=V+O.search+O.hash:Q=!0}catch{qn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=sw(y,{relative:o}),[K,rt,lt]=qw(a,w),mt=Ww(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function C(R){t&&t(R),R.defaultPrevented||mt(R)}let S=q.createElement("a",{...w,...lt,href:L||$,onClick:Q||u?t:C,ref:Kw(P,rt),target:p,"data-discover":!F&&n==="render"?"true":void 0});return K&&!F?q.createElement(q.Fragment,null,S,q.createElement(Hw,{page:$})):S});zl.displayName="Link";var Yw=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let A=Zl(f,{relative:y.relative}),w=Qr(),P=q.useContext(Ah),{navigator:M,basename:F}=q.useContext(Gn),L=P!=null&&n1(A)&&m===!0,Q=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,$=w.pathname,K=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||($=$.toLowerCase(),K=K?K.toLowerCase():null,Q=Q.toLowerCase()),K&&F&&(K=Qi(K,F)||K);const rt=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let lt=$===Q||!o&&$.startsWith(Q)&&$.charAt(rt)==="/",mt=K!=null&&(K===Q||!o&&K.startsWith(Q)&&K.charAt(Q.length)==="/"),C={isActive:lt,isPending:mt,isTransitioning:L},S=lt?t:void 0,R;typeof a=="function"?R=a(C):R=[a,lt?"active":null,mt?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(C):u;return q.createElement(zl,{...y,"aria-current":S,className:R,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(C):p)});Yw.displayName="NavLink";var $w=q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Fc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:A,...w},P)=>{let M=t1(),F=e1(m,{relative:y}),L=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&oE.test(m),$=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let rt=K.nativeEvent.submitter,lt=(rt==null?void 0:rt.getAttribute("formmethod"))||f;M(rt||K.currentTarget,{fetcherKey:t,method:lt,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return q.createElement("form",{ref:P,method:L,action:F,onSubmit:a?p:$,...w,"data-discover":!Q&&r==="render"?"true":void 0})});$w.displayName="Form";function Xw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lE(r){let t=q.useContext(ao);return se(t,Xw(r)),t}function Ww(r,{target:t,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Sh(),p=Qr(),y=Zl(r,{relative:u});return q.useCallback(E=>{if(Cw(E,t)){E.preventDefault();let A=n!==void 0?n:Ul(p)===Ul(y);m(r,{replace:A,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,a,t,r,o,u,f])}var Zw=0,Jw=()=>`__${String(++Zw)}__`;function t1(){let{router:r}=lE("useSubmit"),{basename:t}=q.useContext(Gn),n=yw();return q.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=Nw(a,t);if(o.navigate===!1){let E=o.fetcherKey||Jw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function e1(r,{relative:t}={}){let{basename:n}=q.useContext(Gn),a=q.useContext(gi);se(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Zl(r||".",{relative:t})},f=Qr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gi([n,u.pathname])),Ul(u)}function n1(r,t={}){let n=q.useContext(J0);se(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=lE("useViewTransitionState"),o=Zl(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=Qi(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=Qi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return nh(o.pathname,f)!=null||nh(o.pathname,u)!=null}new TextEncoder;[...zw];function i1({label:r,route:t}){return it.jsx("button",{children:it.jsx(zl,{to:t,style:{textDecoration:"none"},children:r})})}const r1=()=>{const[r,t]=q.useState(!1);return q.useEffect(()=>{const n=()=>{window.scrollY>500?t(!0):t(!1)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[]),it.jsx("div",{className:"buttonSection",style:{opacity:r?1:0,transform:r?"translateY(0)":"translateY(50px)",transition:"opacity 0.6s ease, transform 0.6s ease"},children:it.jsx(i1,{label:"Explore",route:"/home"})})};function a1(){return it.jsxs(it.Fragment,{children:[it.jsx(xS,{}),it.jsx(r1,{})]})}function s1(){return it.jsxs("div",{className:"notFound",children:[it.jsx("h1",{children:"404"}),it.jsx("p",{children:"Page Not Found"})]})}const o1=()=>{};var _v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},l1=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(w=64)),a.push(n[E],n[A],n[w],n[P])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(uE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):l1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new u1;const w=u<<2|m>>4;if(a.push(w),y!==64){const P=m<<4&240|y>>2;if(a.push(P),A!==64){const M=y<<6&192|A;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class u1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c1=function(r){const t=uE(r);return cE.encodeByteArray(t,!0)},ih=function(r){return c1(r).replace(/\./g,"")},hE=function(r){try{return cE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=()=>h1().__FIREBASE_DEFAULTS__,d1=()=>{if(typeof process>"u"||typeof _v>"u")return;const r=_v.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},m1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&hE(r[1]);return t&&JSON.parse(t)},Rh=()=>{try{return o1()||f1()||d1()||m1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},fE=r=>{var t,n;return(n=(t=Rh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},p1=r=>{const t=fE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},dE=()=>{var r;return(r=Rh())===null||r===void 0?void 0:r.config},mE=r=>{var t;return(t=Rh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ih(JSON.stringify(n)),ih(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function v1(){var r;const t=(r=Rh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function b1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A1(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function S1(){return!v1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w1(){try{return typeof indexedDB=="object"}catch{return!1}}function R1(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="FirebaseError";class Ji extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=I1,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?C1(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ji(o,m,a)}}function C1(r,t){return r.replace(D1,(n,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const D1=/\{\$([^}]+)}/g;function O1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ka(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=t[o];if(vv(u)&&vv(f)){if(!ka(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function vv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Il(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Cl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function N1(r,t){const n=new x1(r,t);return n.subscribe.bind(n)}class x1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let o;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");M1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:a},o.next===void 0&&(o.next=im),o.error===void 0&&(o.error=im),o.complete===void 0&&(o.complete=im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r){return r&&r._delegate?r._delegate:r}class La{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new g1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(k1(t))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ma){return this.instances.has(t)}getOptions(t=Ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(t,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:P1(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ma){return this.component?this.component.multipleInstances?t:Ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P1(r){return r===Ma?void 0:r}function k1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new V1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const U1={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},z1=Mt.INFO,B1={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},j1=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=B1[t];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ep{constructor(t){this.name=t,this._logLevel=z1,this._logHandler=j1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?U1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const q1=(r,t)=>t.some(n=>r instanceof n);let Ev,Tv;function H1(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F1(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pE=new WeakMap,gm=new WeakMap,gE=new WeakMap,rm=new WeakMap,np=new WeakMap;function G1(r){const t=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Pr(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&pE.set(n,r)}).catch(()=>{}),np.set(t,r),t}function K1(r){if(gm.has(r))return;const t=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});gm.set(r,t)}let ym={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return gm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||gE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Q1(r){ym=r(ym)}function Y1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(am(this),t,...n);return gE.set(a,t.sort?t.sort():[t]),Pr(a)}:F1().includes(r)?function(...t){return r.apply(am(this),t),Pr(pE.get(this))}:function(...t){return Pr(r.apply(am(this),t))}}function $1(r){return typeof r=="function"?Y1(r):(r instanceof IDBTransaction&&K1(r),q1(r,H1())?new Proxy(r,ym):r)}function Pr(r){if(r instanceof IDBRequest)return G1(r);if(rm.has(r))return rm.get(r);const t=$1(r);return t!==r&&(rm.set(r,t),np.set(t,r)),t}const am=r=>np.get(r);function X1(r,t,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Pr(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Pr(f.result),p.oldVersion,p.newVersion,Pr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const W1=["get","getKey","getAll","getAllKeys","count"],Z1=["put","add","delete","clear"],sm=new Map;function bv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(sm.get(t))return sm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,o=Z1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||W1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return sm.set(t,u),u}Q1(r=>({...r,get:(t,n,a)=>bv(t,n)||r.get(t,n,a),has:(t,n)=>!!bv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function tR(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _m="@firebase/app",Av="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new ep("@firebase/app"),eR="@firebase/app-compat",nR="@firebase/analytics-compat",iR="@firebase/analytics",rR="@firebase/app-check-compat",aR="@firebase/app-check",sR="@firebase/auth",oR="@firebase/auth-compat",lR="@firebase/database",uR="@firebase/data-connect",cR="@firebase/database-compat",hR="@firebase/functions",fR="@firebase/functions-compat",dR="@firebase/installations",mR="@firebase/installations-compat",pR="@firebase/messaging",gR="@firebase/messaging-compat",yR="@firebase/performance",_R="@firebase/performance-compat",vR="@firebase/remote-config",ER="@firebase/remote-config-compat",TR="@firebase/storage",bR="@firebase/storage-compat",AR="@firebase/firestore",SR="@firebase/vertexai",wR="@firebase/firestore-compat",RR="firebase",IR="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="[DEFAULT]",CR={[_m]:"fire-core",[eR]:"fire-core-compat",[iR]:"fire-analytics",[nR]:"fire-analytics-compat",[aR]:"fire-app-check",[rR]:"fire-app-check-compat",[sR]:"fire-auth",[oR]:"fire-auth-compat",[lR]:"fire-rtdb",[uR]:"fire-data-connect",[cR]:"fire-rtdb-compat",[hR]:"fire-fn",[fR]:"fire-fn-compat",[dR]:"fire-iid",[mR]:"fire-iid-compat",[pR]:"fire-fcm",[gR]:"fire-fcm-compat",[yR]:"fire-perf",[_R]:"fire-perf-compat",[vR]:"fire-rc",[ER]:"fire-rc-compat",[TR]:"fire-gcs",[bR]:"fire-gcs-compat",[AR]:"fire-fst",[wR]:"fire-fst-compat",[SR]:"fire-vertex","fire-js":"fire-js",[RR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,DR=new Map,Em=new Map;function Sv(r,t){try{r.container.addComponent(t)}catch(n){Yi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Xs(r){const t=r.name;if(Em.has(t))return Yi.debug(`There were multiple attempts to register component ${t}.`),!1;Em.set(t,r);for(const n of rh.values())Sv(n,r);for(const n of DR.values())Sv(n,r);return!0}function ip(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Nn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new Jl("app","Firebase",OR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,n,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=IR;function yE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:vm,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw kr.create("bad-app-name",{appName:String(o)});if(n||(n=dE()),!n)throw kr.create("no-options");const u=rh.get(o);if(u){if(ka(n,u.options)&&ka(a,u.config))return u;throw kr.create("duplicate-app",{appName:o})}const f=new L1(o);for(const p of Em.values())f.addComponent(p);const m=new NR(n,a,f);return rh.set(o,m),m}function _E(r=vm){const t=rh.get(r);if(!t&&r===vm&&dE())return yE();if(!t)throw kr.create("no-app",{appName:r});return t}function Lr(r,t,n){var a;let o=(a=CR[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yi.warn(m.join(" "));return}Xs(new La(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firebase-heartbeat-database",MR=1,Bl="firebase-heartbeat-store";let om=null;function vE(){return om||(om=X1(xR,MR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw kr.create("idb-open",{originalErrorMessage:r.message})})),om}async function VR(r){try{const n=(await vE()).transaction(Bl),a=await n.objectStore(Bl).get(EE(r));return await n.done,a}catch(t){if(t instanceof Ji)Yi.warn(t.message);else{const n=kr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Yi.warn(n.message)}}}async function wv(r,t){try{const a=(await vE()).transaction(Bl,"readwrite");await a.objectStore(Bl).put(t,EE(r)),await a.done}catch(n){if(n instanceof Ji)Yi.warn(n.message);else{const a=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yi.warn(a.message)}}}function EE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=1024,kR=30;class LR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Rv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>kR){const f=BR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Yi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rv(),{heartbeatsToSend:a,unsentEntries:o}=UR(this._heartbeatsCache.heartbeats),u=ih(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Yi.warn(n),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function UR(r,t=PR){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Iv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Iv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class zR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w1()?R1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return wv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return wv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Iv(r){return ih(JSON.stringify({version:2,heartbeats:r})).length}function BR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(r){Xs(new La("platform-logger",t=>new J1(t),"PRIVATE")),Xs(new La("heartbeat",t=>new LR(t),"PRIVATE")),Lr(_m,Av,r),Lr(_m,Av,"esm2017"),Lr("fire-js","")}jR("");var qR="firebase",HR="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(qR,HR,"app");function rp(r,t){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function TE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FR=TE,bE=new Jl("auth","Firebase",TE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new ep("@firebase/auth");function GR(r,...t){ah.logLevel<=Mt.WARN&&ah.warn(`Auth (${oo}): ${r}`,...t)}function Kc(r,...t){ah.logLevel<=Mt.ERROR&&ah.error(`Auth (${oo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...t){throw ap(r,...t)}function ci(r,...t){return ap(r,...t)}function AE(r,t,n){const a=Object.assign(Object.assign({},FR()),{[t]:n});return new Jl("auth","Firebase",a).create(t,{appName:r.name})}function Ki(r){return AE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ap(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return bE.create(r,...t)}function Et(r,t,...n){if(!r)throw ap(t,...n)}function Hi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Kc(t),new Error(t)}function $i(r,t){r||Hi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function KR(){return Cv()==="http:"||Cv()==="https:"}function Cv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KR()||T1()||"connection"in navigator)?navigator.onLine:!0}function YR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,n){this.shortDelay=t,this.longDelay=n,$i(n>t,"Short delay should be less than long delay!"),this.isMobile=_1()||b1()}get(){return QR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,t){$i(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WR=new eu(3e4,6e4);function Yr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function $r(r,t,n,a,o={}){return wE(r,o,async()=>{let u={},f={};a&&(t==="GET"?f=a:u={body:JSON.stringify(a)});const m=tu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return E1()||(y.referrerPolicy="no-referrer"),SE.fetch()(await RE(r,r.config.apiHost,n,m),y)})}async function wE(r,t,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},$R),t);try{const o=new JR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Lc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Lc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Lc(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw AE(r,E,y);Hn(r,E)}}catch(o){if(o instanceof Ji)throw o;Hn(r,"network-request-failed",{message:String(o)})}}async function nu(r,t,n,a,o={}){const u=await $r(r,t,n,a,o);return"mfaPendingCredential"in u&&Hn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function RE(r,t,n,a){const o=`${t}${n}?${a}`,u=r,f=u.config.emulator?sp(r.config,o):`${r.config.apiScheme}://${o}`;return XR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function ZR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ci(this.auth,"network-request-failed")),WR.get())})}}function Lc(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ci(r,t,a);return o.customData._tokenResponse=n,o}function Dv(r){return r!==void 0&&r.enterprise!==void 0}class tI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return ZR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eI(r,t){return $r(r,"GET","/v2/recaptchaConfig",Yr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r,t){return $r(r,"POST","/v1/accounts:delete",t)}async function sh(r,t){return $r(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iI(r,t=!1){const n=rn(r),a=await n.getIdToken(t),o=op(a);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:xl(lm(o.auth_time)),issuedAtTime:xl(lm(o.iat)),expirationTime:xl(lm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function lm(r){return Number(r)*1e3}function op(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=hE(n);return o?JSON.parse(o):(Kc("Failed to decode base64 JWT payload"),null)}catch(o){return Kc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ov(r){const t=op(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof Ji&&rI(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function rI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(r){var t;const n=r.auth,a=await r.getIdToken(),o=await jl(r,sh(n,{idToken:a}));Et(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?IE(u.providerUserInfo):[],m=oI(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new bm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function sI(r){const t=rn(r);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oI(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function IE(r){return r.map(t=>{var{providerId:n}=t,a=rp(t,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,t){const n=await wE(r,{},async()=>{const a=tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await RE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",SE.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uI(r,t){return $r(r,"POST","/v2/accounts:revokeToken",Yr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ov(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Ov(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await lI(t,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new Ks;return a&&(Et(typeof a=="string","internal-error",{appName:t}),f.refreshToken=a),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ks,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Bn{constructor(t){var{uid:n,auth:a,stsTokenManager:o}=t,u=rp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new bm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await jl(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return iI(this,t)}reload(){return sI(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Ki(this.auth));const t=await this.getIdToken();return await jl(this,nI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var a,o,u,f,m,p,y,E;const A=(a=n.displayName)!==null&&a!==void 0?a:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,F=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(y=n.createdAt)!==null&&y!==void 0?y:void 0,$=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:K,emailVerified:rt,isAnonymous:lt,providerData:mt,stsTokenManager:C}=n;Et(K&&C,t,"internal-error");const S=Ks.fromJSON(this.name,C);Et(typeof K=="string",t,"internal-error"),Dr(A,t.name),Dr(w,t.name),Et(typeof rt=="boolean",t,"internal-error"),Et(typeof lt=="boolean",t,"internal-error"),Dr(P,t.name),Dr(M,t.name),Dr(F,t.name),Dr(L,t.name),Dr(Q,t.name),Dr($,t.name);const R=new Bn({uid:K,auth:t,email:w,emailVerified:rt,displayName:A,isAnonymous:lt,photoURL:M,phoneNumber:P,tenantId:F,stsTokenManager:S,createdAt:Q,lastLoginAt:$});return mt&&Array.isArray(mt)&&(R.providerData=mt.map(O=>Object.assign({},O))),L&&(R._redirectEventId=L),R}static async _fromIdTokenResponse(t,n,a=!1){const o=new Ks;o.updateFromServerResponse(n);const u=new Bn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await oh(u),u}static async _fromGetAccountInfoResponse(t,n,a){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?IE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ks;m.updateFromIdToken(a);const p=new Bn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;function Fi(r){$i(r instanceof Function,"Expected a class definition");let t=Nv.get(r);return t?($i(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Nv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}CE.type="NONE";const xv=CE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r,t,n){return`firebase:${r}:${t}:${n}`}class Qs{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await sh(this.auth,{idToken:t}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,t):null}return Bn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new Qs(Fi(xv),t,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Fi(xv);const f=Qc(a,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let A;if(typeof E=="string"){const w=await sh(t,{idToken:E}).catch(()=>{});if(!w)break;A=await Bn._fromGetAccountInfoResponse(t,w,E)}else A=Bn._fromJSON(t,E);y!==u&&(m=A),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Qs(u,t,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Qs(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(DE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VE(t))return"Blackberry";if(PE(t))return"Webos";if(OE(t))return"Safari";if((t.includes("chrome/")||NE(t))&&!t.includes("edge/"))return"Chrome";if(ME(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function DE(r=We()){return/firefox\//i.test(r)}function OE(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function NE(r=We()){return/crios\//i.test(r)}function xE(r=We()){return/iemobile/i.test(r)}function ME(r=We()){return/android/i.test(r)}function VE(r=We()){return/blackberry/i.test(r)}function PE(r=We()){return/webos/i.test(r)}function lp(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function cI(r=We()){var t;return lp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function hI(){return A1()&&document.documentMode===10}function kE(r=We()){return lp(r)||ME(r)||PE(r)||VE(r)||/windows phone/i.test(r)||xE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r,t=[]){let n;switch(r){case"Browser":n=Mv(We());break;case"Worker":n=`${Mv(We())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,t={}){return $r(r,"GET","/v2/passwordPolicy",Yr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=6;class pI{constructor(t){var n,a,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:mI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,a,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n,a,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vv(this),this.idTokenSubscription=new Vv(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Qs.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await sh(this,{idToken:t}),a=await Bn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Nn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Nn(this.app))return Promise.reject(Ki(this));const n=t?rn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Nn(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dI(this),n=new pI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jl("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await uI(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Fi(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Qs.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=LE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&GR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ha(r){return rn(r)}class Vv{constructor(t){this.auth=t,this.observer=null,this.addObserver=N1(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yI(r){Ih=r}function UE(r){return Ih.loadJS(r)}function _I(){return Ih.recaptchaEnterpriseScript}function vI(){return Ih.gapiScript}function EI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class TI{constructor(){this.enterprise=new bI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class bI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const AI="recaptcha-enterprise",zE="NO_RECAPTCHA";class SI{constructor(t){this.type=AI,this.auth=Ha(t)}async verify(t="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{eI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new tI(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Dv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(zE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&Dv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_I();p.length!==0&&(p+=m),UE(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Pv(r,t,n,a=!1,o=!1){const u=new SI(r);let f;if(o)f=zE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Am(r,t,n,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Pv(r,t,n,n==="getOobCode");return a(r,f)}else return a(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Pv(r,t,n,n==="getOobCode");return a(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r,t){const n=ip(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ka(u,t??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:t})}function RI(r,t){const n=(t==null?void 0:t.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Fi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function II(r,t,n){const a=Ha(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=BE(t),{host:f,port:m}=CI(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(ka(y,a.config.emulator)&&ka(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,DI()}function BE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function CI(r){const t=BE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:kv(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:kv(f)}}}function kv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function DI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(t){return Hi("not implemented")}_linkToIdToken(t,n){return Hi("not implemented")}_getReauthenticationResolver(t){return Hi("not implemented")}}async function OI(r,t){return $r(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(r,t){return nu(r,"POST","/v1/accounts:signInWithPassword",Yr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,t){return nu(r,"POST","/v1/accounts:signInWithEmailLink",Yr(r,t))}async function MI(r,t){return nu(r,"POST","/v1/accounts:signInWithEmailLink",Yr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends up{constructor(t,n,a,o=null){super("password",a),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new ql(t,n,"password")}static _fromEmailAndCode(t,n,a=null){return new ql(t,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(t,n,"signInWithPassword",NI);case"emailLink":return xI(t,{email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(t,a,"signUpPassword",OI);case"emailLink":return MI(t,{idToken:n,email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(r,t){return nu(r,"POST","/v1/accounts:signInWithIdp",Yr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="http://localhost";class Ua extends up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o}=n,u=rp(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new Ua(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ys(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,Ys(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ys(t,n)}buildRequest(){const t={requestUri:VI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=tu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kI(r){const t=Il(Cl(r)).link,n=t?Il(Cl(t)).deep_link_id:null,a=Il(Cl(r)).deep_link_id;return(a?Il(Cl(a)).link:null)||a||n||t||r}class cp{constructor(t){var n,a,o,u,f,m;const p=Il(Cl(t)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,A=PI((o=p.mode)!==null&&o!==void 0?o:null);Et(y&&E&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=kI(t);try{return new cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.providerId=lo.PROVIDER_ID}static credential(t,n){return ql._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const a=cp.parseLink(n);return Et(a,"argument-error"),ql._fromEmailAndCode(t,a.code,a.tenantId)}}lo.PROVIDER_ID="password";lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends jE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends iu{constructor(){super("facebook.com")}static credential(t){return Ua._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Or.credential(t.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ua._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Nr.credential(n,a)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends iu{constructor(){super("github.com")}static credential(t){return Ua._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends iu{constructor(){super("twitter.com")}static credential(t,n){return Ua._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return Mr.credential(n,a)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,t){return nu(r,"POST","/v1/accounts:signUp",Yr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,o=!1){const u=await Bn._fromIdTokenResponse(t,a,o),f=Lv(a);return new za({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const o=Lv(a);return new za({user:t,providerId:o,_tokenResponse:a,operationType:n})}}function Lv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends Ji{constructor(t,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,o){return new lh(t,n,a,o)}}function qE(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(r,u,t,a):u})}async function UI(r,t,n=!1){const a=await jl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return za._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(r,t,n=!1){const{auth:a}=r;if(Nn(a.app))return Promise.reject(Ki(a));const o="reauthenticate";try{const u=await jl(r,qE(a,o,t,r),n);Et(u.idToken,a,"internal-error");const f=op(u.idToken);Et(f,a,"internal-error");const{sub:m}=f;return Et(r.uid===m,a,"user-mismatch"),za._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Hn(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(r,t,n=!1){if(Nn(r.app))return Promise.reject(Ki(r));const a="signIn",o=await qE(r,a,t),u=await za._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function BI(r,t){return HE(Ha(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FE(r){const t=Ha(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function jI(r,t,n){if(Nn(r.app))return Promise.reject(Ki(r));const a=Ha(r),f=await Am(a,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&FE(r),p}),m=await za._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function qI(r,t,n){return Nn(r.app)?Promise.reject(Ki(r)):BI(rn(r),lo.credential(t,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&FE(r),a})}function HI(r,t,n,a){return rn(r).onIdTokenChanged(t,n,a)}function FI(r,t,n){return rn(r).beforeAuthStateChanged(t,n)}function GI(r,t,n,a){return rn(r).onAuthStateChanged(t,n,a)}function GE(r){return rn(r).signOut()}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=1e3,QI=10;class QE extends KE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&t(n,o,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);hI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,QI):o()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},KI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}QE.type="LOCAL";const YI=QE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends KE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}YE.type="SESSION";const $E=YE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const a=new Ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await $I(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=hp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function WI(r){hi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function ZI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function tC(){return XE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firebaseLocalStorageDb",eC=1,ch="firebaseLocalStorage",ZE="fbase_key";class ru{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(r,t){return r.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function nC(){const r=indexedDB.deleteDatabase(WE);return new ru(r).toPromise()}function Sm(){const r=indexedDB.open(WE,eC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ch,{keyPath:ZE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ch)?t(a):(a.close(),await nC(),t(await Sm()))})})}async function Uv(r,t,n){const a=Dh(r,!0).put({[ZE]:t,value:n});return new ru(a).toPromise()}async function iC(r,t){const n=Dh(r,!1).get(t),a=await new ru(n).toPromise();return a===void 0?null:a.value}function zv(r,t){const n=Dh(r,!0).delete(t);return new ru(n).toPromise()}const rC=800,aC=3;class JE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>aC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(tC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await ZI(),!this.activeServiceWorker)return;this.sender=new XI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sm();return await Uv(t,uh,"1"),await zv(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Uv(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>iC(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>zv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Dh(o,!1).getAll();return new ru(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JE.type="LOCAL";const sC=JE;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(r,t){return t?Fi(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends up{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ys(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ys(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ys(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function lC(r){return HE(r.auth,new fp(r),r.bypassAuthState)}function uC(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),zI(n,new fp(r),r.bypassAuthState)}async function cC(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),UI(n,new fp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,n,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lC;case"linkViaPopup":case"linkViaRedirect":return cC;case"reauthViaPopup":case"reauthViaRedirect":return uC;default:Hn(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new eu(2e3,1e4);class Gs extends tT{constructor(t,n,a,o,u){super(t,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hC.get())};t()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="pendingRedirect",Yc=new Map;class dC extends tT{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=Yc.get(this.auth._key());if(!t){try{const a=await mC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}Yc.set(this.auth._key(),t)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mC(r,t){const n=yC(t),a=gC(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function pC(r,t){Yc.set(r._key(),t)}function gC(r){return Fi(r._redirectPersistence)}function yC(r){return Qc(fC,r.config.apiKey,r.name)}async function _C(r,t,n=!1){if(Nn(r.app))return Promise.reject(Ki(r));const a=Ha(r),o=oC(a,t),f=await new dC(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=10*60*1e3;class EC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!TC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var a;if(t.error&&!eT(t)){const o=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(t))}saveEventToCache(t){this.cachedEventUids.add(Bv(t)),this.lastProcessedEventTime=Date.now()}}function Bv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function eT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function TC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,t={}){return $r(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SC=/^https?/;async function wC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await bC(r);for(const n of t)try{if(RC(n))return}catch{}Hn(r,"unauthorized-domain")}function RC(r){const t=Tm(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!SC.test(n))return!1;if(AC.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new eu(3e4,6e4);function jv(){const r=hi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function CC(r){return new Promise((t,n)=>{var a,o,u;function f(){jv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jv(),n(ci(r,"network-request-failed"))},timeout:IC.get()})}if(!((o=(a=hi().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=hi().gapi)===null||u===void 0)&&u.load)f();else{const m=EI("iframefcb");return hi()[m]=()=>{gapi.load?f():n(ci(r,"network-request-failed"))},UE(`${vI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw $c=null,t})}let $c=null;function DC(r){return $c=$c||CC(r),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new eu(5e3,15e3),NC="__/auth/iframe",xC="emulator/auth/iframe",MC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PC(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?sp(t,xC):`https://${r.config.authDomain}/${NC}`,a={apiKey:t.apiKey,appName:r.name,v:oo},o=VC.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${tu(a).slice(1)}`}async function kC(r){const t=await DC(r),n=hi().gapi;return Et(n,r,"internal-error"),t.open({where:document.body,url:PC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=ci(r,"network-request-failed"),m=hi().setTimeout(()=>{u(f)},OC.get());function p(){hi().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UC=500,zC=600,BC="_blank",jC="http://localhost";class qv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qC(r,t,n,a=UC,o=zC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},LC),{width:a.toString(),height:o.toString(),top:u,left:f}),y=We().toLowerCase();n&&(m=NE(y)?BC:n),DE(y)&&(t=t||jC,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[P,M])=>`${w}${P}=${M},`,"");if(cI(y)&&m!=="_self")return HC(t||"",m),new qv(null);const A=window.open(t||"",m,E);Et(A,r,"popup-blocked");try{A.focus()}catch{}return new qv(A)}function HC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="__/auth/handler",GC="emulator/auth/handler",KC=encodeURIComponent("fac");async function Hv(r,t,n,a,o,u){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:oo,eventId:o};if(t instanceof jE){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",O1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof iu){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${KC}=${encodeURIComponent(p)}`:"";return`${QC(r)}?${tu(m).slice(1)}${y}`}function QC({config:r}){return r.emulator?sp(r,GC):`https://${r.authDomain}/${FC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class YC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$E,this._completeRedirectFn=_C,this._overrideRedirectResult=pC}async _openPopup(t,n,a,o){var u;$i((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Hv(t,n,a,Tm(),o);return qC(t,f,hp())}async _openRedirect(t,n,a,o){await this._originValidation(t);const u=await Hv(t,n,a,Tm(),o);return WI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):($i(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await kC(t),a=new EC(t);return n.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(um,{type:um},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[um];f!==void 0&&n(!!f),Hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return kE()||OE()||lp()}}const $C=YC;var Fv="@firebase/auth",Gv="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZC(r){Xs(new La("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LE(r)},y=new gI(a,o,u,p);return RI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Xs(new La("auth-internal",t=>{const n=Ha(t.getProvider("auth").getImmediate());return(a=>new XC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Fv,Gv,WC(r)),Lr(Fv,Gv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=5*60,t2=mE("authIdTokenMaxAge")||JC;let Kv=null;const e2=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>t2)return;const o=n==null?void 0:n.token;Kv!==o&&(Kv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dp(r=_E()){const t=ip(r,"auth");if(t.isInitialized())return t.getImmediate();const n=wI(r,{popupRedirectResolver:$C,persistence:[sC,YI,$E]}),a=mE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=e2(u.toString());FI(n,f,()=>f(n.currentUser)),HI(n,m=>f(m))}}const o=fE("auth");return o&&II(n,`http://${o}`),n}function n2(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}yI({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const u=ci("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",n2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZC("Browser");var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,nT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,S){function R(){}R.prototype=S.prototype,C.D=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(O,V,k){for(var D=Array(arguments.length-2),be=2;be<arguments.length;be++)D[be-2]=arguments[be];return S.prototype[V].apply(O,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)O[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],V=C.g[2];var k=C.g[3],D=S+(k^R&(V^k))+O[0]+3614090360&4294967295;S=R+(D<<7&4294967295|D>>>25),D=k+(V^S&(R^V))+O[1]+3905402710&4294967295,k=S+(D<<12&4294967295|D>>>20),D=V+(R^k&(S^R))+O[2]+606105819&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(S^V&(k^S))+O[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(k^R&(V^k))+O[4]+4118548399&4294967295,S=R+(D<<7&4294967295|D>>>25),D=k+(V^S&(R^V))+O[5]+1200080426&4294967295,k=S+(D<<12&4294967295|D>>>20),D=V+(R^k&(S^R))+O[6]+2821735955&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(S^V&(k^S))+O[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(k^R&(V^k))+O[8]+1770035416&4294967295,S=R+(D<<7&4294967295|D>>>25),D=k+(V^S&(R^V))+O[9]+2336552879&4294967295,k=S+(D<<12&4294967295|D>>>20),D=V+(R^k&(S^R))+O[10]+4294925233&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(S^V&(k^S))+O[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(k^R&(V^k))+O[12]+1804603682&4294967295,S=R+(D<<7&4294967295|D>>>25),D=k+(V^S&(R^V))+O[13]+4254626195&4294967295,k=S+(D<<12&4294967295|D>>>20),D=V+(R^k&(S^R))+O[14]+2792965006&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(S^V&(k^S))+O[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=S+(V^k&(R^V))+O[1]+4129170786&4294967295,S=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(S^R))+O[6]+3225465664&4294967295,k=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(k^S))+O[11]+643717713&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^S&(V^k))+O[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(V^k&(R^V))+O[5]+3593408605&4294967295,S=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(S^R))+O[10]+38016083&4294967295,k=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(k^S))+O[15]+3634488961&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^S&(V^k))+O[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(V^k&(R^V))+O[9]+568446438&4294967295,S=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(S^R))+O[14]+3275163606&4294967295,k=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(k^S))+O[3]+4107603335&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^S&(V^k))+O[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(V^k&(R^V))+O[13]+2850285829&4294967295,S=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(S^R))+O[2]+4243563512&4294967295,k=S+(D<<9&4294967295|D>>>23),D=V+(S^R&(k^S))+O[7]+1735328473&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^S&(V^k))+O[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=S+(R^V^k)+O[5]+4294588738&4294967295,S=R+(D<<4&4294967295|D>>>28),D=k+(S^R^V)+O[8]+2272392833&4294967295,k=S+(D<<11&4294967295|D>>>21),D=V+(k^S^R)+O[11]+1839030562&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^S)+O[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(R^V^k)+O[1]+2763975236&4294967295,S=R+(D<<4&4294967295|D>>>28),D=k+(S^R^V)+O[4]+1272893353&4294967295,k=S+(D<<11&4294967295|D>>>21),D=V+(k^S^R)+O[7]+4139469664&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^S)+O[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(R^V^k)+O[13]+681279174&4294967295,S=R+(D<<4&4294967295|D>>>28),D=k+(S^R^V)+O[0]+3936430074&4294967295,k=S+(D<<11&4294967295|D>>>21),D=V+(k^S^R)+O[3]+3572445317&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^S)+O[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(R^V^k)+O[9]+3654602809&4294967295,S=R+(D<<4&4294967295|D>>>28),D=k+(S^R^V)+O[12]+3873151461&4294967295,k=S+(D<<11&4294967295|D>>>21),D=V+(k^S^R)+O[15]+530742520&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^S)+O[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=S+(V^(R|~k))+O[0]+4096336452&4294967295,S=R+(D<<6&4294967295|D>>>26),D=k+(R^(S|~V))+O[7]+1126891415&4294967295,k=S+(D<<10&4294967295|D>>>22),D=V+(S^(k|~R))+O[14]+2878612391&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~S))+O[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=S+(V^(R|~k))+O[12]+1700485571&4294967295,S=R+(D<<6&4294967295|D>>>26),D=k+(R^(S|~V))+O[3]+2399980690&4294967295,k=S+(D<<10&4294967295|D>>>22),D=V+(S^(k|~R))+O[10]+4293915773&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~S))+O[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=S+(V^(R|~k))+O[8]+1873313359&4294967295,S=R+(D<<6&4294967295|D>>>26),D=k+(R^(S|~V))+O[15]+4264355552&4294967295,k=S+(D<<10&4294967295|D>>>22),D=V+(S^(k|~R))+O[6]+2734768916&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~S))+O[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=S+(V^(R|~k))+O[4]+4149444226&4294967295,S=R+(D<<6&4294967295|D>>>26),D=k+(R^(S|~V))+O[11]+3174756917&4294967295,k=S+(D<<10&4294967295|D>>>22),D=V+(S^(k|~R))+O[2]+718787259&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var R=S-this.blockSize,O=this.B,V=this.h,k=0;k<S;){if(V==0)for(;k<=R;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<S;)if(O[V++]=C.charCodeAt(k++),V==this.blockSize){o(this,O),V=0;break}}else for(;k<S;)if(O[V++]=C[k++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=S},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var R=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=R&255,R/=256;for(this.u(C),C=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)C[R++]=this.g[S]>>>O&255;return C};function u(C,S){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function f(C,S){this.h=S;for(var R=[],O=!0,V=C.length-1;0<=V;V--){var k=C[V]|0;O&&k==S||(R[V]=k,O=!1)}this.g=R}var m={};function p(C){return-128<=C&&128>C?u(C,function(S){return new f([S|0],0>S?-1:0)}):new f([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(0>C)return L(y(-C));for(var S=[],R=1,O=0;C>=R;O++)S[O]=C/R|0,R*=4294967296;return new f(S,0)}function E(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return L(E(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),O=A,V=0;V<C.length;V+=8){var k=Math.min(8,C.length-V),D=parseInt(C.substring(V,V+k),S);8>k?(k=y(Math.pow(S,k)),O=O.j(k).add(y(D))):(O=O.j(R),O=O.add(y(D)))}return O}var A=p(0),w=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(F(this))return-L(this).m();for(var C=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);C+=(0<=O?O:4294967296+O)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(F(this))return"-"+L(this).toString(C);for(var S=y(Math.pow(C,6)),R=this,O="";;){var V=rt(R,S).g;R=Q(R,V.j(S));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=V,M(R))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function F(C){return C.h==-1}r.l=function(C){return C=Q(this,C),F(C)?-1:M(C)?0:1};function L(C){for(var S=C.g.length,R=[],O=0;O<S;O++)R[O]=~C.g[O];return new f(R,~C.h).add(w)}r.abs=function(){return F(this)?L(this):this},r.add=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],O=0,V=0;V<=S;V++){var k=O+(this.i(V)&65535)+(C.i(V)&65535),D=(k>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);O=D>>>16,k&=65535,D&=65535,R[V]=D<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Q(C,S){return C.add(L(S))}r.j=function(C){if(M(this)||M(C))return A;if(F(this))return F(C)?L(this).j(L(C)):L(L(this).j(C));if(F(C))return L(this.j(L(C)));if(0>this.l(P)&&0>C.l(P))return y(this.m()*C.m());for(var S=this.g.length+C.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<C.g.length;V++){var k=this.i(O)>>>16,D=this.i(O)&65535,be=C.i(V)>>>16,ee=C.i(V)&65535;R[2*O+2*V]+=D*ee,$(R,2*O+2*V),R[2*O+2*V+1]+=k*ee,$(R,2*O+2*V+1),R[2*O+2*V+1]+=D*be,$(R,2*O+2*V+1),R[2*O+2*V+2]+=k*be,$(R,2*O+2*V+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new f(R,0)};function $(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function K(C,S){this.g=C,this.h=S}function rt(C,S){if(M(S))throw Error("division by zero");if(M(C))return new K(A,A);if(F(C))return S=rt(L(C),S),new K(L(S.g),L(S.h));if(F(S))return S=rt(C,L(S)),new K(L(S.g),S.h);if(30<C.g.length){if(F(C)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,O=S;0>=O.l(C);)R=lt(R),O=lt(O);var V=mt(R,1),k=mt(O,1);for(O=mt(O,2),R=mt(R,2);!M(O);){var D=k.add(O);0>=D.l(C)&&(V=V.add(R),k=D),O=mt(O,1),R=mt(R,1)}return S=Q(C,V.j(S)),new K(V,S)}for(V=A;0<=C.l(S);){for(R=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=y(R),D=k.j(S);F(D)||0<D.l(C);)R-=O,k=y(R),D=k.j(S);M(k)&&(k=w),V=V.add(k),C=Q(C,D)}return new K(V,C)}r.A=function(C){return rt(this,C).h},r.and=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&C.i(O);return new f(R,this.h&C.h)},r.or=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|C.i(O);return new f(R,this.h|C.h)},r.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^C.i(O);return new f(R,this.h^C.h)};function lt(C){for(var S=C.g.length+1,R=[],O=0;O<S;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new f(R,C.h)}function mt(C,S){var R=S>>5;S%=32;for(var O=C.g.length-R,V=[],k=0;k<O;k++)V[k]=0<S?C.i(k+R)>>>S|C.i(k+R+1)<<32-S:C.i(k+R);return new f(V,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,nT=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ur=f}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iT,Dl,rT,Xc,wm,aT,sT,oT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,g){if(g)t:{var _=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break t;_=_[z]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,z={next:function(){if(!b&&_<c.length){var Y=_++;return{value:g(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function A(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function w(c,g,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function P(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function M(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,z,Y){for(var st=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)st[Pt-2]=arguments[Pt];return g.prototype[z].apply(b,st)}}function F(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function L(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const z=c.length||0,Y=b.length||0;c.length=z+Y;for(let st=0;st<Y;st++)c[z+st]=b[st]}else c.push(b)}}class Q{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function $(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function rt(c){return rt[" "](c),c}rt[" "]=function(){};var lt=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function mt(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function C(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let Y=0;Y<R.length;Y++)_=R[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function D(){var c=jt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class be{constructor(){this.h=this.g=null}add(g,_){const b=ee.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ee=new Q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,dt=!1,jt=new be,N=()=>{const c=m.Promise.resolve(void 0);ot=()=>{c.then(nt)}};var nt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){k(_)}var g=ee;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}dt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Dt(c,g){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(lt){t:{try{rt(g.nodeName);var z=!0;break t}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:At[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dt.aa.h.call(this)}}M(Dt,at);var At={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Kn(c,g,_,b,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=z,this.key=++Jt,this.da=this.fa=!1}function tr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yi(c){this.src=c,this.g={},this.h=0}yi.prototype.add=function(c,g,_,b,z){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var st=Wr(c,g,b,z);return-1<st?(g=c[st],_||(g.fa=!1)):(g=new Kn(g,this.src,Y,!!b,z),g.fa=_,c.push(g)),g};function Xr(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,g,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(b,z,1),Y&&(tr(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Wr(c,g,_,b){for(var z=0;z<c.length;++z){var Y=c[z];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==b)return z}return-1}var Zr="closure_lm_"+(1e6*Math.random()|0),po={};function fu(c,g,_,b,z){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)fu(c,g[Y],_,b,z);return null}return _=du(_),c&&c[Oe]?c.K(g,_,y(b)?!!b.capture:!1,z):_n(c,g,_,!1,b,z)}function _n(c,g,_,b,z,Y){if(!g)throw Error("Invalid event type");var st=y(z)?!!z.capture:!!z,Pt=$a(c);if(Pt||(c[Zr]=Pt=new yi(c)),_=Pt.add(g,_,b,st,Y),_.proxy)return _;if(b=Yh(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)yt||(z=st),z===void 0&&(z=!1),c.addEventListener(g.toString(),b,z);else if(c.attachEvent)c.attachEvent(Jr(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Yh(){function c(_){return g.call(c.src,c.listener,_)}const g=$h;return c}function go(c,g,_,b,z){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)go(c,g[Y],_,b,z);else b=y(b)?!!b.capture:!!b,_=du(_),c&&c[Oe]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],_=Wr(Y,_,b,z),-1<_&&(tr(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=$a(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Wr(g,_,b,z)),(_=-1<c?g[c]:null)&&Ya(_))}function Ya(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Oe])Xr(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(Jr(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=$a(g))?(Xr(_,c),_.h==0&&(_.src=null,g[Zr]=null)):tr(c)}}}function Jr(c){return c in po?po[c]:po[c]="on"+c}function $h(c,g){if(c.da)c=!0;else{g=new Dt(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&Ya(c),c=_.call(b,g)}return c}function $a(c){return c=c[Zr],c instanceof yi?c:null}var yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(c){return typeof c=="function"?c:(c[yo]||(c[yo]=function(g){return c.handleEvent(g)}),c[yo])}function ue(){ut.call(this),this.i=new yi(this),this.M=this,this.F=null}M(ue,ut),ue.prototype[Oe]=!0,ue.prototype.removeEventListener=function(c,g,_,b){go(this,c,g,_,b)};function Gt(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new at(g,c);else if(g instanceof at)g.target=g.target||c;else{var z=g;g=new at(b,c),O(g,z)}if(z=!0,_)for(var Y=_.length-1;0<=Y;Y--){var st=g.g=_[Y];z=un(st,b,!0,g)&&z}if(st=g.g=c,z=un(st,b,!0,g)&&z,z=un(st,b,!1,g)&&z,_)for(Y=0;Y<_.length;Y++)st=g.g=_[Y],z=un(st,b,!1,g)&&z}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)tr(_[b]);delete c.g[g],c.h--}}this.F=null},ue.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},ue.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function un(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,Y=0;Y<g.length;++Y){var st=g[Y];if(st&&!st.da&&st.capture==_){var Pt=st.listener,Se=st.ha||st.src;st.fa&&Xr(c.i,st),z=Pt.call(Se,b)!==!1&&z}}return z&&!b.defaultPrevented}function Ge(c,g,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function mu(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,mu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Xh extends ut{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(c){ut.call(this),this.h=c,this.g={}}M(ta,ut);var ea=[];function na(c){mt(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ya(g)},c),c.g={}}ta.prototype.N=function(){ta.aa.N.call(this),na(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,Xa=m.JSON.parse,ia=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function _o(){}_o.prototype.h=null;function vo(c){return c.h||(c.h=c.i())}function Eo(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){at.call(this,"d")}M(vi,at);function To(){at.call(this,"c")}M(To,at);var Qn={},bo=null;function er(){return bo=bo||new ue}Qn.La="serverreachability";function Wa(c){at.call(this,Qn.La,c)}M(Wa,at);function nr(c){const g=er();Gt(g,new Wa(g))}Qn.STAT_EVENT="statevent";function pu(c,g){at.call(this,Qn.STAT_EVENT,c),this.stat=g}M(pu,at);function re(c){const g=er();Gt(g,new pu(g,c))}Qn.Ma="timingevent";function Ae(c,g){at.call(this,Qn.Ma,c),this.size=g}M(Ae,at);function ge(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function Ao(c,g,_,b,z,Y){c.info(function(){if(c.g)if(Y)for(var st="",Pt=Y.split("&"),Se=0;Se<Pt.length;Se++){var kt=Pt[Se].split("=");if(1<kt.length){var xe=kt[0];kt=kt[1];var we=xe.split("_");st=2<=we.length&&we[1]=="type"?st+(xe+"="+kt+"&"):st+(xe+"=redacted&")}}else st=null;else st=Y;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+g+`
`+_+`
`+st})}function Wh(c,g,_,b,z,Y,st){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+g+`
`+_+`
`+Y+" "+st})}function ir(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ra(c,_)+(b?" "+b:"")})}function gu(c,g){c.info(function(){return"TIMEOUT: "+g})}vn.prototype.info=function(){};function ra(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var st=1;st<z.length;st++)z[st]=""}}}}return Vn(_)}catch{return g}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function $n(){}M($n,_o),$n.prototype.g=function(){return new XMLHttpRequest},$n.prototype.i=function(){return{}},Yn=new $n;function Ze(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var So={},Za={};function Pn(c,g,_){c.L=1,c.v=ua(cn(g)),c.m=_,c.P=!0,Ti(c,null)}function Ti(c,g){c.F=Date.now(),aa(c),c.A=cn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Oo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new fe,c.g=xu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Xh(w(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ea[0]=z.toString()),z=ea);for(var Y=0;Y<z.length;Y++){var st=fu(_,z[Y],b||g.handleEvent,!1,g.h||g);if(!st)break;g.g[st.key]=st}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),nr(),Ao(c.i,c.u,c.A,c.l,c.R,c.m)}Ze.prototype.ca=function(c){c=c.target;const g=this.M;g&&An(c)==3?g.j():this.Y(c)},Ze.prototype.Y=function(c){try{if(c==this.g)t:{const we=An(this.g);var g=this.g.Ba();const Di=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||we!=4||g==7||(g==8||0>=Di?nr(3):nr(2)),ar(this);var _=this.g.Z();this.X=_;e:if(yu(this)){var b=Su(this.g);c="";var z=b.length,Y=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Xn(this);var st="";break e}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(Y&&g==z-1)});b.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,Wh(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Se=this.g;if((Pt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Pt)){var kt=Pt;break e}}kt=null}if(_=kt)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sa(this,_);else{this.o=!1,this.s=3,re(12),Le(this),Xn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<st.length;)if(Ue=_u(this,st),Ue==Za){we==4&&(this.s=4,re(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==So){this.s=4,re(15),ir(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,Ue,null),sa(this,Ue);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||st.length!=0||this.h.h||(this.s=1,re(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,st,"[Invalid Chunked Response]"),Le(this),Xn(this);else if(0<st.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),ya(xe),xe.M=!0,re(11))}}else ir(this.i,this.l,st,null),sa(this,st);we==4&&Le(this),this.o&&!this.J&&(we==4?Du(this.j,this):(this.o=!1,aa(this)))}else nf(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),Le(this),Xn(this)}}}catch{}finally{}};function yu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _u(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?Za:(_=Number(g.substring(_,b)),isNaN(_)?So:(b+=1,b+_>g.length?Za:(g=g.slice(b,b+_),c.C=b+_,g)))}Ze.prototype.cancel=function(){this.J=!0,Le(this)};function aa(c){c.S=Date.now()+c.I,vu(c,c.I)}function vu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ge(w(c.ba,c),g)}function ar(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ze.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gu(this.i,this.A),this.L!=2&&(nr(),re(17)),Le(this),this.s=2,Xn(this)):vu(this,this.S-c)};function Xn(c){c.j.G==0||c.J||Du(c.j,c)}function Le(c){ar(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,na(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function sa(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||wo(_.h,c))){if(!c.K&&wo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)cs(_),ls(_);else break t;Po(_),re(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=ge(w(_.Za,_),6e3));if(1>=ts(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((c.K||_.g==c)&&cs(_),!$(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let kt=z[g];if(_.T=kt[0],kt=kt[1],_.G==2)if(kt[0]=="c"){_.K=kt[1],_.ia=kt[2];const xe=kt[3];xe!=null&&(_.la=xe,_.j.info("VER="+_.la));const we=kt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Di=kt[5];Di!=null&&typeof Di=="number"&&0<Di&&(b=1.5*Di,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ue=c.g;if(Ue){const ii=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var Y=b.h;Y.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(es(Y,Y.h),Y.h=null))}if(b.D){const Lo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Lo&&(b.ya=Lo,Yt(b.I,b.D,Lo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var st=c;if(b.qa=Nu(b,b.J?b.ia:null,b.W),st.K){Je(b.h,st);var Pt=st,Se=b.L;Se&&(Pt.I=Se),Pt.B&&(ar(Pt),aa(Pt)),b.g=st}else Iu(b);0<_.i.length&&us(_)}else kt[0]!="stop"&&kt[0]!="close"||Ci(_,7);else _.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Ci(_,7):Mo(_):kt[0]!="noop"&&_.l&&_.l.ta(kt),_.v=0)}}nr(4)}catch{}}var Eu=class{constructor(c,g){this.g=c,this.map=g}};function bi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ja(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ts(c){return c.h?1:c.g?c.g.size:0}function wo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function es(c,g){c.g?c.g.add(g):c.h=g}function Je(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}bi.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ro(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return F(c.i)}function Zh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function ns(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function Io(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ns(c),b=Zh(c),z=b.length,Y=0;Y<z;Y++)g.call(void 0,b[Y],_&&_[Y],c)}var oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),z=null;if(0<=b){var Y=c[_].substring(0,b);z=c[_].substring(b+1)}else Y=c[_];g(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ye(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ye){this.h=c.h,la(this,c.j),this.o=c.o,this.g=c.g,sr(this,c.s),this.l=c.l;var g=c.i,_=new Si;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ai(this,_),this.m=c.m}else c&&(g=String(c).match(oa))?(this.h=!1,la(this,g[1]||"",!0),this.o=En(g[2]||""),this.g=En(g[3]||"",!0),sr(this,g[4]),this.l=En(g[5]||"",!0),Ai(this,g[6]||"",!0),this.m=En(g[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}ye.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ca(g,Co,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ca(g,Co,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ca(_,_.charAt(0)=="/"?tf:Do,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ca(_,is)),c.join("")};function cn(c){return new ye(c)}function la(c,g,_){c.j=_?En(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function sr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ai(c,g,_){g instanceof Si?(c.i=g,bu(c.i,c.h)):(_||(g=ca(g,ef)),c.i=new Si(g,c.h))}function Yt(c,g,_){c.i.set(g,_)}function ua(c){return Yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function En(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ca(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Tu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Co=/[#\/\?@]/g,Do=/[#\?:]/g,tf=/[#\?]/g,ef=/[#\?@]/g,is=/#/g;function Si(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Jh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Si.prototype,r.add=function(c,g){Tn(this),this.i=null,c=Wn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function wi(c,g){Tn(c),g=Wn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ri(c,g){return Tn(c),g=Wn(c,g),c.g.has(g)}r.forEach=function(c,g){Tn(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(g,z,b,this)},this)},this)},r.na=function(){Tn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const z=c[b];for(let Y=0;Y<z.length;Y++)_.push(g[b])}return _},r.V=function(c){Tn(this);let g=[];if(typeof c=="string")Ri(this,c)&&(g=g.concat(this.g.get(Wn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return Tn(this),this.i=null,c=Wn(this,c),Ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Oo(c,g,_){wi(c,g),0<_.length&&(c.i=null,c.g.set(Wn(c,g),F(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const Y=encodeURIComponent(String(b)),st=this.V(b);for(b=0;b<st.length;b++){var z=Y;st[b]!==""&&(z+="="+encodeURIComponent(String(st[b]))),c.push(z)}}return this.i=c.join("&")};function Wn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function bu(c,g){g&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(wi(this,b),Oo(this,z,_))},c)),c.j=g}function ha(c,g){const _=new vn;if(m.Image){const b=new Image;b.onload=P(bn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=P(bn,_,"TestLoadImage: error",!1,g,b),b.onabort=P(bn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=P(bn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function kn(c,g){const _=new vn,b=new AbortController,z=setTimeout(()=>{b.abort(),bn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(z),Y.ok?bn(_,"TestPingServer: ok",!0,g):bn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),bn(_,"TestPingServer: error",!1,g)})}function bn(c,g,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function fa(){this.g=new ia}function Zn(c,g,_){const b=_||"";try{Io(c,function(z,Y){let st=z;y(z)&&(st=Vn(z)),g.push(b+Y+"="+encodeURIComponent(st))})}catch(z){throw g.push(b+"type="+encodeURIComponent("_badmap")),z}}function or(c){this.l=c.Ub||null,this.j=c.eb||!1}M(or,_o),or.prototype.g=function(){return new Ii(this.l,this.j)},or.prototype.i=function(c){return function(){return c}}({});function Ii(c,g){ue.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ii,ue),r=Ii.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ti(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;No(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function No(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Jn(this):ti(this),this.readyState==3&&No(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Jn(this))},r.Qa=function(c){this.g&&(this.response=c,Jn(this))},r.ga=function(){this.g&&Jn(this)};function Jn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ti(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xo(c){let g="";return mt(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function Ne(c,g,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=xo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Yt(c,g,_))}function Ht(c){ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ht,ue);var rs=/^https?$/i,da=["POST","PUT"];r=Ht.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?vo(this.o):vo(Yn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){Au(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(da,g,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,st]of _)this.g.setRequestHeader(Y,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ma(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Au(this,Y)}};function Au(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,as(c),ei(c)}function as(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ss(this):this.bb())},r.bb=function(){ss(this)};function ss(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)Ge(c.Ea,0,c);else if(Gt(c,"readystatechange"),An(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var b;if(b=st===0){var z=String(c.D).match(oa)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),b=!rs.test(z?z.toLowerCase():"")}_=b}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var Y=2<An(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",as(c)}}finally{ei(c)}}}}function ei(c,g){if(c.g){ma(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Gt(c,"ready");try{_.onreadystatechange=b}catch{}}}function ma(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Xa(g)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nf(c){const g={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if($(c[b]))continue;var _=V(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[z]||[];g[z]=Y,Y.push(_)}C(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function os(c){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,c),this.cb=pa("retryDelaySeedMs",1e4,c),this.Wa=pa("forwardChannelMaxRetries",2,c),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(c&&c.concurrentRequestLimit),this.Da=new fa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=os.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,b){re(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Nu(this,null,this.W),us(this)};function Mo(c){if(wu(c),c.G==3){var g=c.U++,_=cn(c.I);if(Yt(_,"SID",c.K),Yt(_,"RID",g),Yt(_,"TYPE","terminate"),ga(c,_),g=new Ze(c,c.j,g),g.L=2,g.v=ua(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=xu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),aa(g)}Ou(c)}function ls(c){c.g&&(ya(c),c.g.cancel(),c.g=null)}function wu(c){ls(c),c.u&&(m.clearTimeout(c.u),c.u=null),cs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function us(c){if(!Ja(c.h)&&!c.s){c.s=!0;var g=c.Ga;ot||N(),dt||(ot(),dt=!0),jt.add(g,c),c.B=0}}function rf(c,g){return ts(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ge(w(c.Ga,c,g),ko(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Ze(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=S(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=Ru(this,z,g),_=cn(this.I),Yt(_,"RID",c),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),ga(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(xo(Y)))+"&"+g:this.m&&Ne(_,this.m,Y)),es(this.h,z),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",g),Yt(_,"SID","null"),z.T=!0,Pn(z,_,null)):Pn(z,_,g),this.G=2}}else this.G==3&&(c?Vo(this,c):this.i.length==0||Ja(this.h)||Vo(this))};function Vo(c,g){var _;g?_=g.l:_=c.U++;const b=cn(c.I);Yt(b,"SID",c.K),Yt(b,"RID",_),Yt(b,"AID",c.T),ga(c,b),c.m&&c.o&&Ne(b,c.m,c.o),_=new Ze(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ru(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),es(c.h,_),Pn(_,b,g)}function ga(c,g){c.H&&mt(c.H,function(_,b){Yt(g,b,_)}),c.l&&Io({},function(_,b){Yt(g,b,_)})}function Ru(c,g,_){_=Math.min(c.i.length,_);var b=c.l?w(c.l.Na,c.l,c):null;t:{var z=c.i;let Y=-1;for(;;){const st=["count="+_];Y==-1?0<_?(Y=z[0].g,st.push("ofs="+Y)):Y=0:st.push("ofs="+Y);let Pt=!0;for(let Se=0;Se<_;Se++){let kt=z[Se].g;const xe=z[Se].map;if(kt-=Y,0>kt)Y=Math.max(0,z[Se].g-100),Pt=!1;else try{Zn(xe,st,"req"+kt+"_")}catch{b&&b(xe)}}if(Pt){b=st.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,b}function Iu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ot||N(),dt||(ot(),dt=!0),jt.add(g,c),c.v=0}}function Po(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ge(w(c.Fa,c),ko(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ge(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),ls(this),Cu(this))};function ya(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Cu(c){c.g=new Ze(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=cn(c.qa);Yt(g,"RID","rpc"),Yt(g,"SID",c.K),Yt(g,"AID",c.T),Yt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Yt(g,"TO",c.ja),Yt(g,"TYPE","xmlhttp"),ga(c,g),c.m&&c.o&&Ne(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ua(cn(g)),_.m=null,_.P=!0,Ti(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ls(this),Po(this),re(19))};function cs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Du(c,g){var _=null;if(c.g==g){cs(c),ya(c),c.g=null;var b=2}else if(wo(c.h,g))_=g.D,Je(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;b=er(),Gt(b,new Ae(b,_)),us(c)}else Iu(c);else if(z=g.s,z==3||z==0&&0<g.X||!(b==1&&rf(c,g)||b==2&&Po(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function ko(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ci(c,g){if(c.j.info("Error code "+g),g==2){var _=w(c.fb,c),b=c.Xa;const z=!b;b=new ye(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||la(b,"https"),ua(b),z?ha(b.toString(),_):kn(b.toString(),_)}else re(2);c.G=0,c.l&&c.l.sa(g),Ou(c),wu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Ou(c){if(c.G=0,c.ka=[],c.l){const g=Ro(c.h);(g.length!=0||c.i.length!=0)&&(L(c.ka,g),L(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Nu(c,g,_){var b=_ instanceof ye?cn(_):new ye(_);if(b.g!="")g&&(b.g=g+"."+b.g),sr(b,b.s);else{var z=m.location;b=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var Y=new ye(null);b&&la(Y,b),g&&(Y.g=g),z&&sr(Y,z),_&&(Y.l=_),b=Y}return _=c.D,g=c.ya,_&&g&&Yt(b,_,g),Yt(b,"VER",c.la),ga(c,b),b}function xu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ht(new or({eb:_})):new Ht(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}r=Mu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function hs(){}hs.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){ue.call(this),this.g=new os(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!$(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!$(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ni(this)}M(tn,ue),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Mo(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vn(c),c=_);g.i.push(new Eu(g.Ya++,c)),g.G==3&&us(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,tn.aa.N.call(this)};function Vu(c){vi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}M(Vu,vi);function Pu(){To.call(this),this.status=1}M(Pu,To);function ni(c){this.g=c}M(ni,Mu),ni.prototype.ua=function(){Gt(this.g,"a")},ni.prototype.ta=function(c){Gt(this.g,new Vu(c))},ni.prototype.sa=function(c){Gt(this.g,new Pu)},ni.prototype.ra=function(){Gt(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,oT=function(){return new hs},sT=function(){return er()},aT=Qn,wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Xc=rr,Ei.COMPLETE="complete",rT=Ei,Eo.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Dl=Eo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,iT=Ht}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const Yv="@firebase/firestore",$v="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new ep("@firebase/firestore");function js(){return Ba.logLevel}function ct(r,...t){if(Ba.logLevel<=Mt.DEBUG){const n=t.map(mp);Ba.debug(`Firestore (${uo}): ${r}`,...n)}}function Xi(r,...t){if(Ba.logLevel<=Mt.ERROR){const n=t.map(mp);Ba.error(`Firestore (${uo}): ${r}`,...n)}}function Ws(r,...t){if(Ba.logLevel<=Mt.WARN){const n=t.map(mp);Ba.warn(`Firestore (${uo}): ${r}`,...n)}}function mp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,lT(r,a,n)}function lT(r,t,n){let a=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Xi(a),new Error(a)}function Ft(r,t,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||lT(t,o,a)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class i2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}}class r2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class a2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new uT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class s2{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o2{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new s2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const a=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=u2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=t.charAt(o[u]%62))}return a}}function Ct(r,t){return r<t?-1:r>t?1:0}function Rm(r,t){let n=0;for(;n<r.length&&n<t.length;){const a=r.codePointAt(n),o=t.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ct(a,o);{const u=cT(),f=c2(u.encode(Wv(r,n)),u.encode(Wv(t,n)));return f!==0?f:Ct(a,o)}}n+=a>65535?2:1}return Ct(r.length,t.length)}function Wv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function c2(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ct(r[n],t[n]);return Ct(r.length,t.length)}function Zs(r,t,n){return r.length===t.length&&r.every((a,o)=>n(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-62135596800,Jv=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*Jv);return new Ce(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Zv)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Zv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Ce(0,0))}static max(){return new St(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="__name__";class ui{constructor(t,n,a){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Tt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return ui.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ui?t.forEach(a=>{n.push(a)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let o=0;o<a;o++){const u=ui.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ct(t.length,n.length)}static compareSegments(t,n){const a=ui.isNumericId(t),o=ui.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ui.extractNumericId(t).compare(ui.extractNumericId(n)):Rm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ur.fromString(t.substring(4,t.length-2))}}class ne extends ui{construct(t,n,a){return new ne(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new ft(et.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const h2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends ui{construct(t,n,a){return new He(t,n,a)}static isValidIdentifier(t){return h2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t0}static keyField(){return new He([t0])}static fromServerFormat(t){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ft(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new ft(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(n)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ne.fromString(t))}static fromName(t){return new gt(ne.fromString(t).popFirst(5))}static empty(){return new gt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function f2(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(a===1e9?new Ce(n+1,0):new Ce(n,a));return new jr(o,gt.empty(),t)}function d2(r){return new jr(r.readTime,r.key,Hl)}class jr{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new jr(St.min(),gt.empty(),Hl)}static max(){return new jr(St.max(),gt.empty(),Hl)}}function m2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(r.documentKey,t.documentKey),n!==0?n:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==p2)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,a)=>{n(t)})}static reject(t){return new tt((n,a)=>{a(t)})}static waitFor(t){return new tt((n,a)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(t){let n=tt.resolve(!1);for(const a of t)n=n.next(o=>o?tt.resolve(o):a());return n}static forEach(t,n){const a=[];return t.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(t,n){return new tt((a,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(t,n){return new tt((a,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):a()};u()})}}function y2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Oh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-1;function Nh(r){return r==null}function hh(r){return r===0&&1/r==-1/0}function _2(r){return typeof r=="number"&&Number.isInteger(r)&&!hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="";function v2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=e0(t)),t=E2(r.get(n),t);return e0(t)}function E2(r,t){let n=t;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case fT:n+="";break;default:n+=u}}return n}function e0(r){return r+fT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Fa(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function dT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n){this.comparator=t,this.root=n||qe.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,a)=>(t(n,a),!1))}toString(){const t=[];return this.inorderTraversal((n,a)=>(t.push(`${n}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zc(this.root,t,this.comparator,!0)}}class zc{constructor(t,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?a(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,n,a,o,u){this.key=t,this.value=n,this.color=a??qe.RED,this.left=o??qe.EMPTY,this.right=u??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,o,u){return new qe(t??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,a,o,u){return this}insert(t,n,a){return new qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,a)=>(t(n),!1))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new i0(this.data.getIterator())}getIteratorFrom(t){return new i0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(a=>{n=n.add(a)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class i0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new jn([])}unionWith(t){let n=new De(He.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Zs(this.fields,t.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new mT("Invalid base64 string: "+u):u}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const T2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=T2.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hr(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="server_timestamp",gT="__type__",yT="__previous_value__",_T="__local_write_time__";function gp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[gT])===null||n===void 0?void 0:n.stringValue)===pT}function xh(r){const t=r.mapValue.fields[yT];return gp(t)?xh(t):t}function Fl(r){const t=qr(r.mapValue.fields[_T].timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t,n,a,o,u,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const fh="(default)";class Gl{constructor(t,n){this.projectId=t,this.database=n||fh}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(t){return t instanceof Gl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__type__",A2="__max__",Bc={mapValue:{}},ET="__vector__",dh="value";function Fr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:w2(r)?9007199254740991:S2(r)?10:11:Tt(28295,{value:r})}function pi(r,t){if(r===t)return!0;const n=Fr(r);if(n!==Fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Fl(r).isEqual(Fl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=qr(o.timestampValue),m=qr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Hr(o.bytesValue).isEqual(Hr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),m=pe(u.doubleValue);return f===m?hh(f)===hh(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Zs(r.arrayValue.values||[],t.arrayValue.values||[],pi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(n0(f)!==n0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!pi(f[p],m[p])))return!1;return!0}(r,t);default:return Tt(52216,{left:r})}}function Kl(r,t){return(r.values||[]).find(n=>pi(n,t))!==void 0}function Js(r,t){if(r===t)return 0;const n=Fr(r),a=Fr(t);if(n!==a)return Ct(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return r0(r.timestampValue,t.timestampValue);case 4:return r0(Fl(r),Fl(t));case 5:return Rm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Hr(u),p=Hr(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ct(m[y],p[y]);if(E!==0)return E}return Ct(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Ct(pe(u.latitude),pe(f.latitude));return m!==0?m:Ct(pe(u.longitude),pe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return a0(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,E;const A=u.fields||{},w=f.fields||{},P=(m=A[dh])===null||m===void 0?void 0:m.arrayValue,M=(p=w[dh])===null||p===void 0?void 0:p.arrayValue,F=Ct(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:a0(P,M)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Bc.mapValue&&f===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(f===Bc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const w=Rm(p[A],E[A]);if(w!==0)return w;const P=Js(m[p[A]],y[E[A]]);if(P!==0)return P}return Ct(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Tt(23264,{Pe:n})}}function r0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const n=qr(r),a=qr(t),o=Ct(n.seconds,a.seconds);return o!==0?o:Ct(n.nanos,a.nanos)}function a0(r,t){const n=r.values||[],a=t.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Js(n[o],a[o]);if(u)return u}return Ct(n.length,a.length)}function to(r){return Im(r)}function Im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=qr(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Hr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return gt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Im(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Im(n.fields[f])}`;return o+"}"}(r.mapValue):Tt(61005,{value:r})}function Wc(r){switch(Fr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xh(r);return t?16+Wc(t):16;case 5:return 2*r.stringValue.length;case 6:return Hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Wc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Fa(a.fields,(u,f)=>{o+=u.length+Wc(f)}),o}(r.mapValue);default:throw Tt(13486,{value:r})}}function s0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Cm(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function o0(r){return!!r&&"nullValue"in r}function l0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zc(r){return!!r&&"mapValue"in r}function S2(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[vT])===null||n===void 0?void 0:n.stringValue)===ET}function Ml(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Fa(r.mapValue.fields,(n,a)=>t.mapValue.fields[n]=Ml(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ml(r.arrayValue.values[n]);return t}return Object.assign({},r)}function w2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===A2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!Zc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ml(n)}setAll(t){let n=He.emptyPath(),a={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Ml(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(t){const n=this.field(t.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=n.mapValue.fields[t.get(a)];Zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,a){Fa(n,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new xn(Ml(this.value))}}function TT(r){const t=[];return Fa(r.fields,(n,a)=>{const o=new He([n]);if(Zc(a)){const u=TT(a.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,a,o,u,f,m){this.key=t,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Xe(t,0,St.min(),St.min(),St.min(),xn.empty(),0)}static newFoundDocument(t,n,a,o){return new Xe(t,1,n,St.min(),a,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,St.min(),St.min(),xn.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,St.min(),St.min(),xn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n){this.position=t,this.inclusive=n}}function u0(r,t,n){let a=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?a=gt.comparator(gt.fromName(f.referenceValue),n.key):a=Js(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function c0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n="asc"){this.field=t,this.dir=n}}function R2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{}class Te extends bT{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new C2(t,n,a):n==="array-contains"?new N2(t,a):n==="in"?new x2(t,a):n==="not-in"?new M2(t,a):n==="array-contains-any"?new V2(t,a):new Te(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new D2(t,a):new O2(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Js(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(Js(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends bT{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Fn(t,n)}matches(t){return AT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function AT(r){return r.op==="and"}function ST(r){return I2(r)&&AT(r)}function I2(r){for(const t of r.filters)if(t instanceof Fn)return!1;return!0}function Dm(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+to(r.value);if(ST(r))return r.filters.map(t=>Dm(t)).join(",");{const t=r.filters.map(n=>Dm(n)).join(",");return`${r.op}(${t})`}}function wT(r,t){return r instanceof Te?function(a,o){return o instanceof Te&&a.op===o.op&&a.field.isEqual(o.field)&&pi(a.value,o.value)}(r,t):r instanceof Fn?function(a,o){return o instanceof Fn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&wT(f,o.filters[m]),!0):!1}(r,t):void Tt(19439)}function RT(r){return r instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(r):r instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(RT).join(" ,")+"}"}(r):"Filter"}class C2 extends Te{constructor(t,n,a){super(t,n,a),this.key=gt.fromName(a.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class D2 extends Te{constructor(t,n){super(t,"in",n),this.keys=IT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class O2 extends Te{constructor(t,n){super(t,"not-in",n),this.keys=IT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function IT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>gt.fromName(a.referenceValue))}class N2 extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return yp(n)&&Kl(n.arrayValue,this.value)}}class x2 extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class M2 extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class V2 extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Kl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,n=null,a=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function h0(r,t=null,n=[],a=[],o=null,u=null,f=null){return new P2(r,t,n,a,o,u,f)}function _p(r){const t=wt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(a=>Dm(a)).join(","),n+="|ob:",n+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Nh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>to(a)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>to(a)).join(",")),t.Ie=n}return t.Ie}function vp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!R2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!wT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!c0(r.startAt,t.startAt)&&c0(r.endAt,t.endAt)}function Om(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function k2(r,t,n,a,o,u,f,m){return new au(r,t,n,a,o,u,f,m)}function CT(r){return new au(r)}function f0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function DT(r){return r.collectionGroup!==null}function Vl(r){const t=wt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new De(He.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new ph(u,a))}),n.has(He.keyField().canonicalString())||t.Ee.push(new ph(He.keyField(),a))}return t.Ee}function fi(r){const t=wt(r);return t.de||(t.de=L2(t,Vl(r))),t.de}function L2(r,t){if(r.limitType==="F")return h0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ph(o.field,u)});const n=r.endAt?new mh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new mh(r.startAt.position,r.startAt.inclusive):null;return h0(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function Nm(r,t){const n=r.filters.concat([t]);return new au(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function xm(r,t,n){return new au(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Mh(r,t){return vp(fi(r),fi(t))&&r.limitType===t.limitType}function OT(r){return`${_p(fi(r))}|lt:${r.limitType}`}function qs(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>RT(o)).join(", ")}]`),Nh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>to(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>to(o)).join(",")),`Target(${a})`}(fi(r))}; limitType=${r.limitType})`}function Vh(r,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):gt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,t)&&function(a,o){for(const u of Vl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(a,o){return!(a.startAt&&!function(f,m,p){const y=u0(f,m,p);return f.inclusive?y<=0:y<0}(a.startAt,Vl(a),o)||a.endAt&&!function(f,m,p){const y=u0(f,m,p);return f.inclusive?y>=0:y>0}(a.endAt,Vl(a),o))}(r,t)}function U2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function NT(r){return(t,n)=>{let a=!1;for(const o of Vl(r)){const u=z2(o,t,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function z2(r,t,n){const a=r.field.isKeyField()?gt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Js(p,y):Tt(42886)}(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Fa(this.inner,(n,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return dT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new le(gt.comparator);function Wi(){return B2}const xT=new le(gt.comparator);function Ol(...r){let t=xT;for(const n of r)t=t.insert(n.key,n);return t}function MT(r){let t=xT;return r.forEach((n,a)=>t=t.insert(n,a.overlayedDocument)),t}function Va(){return Pl()}function VT(){return Pl()}function Pl(){return new Ga(r=>r.toString(),(r,t)=>r.isEqual(t))}const j2=new le(gt.comparator),q2=new De(gt.comparator);function Vt(...r){let t=q2;for(const n of r)t=t.add(n);return t}const H2=new De(Ct);function F2(){return H2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(t)?"-0":t}}function PT(r){return{integerValue:""+r}}function G2(r,t){return _2(t)?PT(t):Ep(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function K2(r,t,n){return r instanceof gh?function(o,u){const f={fields:{[gT]:{stringValue:pT},[_T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=xh(u)),u&&(f.fields[yT]=u),{mapValue:f}}(n,t):r instanceof Ql?LT(r,t):r instanceof Yl?UT(r,t):function(o,u){const f=kT(o,u),m=d0(f)+d0(o.Re);return Cm(f)&&Cm(o.Re)?PT(m):Ep(o.serializer,m)}(r,t)}function Q2(r,t,n){return r instanceof Ql?LT(r,t):r instanceof Yl?UT(r,t):n}function kT(r,t){return r instanceof yh?function(a){return Cm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class gh extends Ph{}class Ql extends Ph{constructor(t){super(),this.elements=t}}function LT(r,t){const n=zT(t);for(const a of r.elements)n.some(o=>pi(o,a))||n.push(a);return{arrayValue:{values:n}}}class Yl extends Ph{constructor(t){super(),this.elements=t}}function UT(r,t){let n=zT(t);for(const a of r.elements)n=n.filter(o=>!pi(o,a));return{arrayValue:{values:n}}}class yh extends Ph{constructor(t,n){super(),this.serializer=t,this.Re=n}}function d0(r){return pe(r.integerValue||r.doubleValue)}function zT(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Y2(r,t){return r.field.isEqual(t.field)&&function(a,o){return a instanceof Ql&&o instanceof Ql||a instanceof Yl&&o instanceof Yl?Zs(a.elements,o.elements,pi):a instanceof yh&&o instanceof yh?pi(a.Re,o.Re):a instanceof gh&&o instanceof gh}(r.transform,t.transform)}class $2{constructor(t,n){this.version=t,this.transformResults=n}}class di{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class kh{}function BT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Tp(r.key,di.none()):new su(r.key,r.data,di.none());{const n=r.data,a=xn.empty();let o=new De(He.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Ka(r.key,a,new jn(o.toArray()),di.none())}}function X2(r,t,n){r instanceof su?function(o,u,f){const m=o.value.clone(),p=p0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof Ka?function(o,u,f){if(!Jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=p0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(jT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function kl(r,t,n,a){return r instanceof su?function(u,f,m,p){if(!Jc(u.precondition,f))return m;const y=u.value.clone(),E=g0(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,a):r instanceof Ka?function(u,f,m,p){if(!Jc(u.precondition,f))return m;const y=g0(u.fieldTransforms,p,f),E=f.data;return E.setAll(jT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,t,n,a):function(u,f,m){return Jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function W2(r,t){let n=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),u=kT(a.transform,o||null);u!=null&&(n===null&&(n=xn.empty()),n.set(a.field,u))}return n||null}function m0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Zs(a,o,(u,f)=>Y2(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class su extends kh{constructor(t,n,a,o=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ka extends kh{constructor(t,n,a,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}}),t}function p0(r,t,n){const a=new Map;Ft(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);a.set(u.field,Q2(f,m,n[o]))}return a}function g0(r,t,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,K2(u,f,t))}return a}class Tp extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2 extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,n,a,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&X2(u,t,a[o])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=kl(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=kl(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=VT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=BT(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())}),a}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Zs(this.mutations,t.mutations,(n,a)=>m0(n,a))&&Zs(this.baseMutations,t.baseMutations,(n,a)=>m0(n,a))}}class bp{constructor(t,n,a,o){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(t,n,a){Ft(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let o=function(){return j2}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new bp(t,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Ut;function nD(r){switch(r){case et.OK:return Tt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function qT(r){if(r===void 0)return Xi("GRPC error has no .code"),et.UNKNOWN;switch(r){case Ee.OK:return et.OK;case Ee.CANCELLED:return et.CANCELLED;case Ee.UNKNOWN:return et.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return et.INTERNAL;case Ee.UNAVAILABLE:return et.UNAVAILABLE;case Ee.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ee.NOT_FOUND:return et.NOT_FOUND;case Ee.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ee.ABORTED:return et.ABORTED;case Ee.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ee.DATA_LOSS:return et.DATA_LOSS;default:return Tt(39323,{code:r})}}(Ut=Ee||(Ee={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new Ur([4294967295,4294967295],0);function y0(r){const t=cT().encode(r),n=new nT;return n.update(t),new Uint8Array(n.digest())}function _0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ur([n,a],0),new Ur([o,u],0)]}class Ap{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Ur.fromNumber(this.pe)}we(t,n,a){let o=t.add(n.multiply(Ur.fromNumber(a)));return o.compare(iD)===1&&(o=new Ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=y0(t),[a,o]=_0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);if(!this.be(f))return!1}return!0}static create(t,n,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Ap(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const n=y0(t),[a,o]=_0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,n,a,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const o=new Map;return o.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Lh(St.min(),o,new le(Ct),Wi(),Vt())}}class ou{constructor(t,n,a,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new ou(a,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n,a,o){this.De=t,this.removedTargetIds=n,this.key=a,this.ve=o}}class HT{constructor(t,n){this.targetId=t,this.Ce=n}}class FT{constructor(t,n,a=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=o}}class v0{constructor(){this.Fe=0,this.Me=E0(),this.xe=Fe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Vt(),n=Vt(),a=Vt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Tt(38017,{changeType:u})}}),new ou(this.xe,this.Oe,t,n,a)}Qe(){this.Ne=!1,this.Me=E0()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class rD{constructor(t){this.ze=t,this.je=new Map,this.He=Wi(),this.Je=jc(),this.Ye=jc(),this.Ze=new le(Ct)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const a=this.rt(n);switch(t.state){case 0:this.it(n)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,a=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(Om(u))if(a===0){const f=new gt(u.path);this.tt(n,f,Xe.newNoDocument(f,St.min()))}else Ft(a===1,20013,{expectedCount:a});else{const f=this.ut(n);if(f!==a){const m=this.ct(t),p=m?this.lt(m,t,f):1;if(p!==0){this.st(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Hr(a).toUint8Array()}catch(p){if(p instanceof mT)return Ws("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ap(f,o,u)}catch(p){return Ws(p instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,n,a){return n.Ce.count===a-this.Tt(t,n.targetId)?0:2}Tt(t,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Om(m.target)){const p=new gt(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Xe.newNoDocument(p,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let a=Vt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Lh(t,n,this.Ze,this.He,a);return this.He=Wi(),this.Je=jc(),this.Ye=jc(),this.Ze=new le(Ct),o}et(t,n){if(!this.it(t))return;const a=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,a){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),a&&(this.He=this.He.insert(n,a))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new v0,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new De(Ct),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new De(Ct),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new v0),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function jc(){return new le(gt.comparator)}function E0(){return new le(gt.comparator)}const aD={asc:"ASCENDING",desc:"DESCENDING"},sD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oD={and:"AND",or:"OR"};class lD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Mm(r,t){return r.useProto3Json||Nh(t)?t:{value:t}}function _h(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function uD(r,t){return _h(r,t.toTimestamp())}function mi(r){return Ft(!!r,49232),St.fromTimestamp(function(n){const a=qr(n);return new Ce(a.seconds,a.nanos)}(r))}function Sp(r,t){return Vm(r,t).canonicalString()}function Vm(r,t){const n=function(o){return new ne(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function KT(r){const t=ne.fromString(r);return Ft(WT(t),10190,{key:t.toString()}),t}function Pm(r,t){return Sp(r.databaseId,t.path)}function cm(r,t){const n=KT(t);if(n.get(1)!==r.databaseId.projectId)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new gt(YT(n))}function QT(r,t){return Sp(r.databaseId,t)}function cD(r){const t=KT(r);return t.length===4?ne.emptyPath():YT(t)}function km(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function YT(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function T0(r,t,n){return{name:Pm(r,t),fields:n.value.mapValue.fields}}function hD(r,t){let n;if("targetChange"in t){t.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Tt(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?et.UNKNOWN:qT(y.code);return new ft(E,y.message||"")}(f);n=new FT(a,o,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=cm(r,a.document.name),u=mi(a.document.updateTime),f=a.document.createTime?mi(a.document.createTime):St.min(),m=new xn({mapValue:{fields:a.document.fields}}),p=Xe.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new th(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=cm(r,a.document),u=a.readTime?mi(a.readTime):St.min(),f=Xe.newNoDocument(o,u),m=a.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=cm(r,a.document),u=a.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new eD(o,u),m=a.targetId;n=new HT(m,f)}}return n}function fD(r,t){let n;if(t instanceof su)n={update:T0(r,t.key,t.value)};else if(t instanceof Tp)n={delete:Pm(r,t.key)};else if(t instanceof Ka)n={update:T0(r,t.key,t.data),updateMask:TD(t.fieldMask)};else{if(!(t instanceof Z2))return Tt(16599,{ft:t.type});n={verify:Pm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Tt(20930,{transform:f.transform})}(0,a))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:uD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)}(r,t.precondition)),n}function dD(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(St.min())&&(f=mi(u)),new $2(f,o.transformResults||[])}(n,t))):[]}function mD(r,t){return{documents:[QT(r,t.path)]}}function pD(r,t){const n={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=QT(r,o);const u=function(y){if(y.length!==0)return XT(Fn.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(w){return{field:Hs(w.field),direction:_D(w.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Mm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:n,parent:o}}function gD(r){let t=cD(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ft(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const w=$T(A);return w instanceof Fn&&ST(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(w=>function(M){return new ph(Fs(M.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(A){let w;return w=typeof A=="object"?A.value:A,Nh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(A){const w=!!A.before,P=A.values||[];return new mh(P,w)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const w=!A.before,P=A.values||[];return new mh(P,w)}(n.endAt)),k2(t,o,f,u,m,"F",p,y)}function yD(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function $T(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Fs(n.unaryFilter.field);return Te.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Fs(n.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fs(n.unaryFilter.field);return Te.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fs(n.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Te.create(Fs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(a=>$T(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(n.compositeFilter.op))}(r):Tt(30097,{filter:r})}function _D(r){return aD[r]}function vD(r){return sD[r]}function ED(r){return oD[r]}function Hs(r){return{fieldPath:r.canonicalString()}}function Fs(r){return He.fromServerFormat(r.fieldPath)}function XT(r){return r instanceof Te?function(n){if(n.op==="=="){if(l0(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NAN"}};if(o0(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l0(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NAN"}};if(o0(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(n.field),op:vD(n.op),value:n.value}}}(r):r instanceof Fn?function(n){const a=n.getFilters().map(o=>XT(o));return a.length===1?a[0]:{compositeFilter:{op:ED(n.op),filters:a}}}(r):Tt(54877,{filter:r})}function TD(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function WT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t,n,a,o,u=St.min(),f=St.min(),m=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t){this.wt=t}}function AD(r){const t=gD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.yn=new wD}addToCollectionParentIndex(t,n){return this.yn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(jr.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(jr.min())}updateCollectionGroup(t,n,a){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class wD{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n]||new De(ne.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(t){return(this.index[t]||new De(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZT=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(ZT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new eo(0)}static ir(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="LruGarbageCollector",RD=1048576;function S0([r,t],[n,a]){const o=Ct(r,n);return o===0?Ct(t,a):o}class ID{constructor(t){this.cr=t,this.buffer=new De(S0),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();S0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CD{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ct(A0,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ho(n)?ct(A0,"Ignoring IndexedDB error during garbage collection: ",n):await co(n)}await this.Ir(3e5)})}}class DD{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(a=>Math.floor(n/100*a))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(Oh.le);const a=new ID(n);return this.Er.forEachTarget(t,o=>a.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>a.Pr(o))).next(()=>a.maxValue)}removeTargets(t,n,a){return this.Er.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(b0)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b0):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let a,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(a=A,m=Date.now(),this.removeTargets(t,a,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(A=>(y=Date.now(),js()<=Mt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function OD(r,t){return new DD(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.changes=new Ga(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?tt.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t,n,a,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(a!==null&&kl(a.mutation,o,jn.empty(),Ce.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.getLocalViewOfDocuments(t,a,Vt()).next(()=>a))}getLocalViewOfDocuments(t,n,a=Vt()){const o=Va();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,a).next(u=>{let f=Ol();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const a=Va();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,Vt()))}populateOverlays(t,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,a,o){let u=Wi();const f=Pl(),m=function(){return Pl()}();return n.forEach((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ka)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),kl(E.mutation,y,E.mutation.getFieldMask(),Ce.now())):f.set(y.key,jn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var A;return m.set(y,new xD(E,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,n){const a=Pl();let o=new le((f,m)=>f-m),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=a.get(p)||jn.empty();E=m.applyToLocalView(y,E),a.set(p,E);const A=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,A=VT();E.forEach(w=>{if(!u.has(w)){const P=BT(n.get(w),a.get(w));P!==null&&A.set(w,P),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,A))}return tt.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,n,a,o){return function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):DT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,o):this.getDocumentsMatchingCollectionQuery(t,n,a,o)}getNextDocuments(t,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,o-u.size):tt.resolve(Va());let m=Hl,p=u;return f.next(y=>tt.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Vt())).next(E=>({batchId:m,changes:MT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(a=>{let o=Ol();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,a,o){const u=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,p=>{const y=function(A,w){return new au(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next(E=>{E.forEach((A,w)=>{f=f.insert(A,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Xe.newInvalidDocument(E)))});let m=Ol();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&kl(E.mutation,y,jn.empty(),Ce.now()),Vh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return tt.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:AD(o.bundledQuery),readTime:mi(o.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.overlays=new le(gt.comparator),this.Or=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Va();return tt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,n,a){return a.forEach((o,u)=>{this.St(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,a){const o=this.Or.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(a)),tt.resolve()}getOverlaysForCollection(t,n,a){const o=Va(),u=n.length+1,f=new gt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,a,o){let u=new le((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Va(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Va(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return tt.resolve(m)}St(t,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(a.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new tD(n,a));let u=this.Or.get(n);u===void 0&&(u=Vt(),this.Or.set(n,u)),this.Or.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.Nr=new De(ke.Br),this.Lr=new De(ke.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const a=new ke(t,n);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(t,n){t.forEach(a=>this.addReference(a,n))}removeReference(t,n){this.Qr(new ke(t,n))}$r(t,n){t.forEach(a=>this.removeReference(a,n))}Ur(t){const n=new gt(new ne([])),a=new ke(n,t),o=new ke(n,t+1),u=[];return this.Lr.forEachInRange([a,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new gt(new ne([])),a=new ke(n,t),o=new ke(n,t+1);let u=Vt();return this.Lr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new ke(t,0),a=this.Nr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class ke{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return gt.comparator(t.key,n.key)||Ct(t.Gr,n.Gr)}static kr(t,n){return Ct(t.Gr,n.Gr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new De(ke.Br)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new J2(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,n){return tt.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,o=this.Hr(a),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?pp:this.Jn-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new ke(n,0),o=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([a,o],f=>{const m=this.jr(f.Gr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new De(Ct);return n.forEach(o=>{const u=new ke(o,0),f=new ke(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{a=a.add(m.Gr)})}),tt.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,o=a.length+1;let u=a;gt.isDocumentKey(u)||(u=u.child(""));const f=new ke(new gt(u),0);let m=new De(Ct);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Gr)),!0)},f),tt.resolve(this.Jr(m))}Jr(t){const n=[];return t.forEach(a=>{const o=this.jr(a);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ft(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return tt.forEach(n.mutations,o=>{const u=new ke(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=a})}Xn(t){}containsKey(t,n){const a=new ke(n,0),o=this.zr.firstAfterOrEqual(a);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t){this.Zr=t,this.docs=function(){return new le(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return tt.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let a=Wi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Xe.newInvalidDocument(o))}),tt.resolve(a)}getDocumentsMatchingQuery(t,n,a,o){let u=Wi();const f=n.path,m=new gt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||m2(d2(E),a)<=0||(o.has(E.key)||Vh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,a,o){Tt(9500)}Xr(t,n){return tt.forEach(this.docs,a=>n(a))}newChangeBuffer(t){return new zD(this)}getSize(t){return tt.resolve(this.size)}}class zD extends ND{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(t,o)):this.vr.removeEntry(a)}),tt.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.persistence=t,this.ei=new Ga(n=>_p(n),vp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ti=0,this.ni=new wp,this.targetCount=0,this.ri=eo.rr()}forEachTarget(t,n){return this.ei.forEach((a,o)=>n(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ti&&(this.ti=n),tt.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new eo(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.ar(n),tt.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,a){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const a=this.ei.get(n)||null;return tt.resolve(a)}addMatchingKeys(t,n,a){return this.ni.qr(n,a),tt.resolve()}removeMatchingKeys(t,n,a){this.ni.$r(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const a=this.ni.Wr(n);return tt.resolve(a)}containsKey(t,n){return tt.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,n){this.ii={},this.overlays={},this.si=new Oh(0),this.oi=!1,this.oi=!0,this._i=new kD,this.referenceDelegate=t(this),this.ai=new BD(this),this.indexManager=new SD,this.remoteDocumentCache=function(o){return new UD(o)}(a=>this.referenceDelegate.ui(a)),this.serializer=new bD(n),this.ci=new VD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new PD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ii[t.toKey()];return a||(a=new LD(n,this.referenceDelegate),this.ii[t.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,a){ct("MemoryPersistence","Starting transaction:",t);const o=new jD(this.si.next());return this.referenceDelegate.li(),a(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,n){return tt.or(Object.values(this.ii).map(a=>()=>a.containsKey(t,n)))}}class jD extends g2{constructor(t){super(),this.currentSequenceNumber=t}}class Rp{constructor(t){this.persistence=t,this.Ti=new wp,this.Ii=null}static Ei(t){return new Rp(t)}get di(){if(this.Ii)return this.Ii;throw Tt(60996)}addReference(t,n,a){return this.Ti.addReference(a,n),this.di.delete(a.toString()),tt.resolve()}removeReference(t,n,a){return this.Ti.removeReference(a,n),this.di.add(a.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>a.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.di,a=>{const o=gt.fromPath(a);return this.Ai(t,o).next(u=>{u||n.removeEntry(o,St.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return tt.or([()=>tt.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class vh{constructor(t,n){this.persistence=t,this.Ri=new Ga(a=>v2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=OD(this,n)}static Ei(t,n){return new vh(t,n)}li(){}hi(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>n.next(o=>a+o))}Vr(t){let n=0;return this.Ar(t,a=>{n++}).next(()=>n)}Ar(t,n){return tt.forEach(this.Ri,(a,o)=>this.gr(t,a,o).next(u=>u?tt.resolve():n(o)))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,f=>this.gr(t,f,n).next(m=>{m||(a++,u.removeEntry(f,St.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.Ri.set(a,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,a){return this.Ri.set(a,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),tt.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wc(t.data.value)),n}gr(t,n,a){return tt.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.Ri.get(n);return tt.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,n,a,o){this.targetId=t,this.fromCache=n,this.ls=a,this.hs=o}static Ps(t,n){let a=Vt(),o=Vt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ip(t,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return S1()?8:y2(We())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,a,o){const u={result:null};return this.Rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new qD;return this.fs(t,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(t,n,f,m.size)})}).next(()=>u.result)}gs(t,n,a,o){return a.documentReadCount<this.Es?(js()<=Mt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),tt.resolve()):(js()<=Mt.DEBUG&&ct("QueryEngine","Query:",qs(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(js()<=Mt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(n))):tt.resolve())}Rs(t,n){if(f0(n))return tt.resolve(null);let a=fi(n);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=xm(n,null,"F"),a=fi(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const f=Vt(...u);return this.As.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,a).next(p=>{const y=this.ps(n,m);return this.ys(n,y,f,p.readTime)?this.Rs(t,xm(n,null,"F")):this.ws(t,y,n,p)}))})))}Vs(t,n,a,o){return f0(n)||o.isEqual(St.min())?tt.resolve(null):this.As.getDocuments(t,a).next(u=>{const f=this.ps(n,u);return this.ys(n,f,a,o)?tt.resolve(null):(js()<=Mt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qs(n)),this.ws(t,f,n,f2(o,Hl)).next(m=>m))})}ps(t,n){let a=new De(NT(t));return n.forEach((o,u)=>{Vh(t,u)&&(a=a.add(u))}),a}ys(t,n,a,o){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,n,a){return js()<=Mt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",qs(n)),this.As.getDocumentsMatchingQuery(t,n,jr.min(),a)}ws(t,n,a,o){return this.As.getDocumentsMatchingQuery(t,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="LocalStore",FD=3e8;class GD{constructor(t,n,a,o){this.persistence=t,this.bs=n,this.serializer=o,this.Ss=new le(Ct),this.Ds=new Ga(u=>_p(u),vp),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(a)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function KD(r,t,n,a){return new GD(r,t,n,a)}async function tb(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Fs(t),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=Vt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:m}))})})}function QD(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const A=y.batch,w=A.keys();let P=tt.resolve();return w.forEach(M=>{P=P.next(()=>E.getEntry(p,M)).next(F=>{const L=y.docVersions.get(M);Ft(L!==null,48541),F.version.compareTo(L)<0&&(A.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,a,t,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(a,o))})}function eb(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function YD(r,t){const n=wt(r),a=t.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];t.targetChanges.forEach((E,A)=>{const w=o.get(A);if(!w)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,A)));let P=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?P=P.withResumeToken(Fe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,a)),o=o.insert(A,P),function(F,L,Q){return F.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=FD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(w,P,E)&&m.push(n.ai.updateTargetData(u,P))});let p=Wi(),y=Vt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push($D(u,f,t.documentUpdates).next(E=>{p=E.xs,y=E.Os})),!a.isEqual(St.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(A=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return tt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ss=o,u))}function $D(r,t,n){let a=Vt(),o=Vt();return n.forEach(u=>a=a.add(u)),t.getEntries(r,a).next(u=>{let f=Wi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ct(Cp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{xs:f,Os:o}})}function XD(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function WD(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.ai.getTargetData(a,t).next(u=>u?(o=u,tt.resolve(o)):n.ai.allocateTargetId(a).next(f=>(o=new Vr(t,f,"TargetPurposeListen",a.currentSequenceNumber),n.ai.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ss.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(a.targetId,a),n.Ds.set(t,a.targetId)),a})}async function Lm(r,t,n){const a=wt(r),o=a.Ss.get(t),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ho(f))throw f;ct(Cp,`Failed to update sequence numbers for target ${t}: ${f}`)}a.Ss=a.Ss.remove(t),a.Ds.delete(o.target)}function w0(r,t,n){const a=wt(r);let o=St.min(),u=Vt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const A=wt(p),w=A.Ds.get(E);return w!==void 0?tt.resolve(A.Ss.get(w)):A.ai.getTargetData(y,E)}(a,f,fi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.bs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Vt())).next(m=>(ZD(a,U2(t),m),{documents:m,Ns:u})))}function ZD(r,t,n){let a=r.vs.get(t)||St.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.vs.set(t,a)}class R0{constructor(){this.activeTargetIds=F2()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JD{constructor(){this.So=new R0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,a){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new R0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="ConnectivityMonitor";class C0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ct(I0,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ct(I0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function Um(){return qc===null?qc=function(){return 268435456+Math.round(2147483648*Math.random())}():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",eO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nO{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${a}/databases/${o}`,this.qo=this.databaseId.database===fh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Qo(t,n,a,o,u){const f=Um(),m=this.$o(t,n.toUriEncodedString());ct(hm,`Sending RPC '${t}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(t,m,p,a).then(y=>(ct(hm,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Ws(hm,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",a),y})}Wo(t,n,a,o,u,f){return this.Qo(t,n,a,o,u)}Uo(t,n,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}$o(t,n){const a=eO[t];return`${this.Lo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class rO extends nO{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,a,o){const u=Um();return new Promise((f,m)=>{const p=new iT;p.setWithCredentials(!0),p.listenOnce(rT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Xc.NO_ERROR:const E=p.getResponseJson();ct(Ye,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case Xc.TIMEOUT:ct(Ye,`RPC '${t}' ${u} timed out`),m(new ft(et.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const A=p.getStatus();if(ct(Ye,`RPC '${t}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const P=w==null?void 0:w.error;if(P&&P.status&&P.message){const M=function(L){const Q=L.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(Q)>=0?Q:et.UNKNOWN}(P.status);m(new ft(M,P.message))}else m(new ft(et.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ft(et.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{s_:t,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ct(Ye,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);ct(Ye,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",y,a,15)})}a_(t,n,a){const o=Um(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=oT(),m=sT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");ct(Ye,`Creating RPC '${t}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);let w=!1,P=!1;const M=new iO({Go:L=>{P?ct(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(w||(ct(Ye,`Opening RPC '${t}' stream ${o} transport.`),A.open(),w=!0),ct(Ye,`RPC '${t}' stream ${o} sending:`,L),A.send(L))},zo:()=>A.close()}),F=(L,Q,$)=>{L.listen(Q,K=>{try{$(K)}catch(rt){setTimeout(()=>{throw rt},0)}})};return F(A,Dl.EventType.OPEN,()=>{P||(ct(Ye,`RPC '${t}' stream ${o} transport opened.`),M.t_())}),F(A,Dl.EventType.CLOSE,()=>{P||(P=!0,ct(Ye,`RPC '${t}' stream ${o} transport closed`),M.r_())}),F(A,Dl.EventType.ERROR,L=>{P||(P=!0,Ws(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),M.r_(new ft(et.UNAVAILABLE,"The operation could not be completed")))}),F(A,Dl.EventType.MESSAGE,L=>{var Q;if(!P){const $=L.data[0];Ft(!!$,16349);const K=$,rt=(K==null?void 0:K.error)||((Q=K[0])===null||Q===void 0?void 0:Q.error);if(rt){ct(Ye,`RPC '${t}' stream ${o} received error:`,rt);const lt=rt.status;let mt=function(R){const O=Ee[R];if(O!==void 0)return qT(O)}(lt),C=rt.message;mt===void 0&&(mt=et.INTERNAL,C="Unknown error status: "+lt+" with message "+rt.message),P=!0,M.r_(new ft(mt,C)),A.close()}else ct(Ye,`RPC '${t}' stream ${o} received:`,$),M.i_($)}}),F(m,aT.STAT_EVENT,L=>{L.stat===wm.PROXY?ct(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===wm.NOPROXY&&ct(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.n_()},0),M}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(r){return new lD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,n,a=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=n,this.u_=a,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-a);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="PersistentStream";class ib{constructor(t,n,a,o,u,f,m,p){this.bi=t,this.R_=a,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new nb(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Xi(n.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.m_===n&&this.B_(a,o)},a=>{t(()=>{const o=new ft(et.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(o)})})}B_(t,n){const a=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{a(()=>this.L_(o))}),this.stream.onMessage(o=>{a(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ct(D0,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(ct(D0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aO extends ib{constructor(t,n,a,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=hD(this.serializer,t),a=function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?mi(f.readTime):St.min()}(t);return this.listener.Q_(n,a)}U_(t){const n={};n.database=km(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Om(p)?{documents:mD(u,p)}:{query:pD(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=GT(u,f.resumeToken);const y=Mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=_h(u,f.snapshotVersion.toTimestamp());const y=Mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const a=yD(this.serializer,t);a&&(n.labels=a),this.F_(n)}K_(t){const n={};n.database=km(this.serializer),n.removeTarget=t,this.F_(n)}}class sO extends ib{constructor(t,n,a,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=dD(t.writeResults,t.commitTime),a=mi(t.commitTime);return this.listener.j_(a,n)}H_(){const t={};t.database=km(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(a=>fD(this.serializer,a))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{}class lO extends oO{constructor(t,n,a,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,Vm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(et.UNKNOWN,u.toString())})}Wo(t,n,a,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(t,Vm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(et.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class uO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Xi(n),this.ea=!1):ct("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class cO{constructor(t,n,a,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{a.enqueueAndForget(async()=>{Qa(this)&&(ct(ja,"Restarting streams for network reachability change."),await async function(p){const y=wt(p);y.aa.add(4),await lu(y),y.la.set("Unknown"),y.aa.delete(4),await zh(y)}(this))})}),this.la=new uO(a,o)}}async function zh(r){if(Qa(r))for(const t of r.ua)await t(!0)}async function lu(r){for(const t of r.ua)await t(!1)}function rb(r,t){const n=wt(r);n._a.has(t.targetId)||(n._a.set(t.targetId,t),xp(n)?Np(n):fo(n).b_()&&Op(n,t))}function Dp(r,t){const n=wt(r),a=fo(n);n._a.delete(t),a.b_()&&ab(n,t),n._a.size===0&&(a.b_()?a.v_():Qa(n)&&n.la.set("Unknown"))}function Op(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fo(r).U_(t)}function ab(r,t){r.ha.Ke(t),fo(r).K_(t)}function Np(r){r.ha=new rD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.la.ta()}function xp(r){return Qa(r)&&!fo(r).w_()&&r._a.size>0}function Qa(r){return wt(r).aa.size===0}function sb(r){r.ha=void 0}async function hO(r){r.la.set("Online")}async function fO(r){r._a.forEach((t,n)=>{Op(r,t)})}async function dO(r,t){sb(r),xp(r)?(r.la.ia(t),Np(r)):r.la.set("Unknown")}async function mO(r,t,n){if(r.la.set("Online"),t instanceof FT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(r,t)}catch(a){ct(ja,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Eh(r,a)}else if(t instanceof th?r.ha.Xe(t):t instanceof HT?r.ha.ot(t):r.ha.nt(t),!n.isEqual(St.min()))try{const a=await eb(r.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),ab(u,p);const A=new Vr(E.target,p,y,E.sequenceNumber);Op(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){ct(ja,"Failed to raise snapshot:",a),await Eh(r,a)}}async function Eh(r,t,n){if(!ho(t))throw t;r.aa.add(1),await lu(r),r.la.set("Offline"),n||(n=()=>eb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct(ja,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await zh(r)})}function ob(r,t){return t().catch(n=>Eh(r,n,t))}async function Bh(r){const t=wt(r),n=Gr(t);let a=t.oa.length>0?t.oa[t.oa.length-1].batchId:pp;for(;pO(t);)try{const o=await XD(t.localStore,a);if(o===null){t.oa.length===0&&n.v_();break}a=o.batchId,gO(t,o)}catch(o){await Eh(t,o)}lb(t)&&ub(t)}function pO(r){return Qa(r)&&r.oa.length<10}function gO(r,t){r.oa.push(t);const n=Gr(r);n.b_()&&n.W_&&n.G_(t.mutations)}function lb(r){return Qa(r)&&!Gr(r).w_()&&r.oa.length>0}function ub(r){Gr(r).start()}async function yO(r){Gr(r).H_()}async function _O(r){const t=Gr(r);for(const n of r.oa)t.G_(n.mutations)}async function vO(r,t,n){const a=r.oa.shift(),o=bp.from(a,t,n);await ob(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Bh(r)}async function EO(r,t){t&&Gr(r).W_&&await async function(a,o){if(function(f){return nD(f)&&f!==et.ABORTED}(o.code)){const u=a.oa.shift();Gr(a).D_(),await ob(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Bh(a)}}(r,t),lb(r)&&ub(r)}async function O0(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ct(ja,"RemoteStore received new credentials");const a=Qa(n);n.aa.add(3),await lu(n),a&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await zh(n)}async function TO(r,t){const n=wt(r);t?(n.aa.delete(2),await zh(n)):t||(n.aa.add(2),await lu(n),n.la.set("Unknown"))}function fo(r){return r.Pa||(r.Pa=function(n,a,o){const u=wt(n);return u.Y_(),new aO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:hO.bind(null,r),Jo:fO.bind(null,r),Zo:dO.bind(null,r),Q_:mO.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),xp(r)?Np(r):r.la.set("Unknown")):(await r.Pa.stop(),sb(r))})),r.Pa}function Gr(r){return r.Ta||(r.Ta=function(n,a,o){const u=wt(n);return u.Y_(),new sO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:yO.bind(null,r),Zo:EO.bind(null,r),z_:_O.bind(null,r),j_:vO.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await Bh(r)):(await r.Ta.stop(),r.oa.length>0&&(ct(ja,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,n,a,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,o,u){const f=Date.now()+a,m=new Mp(t,n,f,o,u);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(r,t){if(Xi("AsyncQueue",`${t}: ${r}`),ho(r))return new ft(et.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{static emptySet(t){return new $s(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||gt.comparator(n.key,a.key):(n,a)=>gt.comparator(n.key,a.key),this.keyedMap=Ol(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,a)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof $s)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new $s;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.Ia=new le(gt.comparator)}track(t){const n=t.doc.key,a=this.Ia.get(n);a?t.type!==0&&a.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&a.type!==1?this.Ia=this.Ia.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Ia=this.Ia.remove(n):t.type===1&&a.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,Ea:a}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,a)=>{t.push(a)}),t}}class no{constructor(t,n,a,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new no(t,n,$s.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class AO{constructor(){this.queries=x0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,a){const o=wt(n),u=o.queries;o.queries=x0(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(a)})})(this,new ft(et.ABORTED,"Firestore shutting down"))}}function x0(){return new Ga(r=>OT(r),Mh)}async function SO(r,t){const n=wt(r);let a=3;const o=t.query;let u=n.queries.get(o);u?!u.Va()&&t.ma()&&(a=2):(u=new bO,a=t.ma()?0:1);try{switch(a){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Vp(f,`Initialization of query '${qs(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Ra.push(t),t.ga(n.onlineState),u.Aa&&t.pa(u.Aa)&&Pp(n)}async function wO(r,t){const n=wt(r),a=t.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function RO(r,t){const n=wt(r);let a=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(a=!0);f.Aa=o}}a&&Pp(n)}function IO(r,t,n){const a=wt(r),o=a.queries.get(t);if(o)for(const u of o.Ra)u.onError(n);a.queries.delete(t)}function Pp(r){r.fa.forEach(t=>{t.next()})}var zm,M0;(M0=zm||(zm={})).ya="default",M0.Cache="cache";class CO{constructor(t,n,a){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new no(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const a=n!=="Offline";return(!this.options.Fa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t){this.key=t}}class hb{constructor(t){this.key=t}}class DO{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Vt(),this.mutatedKeys=Vt(),this.Ua=NT(t),this.Ka=new $s(this.Ua)}get Wa(){return this.qa}Ga(t,n){const a=n?n.za:new N0,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const w=o.get(E),P=Vh(this.query,A)?A:null,M=!!w&&this.mutatedKeys.has(w.key),F=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let L=!1;w&&P?w.data.isEqual(P.data)?M!==F&&(a.track({type:3,doc:P}),L=!0):this.ja(w,P)||(a.track({type:2,doc:P}),L=!0,(p&&this.Ua(P,p)>0||y&&this.Ua(P,y)<0)&&(m=!0)):!w&&P?(a.track({type:0,doc:P}),L=!0):w&&!P&&(a.track({type:1,doc:w}),L=!0,(p||y)&&(m=!0)),L&&(P?(f=f.add(P),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{Ka:f,za:a,ys:m,mutatedKeys:u}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((E,A)=>function(P,M){const F=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:L})}};return F(P)-F(M)}(E.type,A.type)||this.Ua(E.doc,A.doc)),this.Ha(a),o=o!=null&&o;const m=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,y=p!==this.Qa;return this.Qa=p,f.length!==0||y?{snapshot:new no(this.query,t.Ka,u,f,t.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new N0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Vt(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const n=[];return t.forEach(a=>{this.$a.has(a)||n.push(new hb(a))}),this.$a.forEach(a=>{t.has(a)||n.push(new cb(a))}),n}Xa(t){this.qa=t.Ns,this.$a=Vt();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return no.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const kp="SyncEngine";class OO{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class NO{constructor(t){this.key=t,this.tu=!1}}class xO{constructor(t,n,a,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Ga(m=>OT(m),Mh),this.iu=new Map,this.su=new Set,this.ou=new le(gt.comparator),this._u=new Map,this.au=new wp,this.uu={},this.cu=new Map,this.lu=eo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function MO(r,t,n=!0){const a=yb(r);let o;const u=a.ru.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await fb(a,t,n,!0),o}async function VO(r,t){const n=yb(r);await fb(n,t,!0,!1)}async function fb(r,t,n,a){const o=await WD(r.localStore,fi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await PO(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&rb(r.remoteStore,o),m}async function PO(r,t,n,a,o){r.Pu=(A,w,P)=>async function(F,L,Q,$){let K=L.view.Ga(Q);K.ys&&(K=await w0(F.localStore,L.query,!1).then(({documents:C})=>L.view.Ga(C,K)));const rt=$&&$.targetChanges.get(L.targetId),lt=$&&$.targetMismatches.get(L.targetId)!=null,mt=L.view.applyChanges(K,F.isPrimaryClient,rt,lt);return P0(F,L.targetId,mt.Ya),mt.snapshot}(r,A,w,P);const u=await w0(r.localStore,t,!0),f=new DO(t,u.Ns),m=f.Ga(u.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);P0(r,n,y.Ya);const E=new OO(t,n,f);return r.ru.set(t,E),r.iu.has(n)?r.iu.get(n).push(t):r.iu.set(n,[t]),y.snapshot}async function kO(r,t,n){const a=wt(r),o=a.ru.get(t),u=a.iu.get(o.targetId);if(u.length>1)return a.iu.set(o.targetId,u.filter(f=>!Mh(f,t))),void a.ru.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Dp(a.remoteStore,o.targetId),Bm(a,o.targetId)}).catch(co)):(Bm(a,o.targetId),await Lm(a.localStore,o.targetId,!0))}async function LO(r,t){const n=wt(r),a=n.ru.get(t),o=n.iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Dp(n.remoteStore,a.targetId))}async function UO(r,t,n){const a=GO(r);try{const o=await function(f,m){const p=wt(f),y=Ce.now(),E=m.reduce((P,M)=>P.add(M.key),Vt());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let M=Wi(),F=Vt();return p.Cs.getEntries(P,E).next(L=>{M=L,M.forEach((Q,$)=>{$.isValidDocument()||(F=F.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,M)).next(L=>{A=L;const Q=[];for(const $ of m){const K=W2($,A.get($.key).overlayedDocument);K!=null&&Q.push(new Ka($.key,K,TT(K.value.mapValue),di.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,Q,m)}).next(L=>{w=L;const Q=L.applyToLocalDocumentSet(A,F);return p.documentOverlayCache.saveOverlays(P,L.batchId,Q)})}).then(()=>({batchId:w.batchId,changes:MT(A)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.uu[f.currentUser.toKey()];y||(y=new le(Ct)),y=y.insert(m,p),f.uu[f.currentUser.toKey()]=y}(a,o.batchId,n),await uu(a,o.changes),await Bh(a.remoteStore)}catch(o){const u=Vp(o,"Failed to persist write");n.reject(u)}}async function db(r,t){const n=wt(r);try{const a=await YD(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?Ft(f.tu,14607):o.removedDocuments.size>0&&(Ft(f.tu,42227),f.tu=!1))}),await uu(n,a,t)}catch(a){await co(a)}}function V0(r,t,n){const a=wt(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ru.forEach((u,f)=>{const m=f.view.ga(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=wt(f);p.onlineState=m;let y=!1;p.queries.forEach((E,A)=>{for(const w of A.Ra)w.ga(m)&&(y=!0)}),y&&Pp(p)}(a.eventManager,t),o.length&&a.nu.Q_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function zO(r,t,n){const a=wt(r);a.sharedClientState.updateQueryState(t,"rejected",n);const o=a._u.get(t),u=o&&o.key;if(u){let f=new le(gt.comparator);f=f.insert(u,Xe.newNoDocument(u,St.min()));const m=Vt().add(u),p=new Lh(St.min(),new Map,new le(Ct),f,m);await db(a,p),a.ou=a.ou.remove(u),a._u.delete(t),Lp(a)}else await Lm(a.localStore,t,!1).then(()=>Bm(a,t,n)).catch(co)}async function BO(r,t){const n=wt(r),a=t.batch.batchId;try{const o=await QD(n.localStore,t);pb(n,a,null),mb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await uu(n,o)}catch(o){await co(o)}}async function jO(r,t,n){const a=wt(r);try{const o=await function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(A=>(Ft(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(a.localStore,t);pb(a,t,n),mb(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await uu(a,o)}catch(o){await co(o)}}function mb(r,t){(r.cu.get(t)||[]).forEach(n=>{n.resolve()}),r.cu.delete(t)}function pb(r,t,n){const a=wt(r);let o=a.uu[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),a.uu[a.currentUser.toKey()]=o}}function Bm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.iu.get(t))r.ru.delete(a),n&&r.nu.Tu(a,n);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(a=>{r.au.containsKey(a)||gb(r,a)})}function gb(r,t){r.su.delete(t.path.canonicalString());const n=r.ou.get(t);n!==null&&(Dp(r.remoteStore,n),r.ou=r.ou.remove(t),r._u.delete(n),Lp(r))}function P0(r,t,n){for(const a of n)a instanceof cb?(r.au.addReference(a.key,t),qO(r,a)):a instanceof hb?(ct(kp,"Document no longer in limbo: "+a.key),r.au.removeReference(a.key,t),r.au.containsKey(a.key)||gb(r,a.key)):Tt(19791,{Iu:a})}function qO(r,t){const n=t.key,a=n.path.canonicalString();r.ou.get(n)||r.su.has(a)||(ct(kp,"New document in limbo: "+n),r.su.add(a),Lp(r))}function Lp(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const n=new gt(ne.fromString(t)),a=r.lu.next();r._u.set(a,new NO(n)),r.ou=r.ou.insert(n,a),rb(r.remoteStore,new Vr(fi(CT(n.path)),a,"TargetPurposeLimboResolution",Oh.le))}}async function uu(r,t,n){const a=wt(r),o=[],u=[],f=[];a.ru.isEmpty()||(a.ru.forEach((m,p)=>{f.push(a.Pu(p,t,n).then(y=>{var E;if((y||n)&&a.isPrimaryClient){const A=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Ip.Ps(p.targetId,y);u.push(A)}}))}),await Promise.all(f),a.nu.Q_(o),await async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>tt.forEach(y,w=>tt.forEach(w.ls,P=>E.persistence.referenceDelegate.addReference(A,w.targetId,P)).next(()=>tt.forEach(w.hs,P=>E.persistence.referenceDelegate.removeReference(A,w.targetId,P)))))}catch(A){if(!ho(A))throw A;ct(Cp,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const P=E.Ss.get(w),M=P.snapshotVersion,F=P.withLastLimboFreeSnapshotVersion(M);E.Ss=E.Ss.insert(w,F)}}}(a.localStore,u))}async function HO(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ct(kp,"User change. New user:",t.toKey());const a=await tb(n.localStore,t);n.currentUser=t,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new ft(et.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await uu(n,a.Ms)}}function FO(r,t){const n=wt(r),a=n._u.get(t);if(a&&a.tu)return Vt().add(a.key);{let o=Vt();const u=n.iu.get(t);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function yb(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=db.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zO.bind(null,t),t.nu.Q_=RO.bind(null,t.eventManager),t.nu.Tu=IO.bind(null,t.eventManager),t}function GO(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jO.bind(null,t),t}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uh(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return KD(this.persistence,new HD,t.initialUser,this.serializer)}Ru(t){return new JT(Rp.Ei,this.serializer)}Au(t){return new JD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class KO extends Th{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){Ft(this.persistence.referenceDelegate instanceof vh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new CD(a,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new JT(a=>vh.Ei(a,n),this.serializer)}}class jm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>V0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=HO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new AO}()}createDatastore(t){const n=Uh(t.databaseInfo.databaseId),a=function(u){return new rO(u)}(t.databaseInfo);return function(u,f,m,p){return new lO(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return function(a,o,u,f,m){return new cO(a,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>V0(this.syncEngine,n,0),function(){return C0.C()?new C0:new tO}())}createSyncEngine(t,n){return function(o,u,f,m,p,y,E){const A=new xO(o,u,f,m,p,y);return E&&(A.hu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=wt(o);ct(ja,"RemoteStore shutting down."),u.aa.add(5),await lu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Xi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="FirestoreClient";class YO{constructor(t,n,a,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=hT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ct(Kr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ct(Kr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=Vp(n,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function dm(r,t){r.asyncQueue.verifyOperationInProgress(),ct(Kr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await tb(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function k0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await $O(r);ct(Kr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(a=>O0(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>O0(t.remoteStore,o)),r._onlineComponents=t}async function $O(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Kr,"Using user provided OfflineComponentProvider");try{await dm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await dm(r,new Th)}}else ct(Kr,"Using default OfflineComponentProvider"),await dm(r,new KO(void 0));return r._offlineComponents}async function _b(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Kr,"Using user provided OnlineComponentProvider"),await k0(r,r._uninitializedComponentsProvider._online)):(ct(Kr,"Using default OnlineComponentProvider"),await k0(r,new jm))),r._onlineComponents}function XO(r){return _b(r).then(t=>t.syncEngine)}async function WO(r){const t=await _b(r),n=t.eventManager;return n.onListen=MO.bind(null,t.syncEngine),n.onUnlisten=kO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=VO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=LO.bind(null,t.syncEngine),n}function ZO(r,t,n={}){const a=new zr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new QO({next:w=>{E.yu(),f.enqueueAndForget(()=>wO(u,A)),w.fromCache&&p.source==="server"?y.reject(new ft(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new CO(m,E,{includeMetadataChanges:!0,Fa:!0});return SO(u,A)}(await WO(r),r.asyncQueue,t,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(r,t,n){if(!n)throw new ft(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function JO(r,t,n,a){if(t===!0&&a===!0)throw new ft(et.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function U0(r){if(!gt.isDocumentKey(r))throw new ft(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function z0(r){if(gt.isDocumentKey(r))throw new ft(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function $l(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(r);throw new ft(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firestore.googleapis.com",B0=!0;class j0{constructor(t){var n,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tb,this.ssl=B0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:B0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<RD)throw new ft(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vb((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qh{constructor(t,n,a,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new i2;switch(a.type){case"firstParty":return new o2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ft(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=L0.get(n);a&&(ct("ComponentProvider","Removing Datastore"),L0.delete(n),a.terminate())}(this),Promise.resolve()}}function tN(r,t,n,a={}){var o;const u=(r=$l(r,qh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==Tb&&u.host!==m&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!ka(p,f)&&(r._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=$e.MOCK_USER;else{y=y1(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ft(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(A)}r._authCredentials=new r2(new uT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new mo(this.firestore,t,this._query)}}class Mn{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Mn(this.firestore,t,this._key)}}class Br extends mo{constructor(t,n,a){super(t,n,CT(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Mn(this.firestore,null,new gt(t))}withConverter(t){return new Br(this.firestore,t,this._path)}}function bb(r,t,...n){if(r=rn(r),Eb("collection","path",t),r instanceof qh){const a=ne.fromString(t,...n);return z0(a),new Br(r,null,a)}{if(!(r instanceof Mn||r instanceof Br))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...n));return z0(a),new Br(r.firestore,null,a)}}function Ab(r,t,...n){if(r=rn(r),arguments.length===1&&(t=hT.newId()),Eb("doc","path",t),r instanceof qh){const a=ne.fromString(t,...n);return U0(a),new Mn(r,null,new gt(a))}{if(!(r instanceof Mn||r instanceof Br))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...n));return U0(a),new Mn(r.firestore,r instanceof Br?r.converter:null,new gt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="AsyncQueue";class H0{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new nb(this,"async_queue_retry"),this.ju=()=>{const a=fm();a&&ct(q0,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=t;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new zr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!ho(t))throw t;ct(q0,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(a=>{throw this.Ku=a,this.Wu=!1,Xi("INTERNAL UNHANDLED ERROR: ",F0(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=n,n}enqueueAfterDelay(t,n,a){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const o=Mp.createAndSchedule(this,t,n,a,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Tt(47125,{ec:F0(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function F0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Hh extends qh{constructor(t,n,a,o){super(t,n,a,o),this.type="firestore",this._queue=new H0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new H0(t),this._firestoreClient=void 0,await t}}}function eN(r,t){const n=typeof r=="object"?r:_E(),a=typeof r=="string"?r:fh,o=ip(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=p1("firestore");u&&tN(o,...u)}return o}function Sb(r){if(r._terminated)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||nN(r),r._firestoreClient}function nN(r){var t,n,a;const o=r._freezeSettings(),u=function(m,p,y,E){return new b2(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,vb(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new YO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t){this._byteString=t}static fromBase64String(t){try{return new io(Fe.fromBase64String(t))}catch(n){throw new ft(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new io(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=/^__.*__$/;class rN{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new Ka(t,this.data,this.fieldMask,n,this.fieldTransforms):new su(t,this.data,n,this.fieldTransforms)}}function Rb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{oc:r})}}class jp{constructor(t,n,a,o,u,f){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new jp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:a,cc:!1});return o.lc(t),o}hc(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:a,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return bh(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(Rb(this.oc)&&iN.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class aN{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Uh(t)}dc(t,n,a,o=!1){return new jp({oc:t,methodName:n,Ec:a,path:He.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ib(r){const t=r._freezeSettings(),n=Uh(r._databaseId);return new aN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function sN(r,t,n,a,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,t,n,o);Ob("Data must be an object, but it was:",f,a);const m=Cb(a,f);let p,y;if(u.merge)p=new jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=lN(t,A,n);if(!f.contains(w))throw new ft(et.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);cN(E,w)||E.push(w)}p=new jn(E),y=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=f.fieldTransforms;return new rN(new xn(m),p,y)}function oN(r,t,n,a=!1){return qp(n,r.dc(a?4:3,t))}function qp(r,t){if(Db(r=rn(r)))return Ob("Unsupported field value:",t,r),Cb(r,t);if(r instanceof wb)return function(a,o){if(!Rb(o.oc))throw o.Tc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let p=qp(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(a,o){if((a=rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return G2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ce.fromDate(a);return{timestampValue:_h(o.serializer,u)}}if(a instanceof Ce){const u=new Ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(a instanceof zp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof io)return{bytesValue:GT(o.serializer,a._byteString)};if(a instanceof Mn){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Bp)return function(f,m){return{mapValue:{fields:{[vT]:{stringValue:ET},[dh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Tc("VectorValues must only contain numeric values.");return Ep(m.serializer,y)})}}}}}}(a,o);throw o.Tc(`Unsupported field value: ${jh(a)}`)}(r,t)}function Cb(r,t){const n={};return dT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fa(r,(a,o)=>{const u=qp(o,t.uc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function Db(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ce||r instanceof zp||r instanceof io||r instanceof Mn||r instanceof wb||r instanceof Bp)}function Ob(r,t,n){if(!Db(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=jh(n);throw a==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+a)}}function lN(r,t,n){if((t=rn(t))instanceof Up)return t._internalPath;if(typeof t=="string")return Nb(r,t);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const uN=new RegExp("[~\\*/\\[\\]]");function Nb(r,t,n){if(t.search(uN)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Up(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,t,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new ft(et.INVALID_ARGUMENT,m+r+p)}function cN(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t,n,a,o,u){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new hN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Hp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hN extends xb{data(){return super.data()}}function Hp(r,t){return typeof t=="string"?Nb(r,t):t instanceof Up?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fp{}class dN extends Fp{}function mN(r,t,...n){let a=[];t instanceof Fp&&a.push(t),a=a.concat(n),function(u){const f=u.filter(p=>p instanceof Gp).length,m=u.filter(p=>p instanceof Fh).length;if(f>1||f>0&&m>0)throw new ft(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Fh extends dN{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new Fh(t,n,a)}_apply(t){const n=this._parse(t);return Mb(t._query,n),new mo(t.firestore,t.converter,Nm(t._query,n))}_parse(t){const n=Ib(t.firestore);return function(u,f,m,p,y,E,A){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ft(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){K0(A,E);const M=[];for(const F of A)M.push(G0(p,u,F));w={arrayValue:{values:M}}}else w=G0(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||K0(A,E),w=oN(m,f,A,E==="in"||E==="not-in");return Te.create(y,E,w)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function pN(r,t,n){const a=t,o=Hp("where",r);return Fh._create(o,a,n)}class Gp extends Fp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Gp(t,n)}_parse(t){const n=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Mb(f,p),f=Nm(f,p)}(t._query,n),new mo(t.firestore,t.converter,Nm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function G0(r,t,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new ft(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DT(t)&&n.indexOf("/")!==-1)throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(ne.fromString(n));if(!gt.isDocumentKey(a))throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return s0(r,new gt(a))}if(n instanceof Mn)return s0(r,n._key);throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function K0(r,t){if(!Array.isArray(r)||r.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Mb(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class gN{convertValue(t,n="none"){switch(Fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return Fa(t,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(t){var n,a,o;const u=(o=(a=(n=t.fields)===null||n===void 0?void 0:n[dh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>pe(f.doubleValue));return new Bp(u)}convertGeoPoint(t){return new zp(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(t,n){switch(n){case"previous":const a=xh(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Fl(t));default:return null}}convertTimestamp(t){const n=qr(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=ne.fromString(t);Ft(WT(a),9688,{name:t});const o=new Gl(a.get(1),a.get(3)),u=new gt(a.popFirst(5));return o.isEqual(n)||Xi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(r,t,n){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _N extends xb{constructor(t,n,a,o,u,f){super(t,n,a,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(Hp("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class eh extends _N{data(t={}){return super.data(t)}}class vN{constructor(t,n,a,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(a=>{t.call(n,new eh(this._firestore,this._userDataWriter,a.key,a,new Hc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:EN(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}class TN extends gN{constructor(t){super(),this.firestore=t}convertBytes(t){return new io(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function bN(r){r=$l(r,mo);const t=$l(r.firestore,Hh),n=Sb(t),a=new TN(t);return fN(r._query),ZO(n,r._query).then(o=>new vN(t,a,r,o))}function AN(r){return Vb($l(r.firestore,Hh),[new Tp(r._key,di.none())])}function SN(r,t){const n=$l(r.firestore,Hh),a=Ab(r),o=yN(r.converter,t);return Vb(n,[sN(Ib(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,di.exists(!1))]).then(()=>a)}function Vb(r,t){return function(a,o){const u=new zr;return a.asyncQueue.enqueueAndForget(async()=>UO(await XO(a),o,u)),u.promise}(Sb(r),t)}(function(t,n=!0){(function(o){uo=o})(oo),Xs(new La("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new Hh(new a2(a.getProvider("auth-internal")),new l2(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Lr(Yv,$v,t),Lr(Yv,$v,"esm2017")})();const wN={apiKey:"AIzaSyA0iZOWhn6MRezrvbbfDUEiDgxGUD_B3kM",authDomain:"artventure-cbd70.firebaseapp.com",projectId:"artventure-cbd70",storageBucket:"artventure-cbd70.firebasestorage.app",messagingSenderId:"387373998354",appId:"1:387373998354:web:01325fe3040e9c407f93cb",measurementId:"G-PDD6RT7F4L"},Pb=yE(wN),Ll=dp(Pb),qm=eN(Pb);function kb(){const r=Sh(),[t,n]=q.useState(!1),a=q.useRef(null),o=()=>{t?(a.current.style.right="-30vh",n(!1)):(a.current.style.right="0vh",n(!0))},u=async()=>{try{await GE(Ll),r("/")}catch(f){console.error("Logout failed:",f.message)}};return it.jsxs("header",{className:"header",children:[it.jsx("h1",{children:"ARTVENTURE"}),it.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-menu-button-wide i",viewBox:"0 0 16 16",onClick:o,children:[it.jsx("path",{d:"M0 1.5A1.5 1.5 0 0 1 1.5 0h13A1.5 1.5 0 0 1 16 1.5v2A1.5 1.5 0 0 1 14.5 5h-13A1.5 1.5 0 0 1 0 3.5z"}),it.jsx("path",{d:"M2 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m10.823.323..."})]}),it.jsx("ul",{ref:a,style:{right:"-30vh",transition:"right 0.3s"},children:it.jsxs("li",{children:[it.jsx("button",{style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:it.jsx(zl,{to:"/profile",children:"Profile"})}),it.jsx("button",{style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:it.jsx(zl,{to:"/home",children:"Home"})}),it.jsx("button",{onClick:u,style:{background:"red",padding:"10px",border:"none",color:"white",cursor:"pointer"},children:"Logout"})]})})]})}function Lb(r){var t,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(n=Lb(r[t]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function Pa(){for(var r,t,n=0,a="",o=arguments.length;n<o;n++)(r=arguments[n])&&(t=Lb(r))&&(a&&(a+=" "),a+=t);return a}function RN(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}RN(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var cu=r=>typeof r=="number"&&!isNaN(r),qa=r=>typeof r=="string",Zi=r=>typeof r=="function",IN=r=>qa(r)||cu(r),Hm=r=>qa(r)||Zi(r)?r:null,CN=(r,t)=>r===!1||cu(r)&&r>0?r:t,Fm=r=>q.isValidElement(r)||qa(r)||Zi(r)||cu(r);function DN(r,t,n=300){let{scrollHeight:a,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=a+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function ON({enter:r,exit:t,appendPosition:n=!1,collapse:a=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:y,isIn:E,playToast:A}){let w=n?`${r}--${f}`:r,P=n?`${t}--${f}`:t,M=q.useRef(0);return q.useLayoutEffect(()=>{let F=y.current,L=w.split(" "),Q=$=>{$.target===y.current&&(A(),F.removeEventListener("animationend",Q),F.removeEventListener("animationcancel",Q),M.current===0&&$.type!=="animationcancel"&&F.classList.remove(...L))};F.classList.add(...L),F.addEventListener("animationend",Q),F.addEventListener("animationcancel",Q)},[]),q.useEffect(()=>{let F=y.current,L=()=>{F.removeEventListener("animationend",L),a?DN(F,p,o):p()};E||(m?L():(M.current=1,F.className+=` ${P}`,F.addEventListener("animationend",L)))},[E]),ie.createElement(ie.Fragment,null,u)}}function Q0(r,t){return{content:Ub(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function Ub(r,t,n=!1){return q.isValidElement(r)&&!qa(r.type)?q.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Zi(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):r}function NN({closeToast:r,theme:t,ariaLabel:n="close"}){return ie.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),r(!0)},"aria-label":n},ie.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ie.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function xN({delay:r,isRunning:t,closeToast:n,type:a="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:y,theme:E}){let A=o||f&&m===0,w={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};f&&(w.transform=`scaleX(${m})`);let P=Pa("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":p}),M=Zi(u)?u({rtl:p,type:a,defaultClassName:P}):Pa(P,u),F={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{y&&n()}};return ie.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},ie.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${a}`}),ie.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:M,style:w,...F}))}var MN=1,zb=()=>`${MN++}`;function VN(r,t,n){let a=1,o=0,u=[],f=[],m=t,p=new Map,y=new Set,E=$=>(y.add($),()=>y.delete($)),A=()=>{f=Array.from(p.values()),y.forEach($=>$())},w=({containerId:$,toastId:K,updateId:rt})=>{let lt=$?$!==r:r!==1,mt=p.has(K)&&rt==null;return lt||mt},P=($,K)=>{p.forEach(rt=>{var lt;(K==null||K===rt.props.toastId)&&((lt=rt.toggle)==null||lt.call(rt,$))})},M=$=>{var K,rt;(rt=(K=$.props)==null?void 0:K.onClose)==null||rt.call(K,$.removalReason),$.isActive=!1},F=$=>{if($==null)p.forEach(M);else{let K=p.get($);K&&M(K)}A()},L=()=>{o-=u.length,u=[]},Q=$=>{var K,rt;let{toastId:lt,updateId:mt}=$.props,C=mt==null;$.staleId&&p.delete($.staleId),$.isActive=!0,p.set(lt,$),A(),n(Q0($,C?"added":"updated")),C&&((rt=(K=$.props).onOpen)==null||rt.call(K))};return{id:r,props:m,observe:E,toggle:P,removeToast:F,toasts:p,clearQueue:L,buildToast:($,K)=>{if(w(K))return;let{toastId:rt,updateId:lt,data:mt,staleId:C,delay:S}=K,R=lt==null;R&&o++;let O={...m,style:m.toastStyle,key:a++,...Object.fromEntries(Object.entries(K).filter(([k,D])=>D!=null)),toastId:rt,updateId:lt,data:mt,isIn:!1,className:Hm(K.className||m.toastClassName),progressClassName:Hm(K.progressClassName||m.progressClassName),autoClose:K.isLoading?!1:CN(K.autoClose,m.autoClose),closeToast(k){p.get(rt).removalReason=k,F(rt)},deleteToast(){let k=p.get(rt);if(k!=null){if(n(Q0(k,"removed")),p.delete(rt),o--,o<0&&(o=0),u.length>0){Q(u.shift());return}A()}}};O.closeButton=m.closeButton,K.closeButton===!1||Fm(K.closeButton)?O.closeButton=K.closeButton:K.closeButton===!0&&(O.closeButton=Fm(m.closeButton)?m.closeButton:!0);let V={content:$,props:O,staleId:C};m.limit&&m.limit>0&&o>m.limit&&R?u.push(V):cu(S)?setTimeout(()=>{Q(V)},S):Q(V)},setProps($){m=$},setToggle:($,K)=>{let rt=p.get($);rt&&(rt.toggle=K)},isToastActive:$=>{var K;return(K=p.get($))==null?void 0:K.isActive},getSnapshot:()=>f}}var nn=new Map,Xl=[],Gm=new Set,PN=r=>Gm.forEach(t=>t(r)),Bb=()=>nn.size>0;function kN(){Xl.forEach(r=>qb(r.content,r.options)),Xl=[]}var LN=(r,{containerId:t})=>{var n;return(n=nn.get(t||1))==null?void 0:n.toasts.get(r)};function jb(r,t){var n;if(t)return!!((n=nn.get(t))!=null&&n.isToastActive(r));let a=!1;return nn.forEach(o=>{o.isToastActive(r)&&(a=!0)}),a}function UN(r){if(!Bb()){Xl=Xl.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||IN(r))nn.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=nn.get(r.containerId);t?t.removeToast(r.id):nn.forEach(n=>{n.removeToast(r.id)})}}var zN=(r={})=>{nn.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function qb(r,t){Fm(r)&&(Bb()||Xl.push({content:r,options:t}),nn.forEach(n=>{n.buildToast(r,t)}))}function BN(r){var t;(t=nn.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function Hb(r,t){nn.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(r,t==null?void 0:t.id)})}function jN(r){let t=r.containerId||1;return{subscribe(n){let a=VN(t,r,PN);nn.set(t,a);let o=a.observe(n);return kN(),()=>{o(),nn.delete(t)}},setProps(n){var a;(a=nn.get(t))==null||a.setProps(n)},getSnapshot(){var n;return(n=nn.get(t))==null?void 0:n.getSnapshot()}}}function qN(r){return Gm.add(r),()=>{Gm.delete(r)}}function HN(r){return r&&(qa(r.toastId)||cu(r.toastId))?r.toastId:zb()}function hu(r,t){return qb(r,t),t.toastId}function Gh(r,t){return{...t,type:t&&t.type||r,toastId:HN(t)}}function Kh(r){return(t,n)=>hu(t,Gh(r,n))}function Bt(r,t){return hu(r,Gh("default",t))}Bt.loading=(r,t)=>hu(r,Gh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function FN(r,{pending:t,error:n,success:a},o){let u;t&&(u=qa(t)?Bt.loading(t,o):Bt.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(y,E,A)=>{if(E==null){Bt.dismiss(u);return}let w={type:y,...f,...o,data:A},P=qa(E)?{render:E}:E;return u?Bt.update(u,{...w,...P}):Bt(P.render,{...w,...P}),A},p=Zi(r)?r():r;return p.then(y=>m("success",a,y)).catch(y=>m("error",n,y)),p}Bt.promise=FN;Bt.success=Kh("success");Bt.info=Kh("info");Bt.error=Kh("error");Bt.warning=Kh("warning");Bt.warn=Bt.warning;Bt.dark=(r,t)=>hu(r,Gh("default",{theme:"dark",...t}));function GN(r){UN(r)}Bt.dismiss=GN;Bt.clearWaitingQueue=zN;Bt.isActive=jb;Bt.update=(r,t={})=>{let n=LN(r,t);if(n){let{props:a,content:o}=n,u={delay:100,...a,...t,toastId:t.toastId||r,updateId:zb()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,hu(f,u)}};Bt.done=r=>{Bt.update(r,{progress:1})};Bt.onChange=qN;Bt.play=r=>Hb(!0,r);Bt.pause=r=>Hb(!1,r);function KN(r){var t;let{subscribe:n,getSnapshot:a,setProps:o}=q.useRef(jN(r)).current;o(r);let u=(t=q.useSyncExternalStore(n,a,a))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(y=>{let{position:E}=y.props;p.has(E)||p.set(E,[]),p.get(E).push(y)}),Array.from(p,y=>m(y[0],y[1]))}return{getToastToRender:f,isToastActive:jb,count:u==null?void 0:u.length}}function QN(r){let[t,n]=q.useState(!1),[a,o]=q.useState(!1),u=q.useRef(null),f=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:y,onClick:E,closeOnClick:A}=r;BN({id:r.toastId,containerId:r.containerId,fn:n}),q.useEffect(()=>{if(r.pauseOnFocusLoss)return w(),()=>{P()}},[r.pauseOnFocusLoss]);function w(){document.hasFocus()||Q(),window.addEventListener("focus",L),window.addEventListener("blur",Q)}function P(){window.removeEventListener("focus",L),window.removeEventListener("blur",Q)}function M(C){if(r.draggable===!0||r.draggable===C.pointerType){$();let S=u.current;f.canCloseOnClick=!0,f.canDrag=!0,S.style.transition="none",r.draggableDirection==="x"?(f.start=C.clientX,f.removalDistance=S.offsetWidth*(r.draggablePercent/100)):(f.start=C.clientY,f.removalDistance=S.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function F(C){let{top:S,bottom:R,left:O,right:V}=u.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&r.pauseOnHover&&C.clientX>=O&&C.clientX<=V&&C.clientY>=S&&C.clientY<=R?Q():L()}function L(){n(!0)}function Q(){n(!1)}function $(){f.didMove=!1,document.addEventListener("pointermove",rt),document.addEventListener("pointerup",lt)}function K(){document.removeEventListener("pointermove",rt),document.removeEventListener("pointerup",lt)}function rt(C){let S=u.current;if(f.canDrag&&S){f.didMove=!0,t&&Q(),r.draggableDirection==="x"?f.delta=C.clientX-f.start:f.delta=C.clientY-f.start,f.start!==C.clientX&&(f.canCloseOnClick=!1);let R=r.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;S.style.transform=`translate3d(${R},0)`,S.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function lt(){K();let C=u.current;if(f.canDrag&&f.didMove&&C){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let mt={onPointerDown:M,onPointerUp:F};return m&&p&&(mt.onMouseEnter=Q,r.stacked||(mt.onMouseLeave=L)),A&&(mt.onClick=C=>{E&&E(C),f.canCloseOnClick&&y(!0)}),{playToast:L,pauseToast:Q,isRunning:t,preventExitTransition:a,toastRef:u,eventHandlers:mt}}var YN=typeof window<"u"?q.useLayoutEffect:q.useEffect,Qh=({theme:r,type:t,isLoading:n,...a})=>ie.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function $N(r){return ie.createElement(Qh,{...r},ie.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function XN(r){return ie.createElement(Qh,{...r},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function WN(r){return ie.createElement(Qh,{...r},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ZN(r){return ie.createElement(Qh,{...r},ie.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function JN(){return ie.createElement("div",{className:"Toastify__spinner"})}var Km={info:XN,warning:$N,success:WN,error:ZN,spinner:JN},tx=r=>r in Km;function ex({theme:r,type:t,isLoading:n,icon:a}){let o=null,u={theme:r,type:t};return a===!1||(Zi(a)?o=a({...u,isLoading:n}):q.isValidElement(a)?o=q.cloneElement(a,u):n?o=Km.spinner():tx(t)&&(o=Km[t](u))),o}var nx=r=>{let{isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:o,playToast:u}=QN(r),{closeButton:f,children:m,autoClose:p,onClick:y,type:E,hideProgressBar:A,closeToast:w,transition:P,position:M,className:F,style:L,progressClassName:Q,updateId:$,role:K,progress:rt,rtl:lt,toastId:mt,deleteToast:C,isIn:S,isLoading:R,closeOnClick:O,theme:V,ariaLabel:k}=r,D=Pa("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":lt},{"Toastify__toast--close-on-click":O}),be=Zi(F)?F({rtl:lt,position:M,type:E,defaultClassName:D}):Pa(D,F),ee=ex(r),X=!!rt||!p,ot={closeToast:w,type:E,theme:V},dt=null;return f===!1||(Zi(f)?dt=f(ot):q.isValidElement(f)?dt=q.cloneElement(f,ot):dt=NN(ot)),ie.createElement(P,{isIn:S,done:C,position:M,preventExitTransition:n,nodeRef:a,playToast:u},ie.createElement("div",{id:mt,tabIndex:0,onClick:y,"data-in":S,className:be,...o,style:L,ref:a,...S&&{role:K,"aria-label":k}},ee!=null&&ie.createElement("div",{className:Pa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ee),Ub(m,r,!t),dt,!r.customProgressBar&&ie.createElement(xN,{...$&&!X?{key:`p-${$}`}:{},rtl:lt,theme:V,delay:p,isRunning:t,isIn:S,closeToast:w,hide:A,type:E,className:Q,controlledProgress:X,progress:rt||0})))},ix=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),rx=ON(ix("bounce",!0)),ax={position:"top-right",transition:rx,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function sx(r){let t={...ax,...r},n=r.stacked,[a,o]=q.useState(!0),u=q.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=KN(t),{className:y,style:E,rtl:A,containerId:w,hotKeys:P}=t;function M(L){let Q=Pa("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":A});return Zi(y)?y({position:L,rtl:A,defaultClassName:Q}):Pa(Q,Hm(y))}function F(){n&&(o(!0),Bt.play())}return YN(()=>{var L;if(n){let Q=u.current.querySelectorAll('[data-in="true"]'),$=12,K=(L=t.position)==null?void 0:L.includes("top"),rt=0,lt=0;Array.from(Q).reverse().forEach((mt,C)=>{let S=mt;S.classList.add("Toastify__toast--stacked"),C>0&&(S.dataset.collapsed=`${a}`),S.dataset.pos||(S.dataset.pos=K?"top":"bot");let R=rt*(a?.2:1)+(a?0:$*C);S.style.setProperty("--y",`${K?R:R*-1}px`),S.style.setProperty("--g",`${$}`),S.style.setProperty("--s",`${1-(a?lt:0)}`),rt+=S.offsetHeight,lt+=.025})}},[a,p,n]),q.useEffect(()=>{function L(Q){var $;let K=u.current;P(Q)&&(($=K.querySelector('[tabIndex="0"]'))==null||$.focus(),o(!1),Bt.pause()),Q.key==="Escape"&&(document.activeElement===K||K!=null&&K.contains(document.activeElement))&&(o(!0),Bt.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[P]),ie.createElement("section",{ref:u,className:"Toastify",id:w,onMouseEnter:()=>{n&&(o(!1),Bt.pause())},onMouseLeave:F,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((L,Q)=>{let $=Q.length?{...E}:{...E,pointerEvents:"none"};return ie.createElement("div",{tabIndex:-1,className:M(L),"data-stacked":n,style:$,key:`c-${L}`},Q.map(({content:K,props:rt})=>ie.createElement(nx,{...rt,stacked:n,collapseAll:F,isIn:m(rt.toastId,rt.containerId),key:`t-${rt.key}`},K)))}))}const ox=({selectedDepartment:r})=>{const[t,n]=q.useState([]),[a,o]=q.useState(1),[u,f]=q.useState(!1),m=100,p=async E=>{const A=dp().currentUser;if(!A){Bt.warn("Please log in to add favorites!",{position:"top-right",autoClose:2500,style:{background:"#fff7ed",color:"#b45309",fontWeight:"bold",border:"1px solid #fdba74",borderRadius:"10px"}});return}try{await SN(bb(qm,"favorites"),{uid:A.uid,image_id:E,timestamp:new Date}),Bt.success("Image added to favorites!",{position:"top-right",autoClose:2500,style:{background:"#ecfdf5",color:"#065f46",fontWeight:"bold",border:"1px solid #6ee7b7",borderRadius:"10px"}})}catch(w){console.error("Saving failed:",w),Bt.error("Could not save image",{position:"top-right",autoClose:3e3,style:{background:"#fef2f2",color:"#b91c1c",fontWeight:"bold",border:"1px solid #fca5a5",borderRadius:"10px"}})}},y=async(E=!1)=>{f(!0),E&&(o(1),n([]));const A=[],w=5;for(let M=E?1:a;M<=w;M++){const L=await(await fetch(`https://api.artic.edu/api/v1/artworks?page=${M}&limit=${m}`)).json();A.push(...L.data)}const P=A.filter(M=>M.department_title===r);n(M=>[...M,...P]),o(M=>M+1),f(!1)};return q.useEffect(()=>{r&&y(!0)},[r]),it.jsxs("div",{className:"data-container",style:{padding:"20px"},children:[it.jsx("h3",{children:r}),it.jsx("ul",{style:{columnCount:3,columnGap:"20px",listStyle:"none",padding:0,marginTop:"30px"},children:t.map(E=>it.jsxs("li",{style:{position:"relative",breakInside:"avoid",marginBottom:"20px",border:"1px solid #ccc",borderRadius:"10px"},children:[it.jsx("span",{onClick:()=>p(E.image_id),style:{position:"absolute",top:"10px",right:"10px",fontSize:"24px",cursor:"pointer",color:"red",background:"white",borderRadius:"50%",padding:"4px",zIndex:1},children:""}),E.image_id?it.jsx("img",{src:`https://www.artic.edu/iiif/2/${E.image_id}/full/843,/0/default.jpg`,alt:E.title,style:{width:"100%",height:"auto",borderRadius:"8px",display:"block"}}):it.jsx("p",{children:"No picture"})]},E.id))}),it.jsx("button",{id:"more",onClick:()=>y(!1),disabled:u,children:u?"Loading...":"More"})]})};function lx(){const[r,t]=q.useState([]),[n,a]=q.useState("");return q.useEffect(()=>{(async()=>{const u=[];for(let p=1;p<=5;p++){const E=await(await fetch(`https://api.artic.edu/api/v1/artworks?page=${p}&limit=100`)).json();u.push(...E.data)}const m=[...new Set(u.map(p=>p.department_title).filter(Boolean))];t(m)})()},[]),it.jsxs(it.Fragment,{children:[it.jsx(kb,{}),it.jsxs("div",{style:{padding:"20px"},children:[it.jsx("h2",{children:"select department: "}),it.jsxs("select",{onChange:o=>a(o.target.value),defaultValue:"",children:[it.jsx("option",{value:"",children:"-- select department --"}),r.map((o,u)=>it.jsx("option",{value:o,children:o},u))]})]}),n&&it.jsx(ox,{selectedDepartment:n})]})}function ux(){const[r,t]=q.useState(""),[n,a]=q.useState(""),[o,u]=q.useState(null),[f,m]=q.useState(!0),[p,y]=q.useState(""),[E,A]=q.useState(""),w=Sh(),P=async F=>{F.preventDefault(),y(""),A("");try{if(f){const L=await qI(Ll,r,n);u(L.user),A("Logged in successfully "),w("/home")}else{const L=await jI(Ll,r,n);u(L.user),A("Account created successfully "),w("/home")}}catch(L){y(L.message)}},M=async()=>{await GE(Ll),u(null)};return it.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f5f5f5"},children:it.jsx("div",{style:{maxWidth:"400px",width:"100%",padding:"2rem",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",textAlign:"center"},children:o?it.jsxs(it.Fragment,{children:[it.jsxs("h2",{children:["Welcome, ",o.email]}),it.jsx("button",{onClick:M,style:{marginTop:"1rem",padding:"0.75rem 1.5rem",backgroundColor:"#dc3545",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Logout"})]}):it.jsxs(it.Fragment,{children:[it.jsx("h2",{style:{marginBottom:"1rem"},children:f?"Login":"Register"}),it.jsxs("form",{onSubmit:P,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[it.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:F=>t(F.target.value),required:!0,style:{padding:"0.75rem",borderRadius:"5px",border:"1px solid #ccc"}}),it.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:F=>a(F.target.value),required:!0,style:{padding:"0.75rem",borderRadius:"5px",border:"1px solid #ccc"}}),it.jsx("button",{type:"submit",style:{padding:"0.75rem",backgroundColor:"#bae8e8",color:"#272343",border:"none",borderRadius:"5px",cursor:"pointer"},children:f?"Login":"Register"})]}),it.jsx("button",{onClick:()=>m(!f),style:{marginTop:"1rem",background:"none",border:"none",color:"#007bff",cursor:"pointer"},children:f?"Don't have an account? Register":"Already have an account? Login"}),E&&it.jsx("p",{style:{color:"green",marginTop:"1rem",fontSize:"0.9rem"},children:E}),p&&it.jsx("p",{style:{color:"red",marginTop:"0.5rem",fontSize:"0.9rem"},children:p})]})})})}function cx(){const[r,t]=q.useState([]),[n,a]=q.useState(!0);q.useEffect(()=>{(async()=>{const f=dp().currentUser;if(!f)return;const m=mN(bb(qm,"favorites"),pN("uid","==",f.uid)),y=(await bN(m)).docs.map(E=>({id:E.id,image_id:E.data().image_id}));t(y),a(!1)})()},[]);const o=async u=>{try{await AN(Ab(qm,"favorites",u)),t(f=>f.filter(m=>m.id!==u)),Bt.success("Image removed from favorites!",{position:"top-right",autoClose:2500,style:{background:"#fef2f2",color:"#b91c1c",fontWeight:"bold",border:"1px solid #fca5a5",borderRadius:"10px"}})}catch(f){console.error("Failed to delete image:",f),Bt.error(" Something went wrong!",{position:"top-right",autoClose:3e3,style:{background:"#fef9c3",color:"#a16207",fontWeight:"bold",border:"1px solid #fde68a",borderRadius:"10px"}})}};return it.jsxs(it.Fragment,{children:[it.jsx(kb,{}),it.jsxs("div",{className:"profile",style:{padding:"20px"},children:[it.jsx("h1",{children:"Profile"}),it.jsx("p",{children:"Favorite Images"}),n?it.jsx("p",{children:"Loading..."}):r.length===0?it.jsx("p",{children:"No favorite images yet."}):it.jsx("ul",{style:{columnCount:3,columnGap:"20px",listStyle:"none",padding:0,marginTop:"30px"},children:r.map(u=>it.jsxs("li",{style:{position:"relative",breakInside:"avoid",marginBottom:"20px",border:"1px solid #ccc",borderRadius:"10px"},children:[it.jsx("span",{onClick:()=>o(u.id),style:{position:"absolute",top:"10px",right:"10px",fontSize:"18px",color:"red",background:"white",borderRadius:"50%",padding:"5px",cursor:"pointer",zIndex:2},children:""}),it.jsx("img",{src:`https://www.artic.edu/iiif/2/${u.image_id}/full/843,/0/default.jpg`,alt:"Favorite artwork",style:{width:"100%",height:"auto",borderRadius:"8px",display:"block"}})]},u.id))})]})]})}const Y0=({children:r})=>{const[t,n]=q.useState(null),[a,o]=q.useState(!0);return q.useEffect(()=>{const u=GI(Ll,f=>{n(f),o(!1)});return()=>u()},[]),a?it.jsx("div",{children:"Loading..."}):t?r:it.jsx(Tw,{to:"/login",replace:!0})};function hx(){return it.jsxs(Qw,{basename:"/ARTVENTURE",children:[it.jsxs(Aw,{children:[it.jsx(Bs,{path:"/",element:it.jsx(a1,{})}),it.jsx(Bs,{path:"/login",element:it.jsx(ux,{})}),it.jsx(Bs,{path:"/home",element:it.jsx(Y0,{children:it.jsx(lx,{})})}),it.jsx(Bs,{path:"/profile",element:it.jsx(Y0,{children:it.jsx(cx,{})})}),it.jsx(Bs,{path:"*",element:it.jsx(s1,{})})]}),it.jsx(sx,{position:"top-right",autoClose:2e3})]})}SS.createRoot(document.getElementById("root")).render(it.jsx(q.StrictMode,{children:it.jsx(hx,{})}));
